(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],o):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=o(e.Vue,e.dateFns))})(this,function(e,o){"use strict";function Xe(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Xe.compatConfig={MODE:3};function nn(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}nn.compatConfig={MODE:3};function vt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}vt.compatConfig={MODE:3};function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Mt.compatConfig={MODE:3};function Dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Dt.compatConfig={MODE:3};function St(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}St.compatConfig={MODE:3};function Ct(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Ct.compatConfig={MODE:3};const Te=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),Bt=(t,n,l)=>{const a=Tt(t,n,l);return a||x()},En=(t,n,l)=>{const a=n.dateInTz?Te(new Date(t),n.dateInTz):x(t);return l?Be(a,!0):a},Tt=(t,n,l)=>{if(!t)return null;const a=l?Be(x(t),!0):x(t);return n?n.exactMatch?En(t,n,l):Te(a,n.timezone):a},_n=t=>{if(!t)return 0;const n=new Date,l=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),a=new Date(n.toLocaleString("en-US",{timeZone:t})),r=a.getTimezoneOffset()/60;return(+l-+a)/(1e3*60*60)-r};var Ne=(t=>(t.month="month",t.year="year",t))(Ne||{}),xe=(t=>(t.top="top",t.bottom="bottom",t))(xe||{}),Ke=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Ke||{}),De=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(De||{});const Yn=["timestamp","date","iso"];var Ce=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Ce||{}),ge=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(ge||{});function an(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function Vn(t){return n=>o.format(Te(new Date(`2017-01-0${n}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:t})}const On=(t,n,l)=>{const a=[1,2,3,4,5,6,7];let r;if(t!==null)try{r=a.map(Vn(t))}catch{r=a.map(an(n))}else r=a.map(an(n));const f=r.slice(0,l),p=r.slice(l+1,r.length);return[r[l]].concat(...p).concat(...f)},$t=(t,n,l)=>{const a=[];for(let r=+t[0];r<=+t[1];r++)a.push({value:+r,text:cn(r,n)});return l?a.reverse():a},rn=(t,n,l)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(f=>{const p=f<10?`0${f}`:f;return new Date(`2017-${p}-01T00:00:00+00:00`)});if(t!==null)try{const f=l==="long"?"LLLL":"LLL";return a.map((p,w)=>{const c=o.format(Te(p,"UTC"),f,{locale:t});return{text:c.charAt(0).toUpperCase()+c.substring(1),value:w}})}catch{}const r=new Intl.DateTimeFormat(n,{month:l,timeZone:"UTC"});return a.map((f,p)=>{const w=r.format(f);return{text:w.charAt(0).toUpperCase()+w.substring(1),value:p}})},In=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ve=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},zn=t=>({type:"dot",...t??{}}),ln=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,At={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},we=t=>t,on=t=>t===0?t:!t||isNaN(+t)?null:+t,sn=t=>t===null,un=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Ln=t=>{const n=[],l=a=>a.filter(r=>r);for(let a=0;a<t.length;a+=3){const r=[t[a],t[a+1],t[a+2]];n.push(l(r))}return n},tt=(t,n,l)=>{const a=l!=null,r=n!=null;if(!a&&!r)return!1;const f=+l,p=+n;return a&&r?+t>f||+t<p:a?+t>f:r?+t<p:!1},Je=(t,n)=>Ln(t).map(l=>l.map(a=>{const{active:r,disabled:f,isBetween:p,highlighted:w}=n(a);return{...a,active:r,disabled:f,className:{dp__overlay_cell_active:r,dp__overlay_cell:!r,dp__overlay_cell_disabled:f,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:f&&r,dp__cell_in_between:p,"dp--highlighted":w}}})),Ie=(t,n,l=!1)=>{t&&n.allowStopPropagation&&(l&&t.stopImmediatePropagation(),t.stopPropagation())},Hn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Un(t,n){let l=[...document.querySelectorAll(Hn())];l=l.filter(r=>!t.contains(r)||r.hasAttribute("data-datepicker-instance"));const a=l.indexOf(t);if(a>=0&&(n?a-1>=0:a+1<=l.length))return l[a+(n?-1:1)]}const Wn=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),cn=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),Pt=t=>o.format(t,"dd-MM-yyyy"),Rt=t=>Array.isArray(t),ct=(t,n)=>n.get(Pt(t)),jn=(t,n)=>t?n?n instanceof Map?!!ct(t,n):n(x(t)):!1:!0,$e=(t,n,l=!1)=>{if(t.key===ge.enter||t.key===ge.space)return l&&t.preventDefault(),n()},dn=(t,n,l,a,r,f)=>{const p=o.parse(t,n.slice(0,t.length),new Date,{locale:f});return o.isValid(p)&&o.isDate(p)?a||r?p:o.set(p,{hours:+l.hours,minutes:+(l==null?void 0:l.minutes),seconds:+(l==null?void 0:l.seconds),milliseconds:0}):null},xn=(t,n,l,a,r,f)=>{const p=Array.isArray(l)?l[0]:l;if(typeof n=="string")return dn(t,n,p,a,r,f);if(Array.isArray(n)){let w=null;for(const c of n)if(w=dn(t,c,p,a,r,f),w)break;return w}return typeof n=="function"?n(t):null},x=t=>t?new Date(t):new Date,Kn=(t,n,l)=>{if(n){const r=(t.getMonth()+1).toString().padStart(2,"0"),f=t.getDate().toString().padStart(2,"0"),p=t.getHours().toString().padStart(2,"0"),w=t.getMinutes().toString().padStart(2,"0"),c=l?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${r}-${f}T${p}:${w}:${c}.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},Be=(t,n)=>{const l=x(JSON.parse(JSON.stringify(t))),a=o.set(l,{hours:0,minutes:0,seconds:0,milliseconds:0});return n?o.startOfMonth(a):a},ze=(t,n,l,a)=>{let r=t?x(t):x();return(n||n===0)&&(r=o.setHours(r,+n)),(l||l===0)&&(r=o.setMinutes(r,+l)),(a||a===0)&&(r=o.setSeconds(r,+a)),o.setMilliseconds(r,0)},he=(t,n)=>!t||!n?!1:o.isBefore(Be(t),Be(n)),de=(t,n)=>!t||!n?!1:o.isEqual(Be(t),Be(n)),ke=(t,n)=>!t||!n?!1:o.isAfter(Be(t),Be(n)),dt=(t,n,l)=>t!=null&&t[0]&&(t!=null&&t[1])?ke(l,t[0])&&he(l,t[1]):t!=null&&t[0]&&n?ke(l,t[0])&&he(l,n)||he(l,t[0])&&ke(l,n):!1,Ee=t=>{const n=o.set(new Date(t),{date:1});return Be(n)},Nt=(t,n,l)=>n&&(l||l===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===n?[a,l]:[a,isNaN(+t[a])?void 0:+t[a]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},qe=t=>({hours:o.getHours(t),minutes:o.getMinutes(t),seconds:o.getSeconds(t)}),fn=(t,n)=>{if(n){const l=o.getYear(x(n));if(l>t)return 12;if(l===t)return o.getMonth(x(n))}},mn=(t,n)=>{if(n){const l=o.getYear(x(n));return l<t?-1:l===t?o.getMonth(x(n)):void 0}},Ze=t=>{if(t)return o.getYear(x(t))},pn=(t,n)=>{const l=ke(t,n)?n:t,a=ke(n,t)?n:t;return o.eachDayOfInterval({start:l,end:a})},qn=t=>{const n=o.addMonths(t,1);return{month:o.getMonth(n),year:o.getYear(n)}},Ve=(t,n)=>{const l=o.startOfWeek(t,{weekStartsOn:+n}),a=o.endOfWeek(t,{weekStartsOn:+n});return[l,a]},gn=(t,n)=>{const l={hours:o.getHours(x()),minutes:o.getMinutes(x()),seconds:n?o.getSeconds(x()):0};return Object.assign(l,t)},Le=(t,n,l)=>[o.set(x(t),{date:1}),o.set(x(),{month:n,year:l,date:1})],Oe=(t,n,l)=>{let a=t?x(t):x();return(n||n===0)&&(a=o.setMonth(a,n)),l&&(a=o.setYear(a,l)),a},yn=(t,n,l,a,r)=>{if(!a||r&&!n||!r&&!l)return!1;const f=r?o.addMonths(t,1):o.subMonths(t,1),p=[o.getMonth(f),o.getYear(f)];return r?!Qn(...p,n):!Gn(...p,l)},Gn=(t,n,l)=>he(...Le(l,t,n))||de(...Le(l,t,n)),Qn=(t,n,l)=>ke(...Le(l,t,n))||de(...Le(l,t,n)),hn=(t,n,l,a,r,f,p)=>{if(typeof n=="function"&&!p)return n(t);const w=l?{locale:l}:void 0;return Array.isArray(t)?`${o.format(t[0],f,w)}${r&&!t[1]?"":a}${t[1]?o.format(t[1],f,w):""}`:o.format(t,f,w)},Fe=t=>{if(t)return null;throw new Error(At.prop("partial-range"))},ft=(t,n)=>{if(n)return t();throw new Error(At.prop("range"))},Et=t=>Array.isArray(t)?o.isValid(t[0])&&(t[1]?o.isValid(t[1]):!0):t?o.isValid(t):!1,Xn=(t,n)=>o.set(n??x(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),_t=(t,n,l,a)=>{if(!t)return!0;if(a){const r=l==="max"?o.isBefore(t,n):o.isAfter(t,n),f={seconds:0,milliseconds:0};return r||o.isEqual(o.set(t,f),o.set(n,f))}return l==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},Yt=(t,n,l)=>t?Xn(t,n):x(l??n),kn=(t,n,l,a,r)=>{if(Array.isArray(a)){const p=Yt(t,a[0],n),w=Yt(t,a[1],n);return _t(a[0],p,l,!!n)&&_t(a[1],w,l,!!n)&&r}const f=Yt(t,a,n);return _t(a,f,l,!!n)&&r},Vt=t=>o.set(x(),qe(t)),Jn=(t,n)=>t instanceof Map?Array.from(t.values()).filter(l=>o.getYear(x(l))===n).map(l=>o.getMonth(l)):[],bn=(t,n,l)=>typeof t=="function"?t({month:n,year:l}):!!t.months.find(a=>a.month===n&&a.year===l),Ot=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),wn=t=>o.format(t,"yyyy-MM-dd"),nt=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),vn=()=>{const t=a=>{nt.menuFocused=a},n=a=>{nt.shiftKeyInMenu!==a&&(nt.shiftKeyInMenu=a)};return{control:e.computed(()=>({shiftKeyInMenu:nt.shiftKeyInMenu,menuFocused:nt.menuFocused})),setMenuFocused:t,setShiftKey:n}},pe=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),It=e.ref(null),mt=e.ref(!1),zt=e.ref(!1),Lt=e.ref(!1),Ht=e.ref(!1),Se=e.ref(0),be=e.ref(0),He=()=>{const t=e.computed(()=>mt.value?[...pe.selectionGrid,pe.actionRow].filter(h=>h.length):zt.value?[...pe.timePicker[0],...pe.timePicker[1],Ht.value?[]:[It.value],pe.actionRow].filter(h=>h.length):Lt.value?[...pe.monthPicker,pe.actionRow]:[pe.monthYear,...pe.calendar,pe.time,pe.actionRow].filter(h=>h.length)),n=h=>{Se.value=h?Se.value+1:Se.value-1;let I=null;t.value[be.value]&&(I=t.value[be.value][Se.value]),!I&&t.value[be.value+(h?1:-1)]?(be.value=be.value+(h?1:-1),Se.value=h?0:t.value[be.value].length-1):I||(Se.value=h?Se.value-1:Se.value+1)},l=h=>{if(be.value===0&&!h||be.value===t.value.length&&h)return;be.value=h?be.value+1:be.value-1,t.value[be.value]?t.value[be.value]&&!t.value[be.value][Se.value]&&Se.value!==0&&(Se.value=t.value[be.value].length-1):be.value=h?be.value-1:be.value+1},a=h=>{let I=null;t.value[be.value]&&(I=t.value[be.value][Se.value]),I?I.focus({preventScroll:!mt.value}):Se.value=h?Se.value-1:Se.value+1},r=()=>{n(!0),a(!0)},f=()=>{n(!1),a(!1)},p=()=>{l(!1),a(!0)},w=()=>{l(!0),a(!0)},c=(h,I)=>{pe[I]=h},z=(h,I)=>{pe[I]=h},g=()=>{Se.value=0,be.value=0};return{buildMatrix:c,buildMultiLevelMatrix:z,setTimePickerBackRef:h=>{It.value=h},setSelectionGrid:h=>{mt.value=h,g(),h||(pe.selectionGrid=[])},setTimePicker:(h,I=!1)=>{zt.value=h,Ht.value=I,g(),h||(pe.timePicker[0]=[],pe.timePicker[1]=[])},setTimePickerElements:(h,I=0)=>{pe.timePicker[I]=h},arrowRight:r,arrowLeft:f,arrowUp:p,arrowDown:w,clearArrowNav:()=>{pe.monthYear=[],pe.calendar=[],pe.time=[],pe.actionRow=[],pe.selectionGrid=[],pe.timePicker[0]=[],pe.timePicker[1]=[],mt.value=!1,zt.value=!1,Ht.value=!1,Lt.value=!1,g(),It.value=null},setMonthPicker:h=>{Lt.value=h,g()},refSets:pe}},Mn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Zn=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),Dn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,Fn=t=>{const n=typeof t=="object"&&t,l={static:!0,solo:!1};if(!t)return{...l,count:Dn(!1)};const a=n?t:{},r=n?a.count??!0:t,f=Dn(r);return Object.assign(l,a,{count:f})},ea=(t,n,l)=>t||(typeof l=="string"?l:n),ta=t=>typeof t=="boolean"?t?Mn({}):!1:Mn(t),na=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},aa=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),ra=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),la=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},oa=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0},...t??{}}),sa=t=>{const n={dates:Array.isArray(t)?t.map(l=>x(l)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},ia=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},ua=(t,n)=>{const l={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...l,...t}:{enabled:t,noDisabledRange:n.noDisabledRange,showLastInRange:n.showLastInRange,minMaxRawRange:n.minMaxRawRange,partialRange:n.partialRange,disableTimeRangeValidation:n.disableTimeRangeValidation,maxRange:n.maxRange,minRange:n.minRange,autoRange:n.autoRange,fixedStart:n.fixedStart,fixedEnd:n.fixedEnd}},ca=(t,n)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:n,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:n??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:n},Ut=(t,n,l)=>new Map(t.map(a=>{const r=Bt(a,n,l);return[Pt(r),r]})),da=(t,n)=>t.length?new Map(t.map(l=>{const a=Bt(l.date,n);return[Pt(a),l]})):null,fa=t=>{var n;return{minDate:Tt(t.minDate,t.timezone,t.isSpecific),maxDate:Tt(t.maxDate,t.timezone,t.isSpecific),disabledDates:Rt(t.disabledDates)?Ut(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Rt(t.allowedDates)?Ut(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Rt((n=t.highlight)==null?void 0:n.dates)?Ut(t.highlight.dates,t.timezone):t.highlight,markers:da(t.markers,t.timezone)}},ma=(t,n)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+n}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},pa=t=>({...Object.fromEntries(Object.keys(t).map(l=>{const a=l,r=t[a],f=typeof t[a]=="string"?{[r]:!0}:Object.fromEntries(r.map(p=>[p,!0]));return[l,f]}))}),ye=t=>{const n=()=>{const ee=t.enableSeconds?":ss":"",G=t.enableMinutes?":mm":"";return t.is24?`HH${G}${ee}`:`hh${G}${ee} aa`},l=()=>{var ee;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((ee=T.value)==null?void 0:ee.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},a=ee=>gn(ee,t.enableSeconds),r=()=>Q.value.enabled?t.startTime&&Array.isArray(t.startTime)?[a(t.startTime[0]),a(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?a(t.startTime):null,f=e.computed(()=>Fn(t.multiCalendars)),p=e.computed(()=>r()),w=e.computed(()=>Zn(t.ariaLabels)),c=e.computed(()=>aa(t.filters)),z=e.computed(()=>ta(t.transitions)),g=e.computed(()=>ra(t.actionRow)),O=e.computed(()=>ea(t.previewFormat,t.format,l())),v=e.computed(()=>na(t.textInput)),R=e.computed(()=>la(t.inline)),H=e.computed(()=>oa(t.config)),V=e.computed(()=>sa(t.highlight)),T=e.computed(()=>ia(t.weekNumbers)),h=e.computed(()=>ca(t.timezone,t.emitTimezone)),I=e.computed(()=>ma(t.multiDates,t.multiDatesLimit)),$=e.computed(()=>fa({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:V.value,markers:t.markers,timezone:h.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),Q=e.computed(()=>ua(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd})),X=e.computed(()=>pa(t.ui));return{defaultedTransitions:z,defaultedMultiCalendars:f,defaultedStartTime:p,defaultedAriaLabels:w,defaultedFilters:c,defaultedActionRow:g,defaultedPreviewFormat:O,defaultedTextInput:v,defaultedInline:R,defaultedConfig:H,defaultedHighlight:V,defaultedWeekNumbers:T,defaultedRange:Q,propDates:$,defaultedTz:h,defaultedMultiDates:I,defaultedUI:X,getDefaultPattern:l,getDefaultStartTime:r}},ga=(t,n,l)=>{const a=e.ref(),{defaultedTextInput:r,defaultedRange:f,defaultedTz:p,defaultedMultiDates:w,getDefaultPattern:c}=ye(n),z=e.ref(""),g=e.toRef(n,"format"),O=e.toRef(n,"formatLocale");e.watch(a,()=>{typeof n.onInternalModelChange=="function"&&t("internal-model-change",a.value,B(!0))},{deep:!0}),e.watch(f,(i,ne)=>{i.enabled!==ne.enabled&&(a.value=null)}),e.watch(g,()=>{L()});const v=i=>p.value.timezone&&p.value.convertModel?Te(i,p.value.timezone):i,R=i=>{if(p.value.timezone&&p.value.convertModel){const ne=_n(p.value.timezone);return o.addHours(i,ne)}return i},H=(i,ne,S=!1)=>hn(i,n.format,n.formatLocale,r.value.rangeSeparator,n.modelAuto,ne??c(),S),V=i=>i?n.modelType?J(i):{hours:o.getHours(i),minutes:o.getMinutes(i),seconds:n.enableSeconds?o.getSeconds(i):0}:null,T=i=>n.modelType?J(i):{month:o.getMonth(i),year:o.getYear(i)},h=i=>Array.isArray(i)?w.value.enabled?i.map(ne=>I(ne,o.setYear(x(),ne))):ft(()=>[o.setYear(x(),i[0]),i[1]?o.setYear(x(),i[1]):Fe(f.value.partialRange)],f.value.enabled):o.setYear(x(),+i),I=(i,ne)=>(typeof i=="string"||typeof i=="number")&&n.modelType?D(i):ne,$=i=>Array.isArray(i)?[I(i[0],ze(null,+i[0].hours,+i[0].minutes,i[0].seconds)),I(i[1],ze(null,+i[1].hours,+i[1].minutes,i[1].seconds))]:I(i,ze(null,i.hours,i.minutes,i.seconds)),Q=i=>{const ne=o.set(x(),{date:1});return Array.isArray(i)?w.value.enabled?i.map(S=>I(S,Oe(ne,+S.month,+S.year))):ft(()=>[I(i[0],Oe(ne,+i[0].month,+i[0].year)),I(i[1],i[1]?Oe(ne,+i[1].month,+i[1].year):Fe(f.value.partialRange))],f.value.enabled):I(i,Oe(ne,+i.month,+i.year))},X=i=>{if(Array.isArray(i))return i.map(ne=>D(ne));throw new Error(At.dateArr("multi-dates"))},ee=i=>{if(Array.isArray(i)&&f.value.enabled){const ne=i[0],S=i[1];return[x(Array.isArray(ne)?ne[0]:null),x(Array.isArray(S)?S[0]:null)]}return x(i[0])},G=i=>n.modelAuto?Array.isArray(i)?[D(i[0]),D(i[1])]:n.autoApply?[D(i)]:[D(i),null]:Array.isArray(i)?ft(()=>i[1]?[D(i[0]),i[1]?D(i[1]):Fe(f.value.partialRange)]:[D(i[0])],f.value.enabled):D(i),A=()=>{Array.isArray(a.value)&&f.value.enabled&&a.value.length===1&&a.value.push(Fe(f.value.partialRange))},te=()=>{const i=a.value;return[J(i[0]),i[1]?J(i[1]):Fe(f.value.partialRange)]},E=()=>a.value[1]?te():J(we(a.value[0])),K=()=>(a.value||[]).map(i=>J(i)),se=(i=!1)=>(i||A(),n.modelAuto?E():w.value.enabled?K():Array.isArray(a.value)?ft(()=>te(),f.value.enabled):J(we(a.value))),oe=i=>!i||Array.isArray(i)&&!i.length?null:n.timePicker?$(we(i)):n.monthPicker?Q(we(i)):n.yearPicker?h(we(i)):w.value.enabled?X(we(i)):n.weekPicker?ee(we(i)):G(we(i)),N=i=>{const ne=oe(i);Et(we(ne))?(a.value=we(ne),L()):(a.value=null,z.value="")},C=()=>{const i=ne=>o.format(ne,r.value.format);return`${i(a.value[0])} ${r.value.rangeSeparator} ${a.value[1]?i(a.value[1]):""}`},M=()=>l.value&&a.value?Array.isArray(a.value)?C():o.format(a.value,r.value.format):H(a.value),s=()=>a.value?w.value.enabled?a.value.map(i=>H(i)).join("; "):r.value.enabled&&typeof r.value.format=="string"?M():H(a.value):"",L=()=>{!n.format||typeof n.format=="string"||r.value.enabled&&typeof r.value.format=="string"?z.value=s():z.value=n.format(a.value)},D=i=>{if(n.utc){const ne=new Date(i);return n.utc==="preserve"?new Date(ne.getTime()+ne.getTimezoneOffset()*6e4):ne}return n.modelType?Yn.includes(n.modelType)?v(new Date(i)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?v(o.parse(i,c(),new Date,{locale:O.value})):v(o.parse(i,n.modelType,new Date,{locale:O.value})):v(new Date(i))},J=i=>i?n.utc?Kn(i,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+R(i):n.modelType==="iso"?R(i).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?H(R(i)):H(R(i),n.modelType,!0):R(i):"",le=(i,ne=!1,S=!1)=>{if(S)return i;if(t("update:model-value",i),p.value.emitTimezone&&ne){const ue=Array.isArray(i)?i.map(d=>Te(we(d),p.value.emitTimezone)):Te(we(i),p.value.emitTimezone);t("update:model-timezone-value",ue)}},u=i=>Array.isArray(a.value)?w.value.enabled?a.value.map(ne=>i(ne)):[i(a.value[0]),a.value[1]?i(a.value[1]):Fe(f.value.partialRange)]:i(we(a.value)),Y=()=>{if(Array.isArray(a.value)){const i=Ve(a.value[0],n.weekStart),ne=a.value[1]?Ve(a.value[1],n.weekStart):[];return[i.map(S=>x(S)),ne.map(S=>x(S))]}return Ve(a.value,n.weekStart).map(i=>x(i))},ae=(i,ne)=>le(we(u(i)),!1,ne),m=i=>{const ne=Y();return i?ne:t("update:model-value",Y())},B=(i=!1)=>(i||L(),n.monthPicker?ae(T,i):n.timePicker?ae(V,i):n.yearPicker?ae(o.getYear,i):n.weekPicker?m(i):le(se(i),!0,i));return{inputValue:z,internalModelValue:a,checkBeforeEmit:()=>a.value?f.value.enabled?f.value.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:N,formatInputValue:L,emitModelValue:B}},ya=(t,n)=>{const{defaultedFilters:l,propDates:a}=ye(t),{validateMonthYearInRange:r}=We(t),f=(g,O)=>{let v=g;return l.value.months.includes(o.getMonth(v))?(v=O?o.addMonths(g,1):o.subMonths(g,1),f(v,O)):v},p=(g,O)=>{let v=g;return l.value.years.includes(o.getYear(v))?(v=O?o.addYears(g,1):o.subYears(g,1),p(v,O)):v},w=(g,O=!1)=>{const v=o.set(x(),{month:t.month,year:t.year});let R=g?o.addMonths(v,1):o.subMonths(v,1);t.disableYearSelect&&(R=o.setYear(R,t.year));let H=o.getMonth(R),V=o.getYear(R);l.value.months.includes(H)&&(R=f(R,g),H=o.getMonth(R),V=o.getYear(R)),l.value.years.includes(V)&&(R=p(R,g),V=o.getYear(R)),r(H,V,g,t.preventMinMaxNavigation)&&c(H,V,O)},c=(g,O,v)=>{n("update-month-year",{month:g,year:O,fromNav:v})},z=e.computed(()=>g=>yn(o.set(x(),{month:t.month,year:t.year}),a.value.maxDate,a.value.minDate,t.preventMinMaxNavigation,g));return{handleMonthYearChange:w,isDisabled:z,updateMonthYear:c}},pt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},_e={...pt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},ha=["title"],ka=["disabled"],ba=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},..._e},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const l=n,a=t,{defaultedActionRow:r,defaultedPreviewFormat:f,defaultedMultiCalendars:p,defaultedTextInput:w,defaultedInline:c,defaultedRange:z,defaultedMultiDates:g,getDefaultPattern:O}=ye(a),{isTimeValid:v,isMonthValid:R}=We(a),{buildMatrix:H}=He(),V=e.ref(null),T=e.ref(null),h=e.ref(!1),I=e.ref({}),$=e.ref(null),Q=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&H([ve(V),ve(T)],"actionRow"),X(),window.addEventListener("resize",X)}),e.onUnmounted(()=>{window.removeEventListener("resize",X)});const X=()=>{h.value=!1,setTimeout(()=>{var s,L;const C=(s=$.value)==null?void 0:s.getBoundingClientRect(),M=(L=Q.value)==null?void 0:L.getBoundingClientRect();C&&M&&(I.value.maxWidth=`${M.width-C.width-20}px`),h.value=!0},0)},ee=e.computed(()=>z.value.enabled&&!z.value.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),G=e.computed(()=>!v.value(a.internalModelValue)||!R.value(a.internalModelValue)||!ee.value),A=()=>{const C=f.value;return a.timePicker||a.monthPicker,C(we(a.internalModelValue))},te=()=>{const C=a.internalModelValue;return p.value.count>0?`${E(C[0])} - ${E(C[1])}`:[E(C[0]),E(C[1])]},E=C=>hn(C,f.value,a.formatLocale,w.value.rangeSeparator,a.modelAuto,O()),K=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof f.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?te():g.value.enabled?a.internalModelValue.map(C=>`${E(C)}`):a.modelAuto?`${E(a.internalModelValue[0])}`:`${E(a.internalModelValue[0])} -`:E(a.internalModelValue):A()),se=()=>g.value.enabled?"; ":" - ",oe=e.computed(()=>Array.isArray(K.value)?K.value.join(se()):K.value),N=()=>{v.value(a.internalModelValue)&&R.value(a.internalModelValue)&&ee.value?l("select-date"):l("invalid-select")};return(C,M)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:Q,class:"dp__action_row"},[C.$slots["action-row"]?e.renderSlot(C.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:C.internalModelValue,disabled:G.value,selectDate:()=>C.$emit("select-date"),closePicker:()=>C.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(r).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:oe.value,style:e.normalizeStyle(I.value)},[C.$slots["action-preview"]&&h.value?e.renderSlot(C.$slots,"action-preview",{key:0,value:C.internalModelValue}):e.createCommentVNode("",!0),!C.$slots["action-preview"]&&h.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(oe.value),1)],64)):e.createCommentVNode("",!0)],12,ha)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:$,class:"dp__action_buttons","data-dp-element":"action-row"},[C.$slots["action-buttons"]?e.renderSlot(C.$slots,"action-buttons",{key:0,value:C.internalModelValue}):e.createCommentVNode("",!0),C.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(c).enabled&&e.unref(r).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:V,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[0]||(M[0]=s=>C.$emit("close-picker")),onKeydown:M[1]||(M[1]=s=>e.unref($e)(s,()=>C.$emit("close-picker")))},e.toDisplayString(C.cancelText),545)):e.createCommentVNode("",!0),e.unref(r).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[2]||(M[2]=s=>C.$emit("select-now")),onKeydown:M[3]||(M[3]=s=>e.unref($e)(s,()=>C.$emit("select-now")))},e.toDisplayString(C.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(r).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:T,type:"button",class:"dp__action_button dp__action_select",disabled:G.value,"data-test":"select-button",onKeydown:M[4]||(M[4]=s=>e.unref($e)(s,()=>N())),onClick:N},e.toDisplayString(C.selectText),41,ka)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),wa={class:"dp__selection_grid_header"},va=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Ma=["aria-label"],at=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:l}){const{setSelectionGrid:a,buildMultiLevelMatrix:r,setMonthPicker:f}=He(),p=l,w=t,{defaultedAriaLabels:c,defaultedTextInput:z,defaultedConfig:g}=ye(w),{hideNavigationButtons:O}=ht(),v=e.ref(!1),R=e.ref(null),H=e.ref(null),V=e.ref([]),T=e.ref(),h=e.ref(null),I=e.ref(0),$=e.ref(null);e.onBeforeUpdate(()=>{R.value=null}),e.onMounted(()=>{e.nextTick().then(()=>K()),w.noOverlayFocus||X(),Q(!0)}),e.onUnmounted(()=>Q(!1));const Q=u=>{var Y;w.arrowNavigation&&((Y=w.headerRefs)!=null&&Y.length?f(u):a(u))},X=()=>{var Y;const u=ve(H);u&&(z.value.enabled||(R.value?(Y=R.value)==null||Y.focus({preventScroll:!0}):u.focus({preventScroll:!0})),v.value=u.clientHeight<u.scrollHeight)},ee=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!w.useRelative,"dp--overlay-relative":w.useRelative})),G=e.computed(()=>w.useRelative?{height:`${w.height}px`,width:"260px"}:void 0),A=e.computed(()=>({dp__overlay_col:!0})),te=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:v.value,dp__button_bottom:w.isLast})),E=e.computed(()=>{var u,Y;return{dp__overlay_container:!0,dp__container_flex:((u=w.items)==null?void 0:u.length)<=6,dp__container_block:((Y=w.items)==null?void 0:Y.length)>6}});e.watch(()=>w.items,()=>K(!1),{deep:!0});const K=(u=!0)=>{e.nextTick().then(()=>{const Y=ve(R),ae=ve(H),m=ve(h),B=ve($),q=m?m.getBoundingClientRect().height:0;ae&&(ae.getBoundingClientRect().height?I.value=ae.getBoundingClientRect().height-q:I.value=g.value.modeHeight-q),Y&&B&&u&&(B.scrollTop=Y.offsetTop-B.offsetTop-(I.value/2-Y.getBoundingClientRect().height)-q)})},se=u=>{u.disabled||p("selected",u.value)},oe=()=>{p("toggle"),p("reset-flow")},N=()=>{w.escClose&&oe()},C=(u,Y,ae,m)=>{u&&((Y.active||Y.value===w.focusValue)&&(R.value=u),w.arrowNavigation&&(Array.isArray(V.value[ae])?V.value[ae][m]=u:V.value[ae]=[u],M()))},M=()=>{var Y,ae;const u=(Y=w.headerRefs)!=null&&Y.length?[w.headerRefs].concat(V.value):V.value.concat([w.skipButtonRef?[]:[h.value]]);r(we(u),(ae=w.headerRefs)!=null&&ae.length?"monthPicker":"selectionGrid")},s=u=>{w.arrowNavigation||Ie(u,g.value,!0)},L=u=>{T.value=u,p("hover-value",u)},D=()=>{if(oe(),!w.isLast){const u=Wn(w.menuWrapRef??null,"action-row");if(u){const Y=un(u);Y==null||Y.focus()}}},J=u=>{switch(u.key){case ge.esc:return N();case ge.arrowLeft:return s(u);case ge.arrowRight:return s(u);case ge.arrowUp:return s(u);case ge.arrowDown:return s(u);default:return}},le=u=>{if(u.key===ge.enter)return oe();if(u.key===ge.tab)return D()};return n({focusGrid:X}),(u,Y)=>{var ae;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:H,class:e.normalizeClass(ee.value),style:e.normalizeStyle(G.value),role:"dialog",tabindex:"0",onKeydown:J,onClick:Y[0]||(Y[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",{ref_key:"containerRef",ref:$,class:e.normalizeClass(E.value),role:"grid",style:e.normalizeStyle({"--dp-overlay-height":`${I.value}px`})},[e.createElementVNode("div",wa,[e.renderSlot(u.$slots,"header")]),u.$slots.overlay?e.renderSlot(u.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(u.items,(m,B)=>(e.openBlock(),e.createElementBlock("div",{key:B,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:u.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m,(q,i)=>(e.openBlock(),e.createElementBlock("div",{key:q.value,ref_for:!0,ref:ne=>C(ne,q,B,i),role:"gridcell",class:e.normalizeClass(A.value),"aria-selected":q.active||void 0,"aria-disabled":q.disabled||void 0,tabindex:"0","data-test":q.text,onClick:e.withModifiers(ne=>se(q),["prevent"]),onKeydown:ne=>e.unref($e)(ne,()=>se(q),!0),onMouseover:ne=>L(q.value)},[e.createElementVNode("div",{class:e.normalizeClass(q.className)},[u.$slots.item?e.renderSlot(u.$slots,"item",{key:0,item:q}):e.createCommentVNode("",!0),u.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(q.text),1)],64))],2)],42,va))),128))],2))),128))],6),u.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:h,type:"button","aria-label":(ae=e.unref(c))==null?void 0:ae.toggleOverlay,class:e.normalizeClass(te.value),tabindex:"0",onClick:oe,onKeydown:le},[e.renderSlot(u.$slots,"button-icon")],42,Ma)),[[e.vShow,!e.unref(O)(u.hideNavigation,u.type)]]):e.createCommentVNode("",!0)],38)}}}),gt=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const n=t,l=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),a=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(r,f)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(p,w)=>(e.openBlock(),e.createElementBlock("div",{key:p,class:e.normalizeClass(a.value)},[e.renderSlot(r.$slots,"default",{instance:p,index:w})],2))),128))],2))}}),Da=["aria-label","aria-disabled"],rt=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const l=n,a=e.ref(null);return e.onMounted(()=>l("set-ref",a)),(r,f)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:a,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled||void 0,onClick:f[0]||(f[0]=p=>r.$emit("activate")),onKeydown:f[1]||(f[1]=p=>e.unref($e)(p,()=>r.$emit("activate"),!0))},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[e.renderSlot(r.$slots,"default")],2)],40,Da))}}),Sa={class:"dp--year-mode-picker"},Ca=["aria-label","data-test"],Sn=e.defineComponent({__name:"YearModePicker",props:{..._e,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const l=n,a=t,{showRightIcon:r,showLeftIcon:f}=ht(),{defaultedConfig:p,defaultedMultiCalendars:w,defaultedAriaLabels:c,defaultedTransitions:z,defaultedUI:g}=ye(a),{showTransition:O,transitionName:v}=lt(z),R=(T=!1,h)=>{l("toggle-year-picker",{flow:T,show:h})},H=T=>{l("year-select",T)},V=(T=!1)=>{l("handle-year",T)};return(T,h)=>{var I,$,Q,X,ee;return e.openBlock(),e.createElementBlock("div",Sa,[e.unref(f)(e.unref(w),t.instance)?(e.openBlock(),e.createBlock(rt,{key:0,ref:"mpPrevIconRef","aria-label":(I=e.unref(c))==null?void 0:I.prevYear,disabled:t.isDisabled(!1),class:e.normalizeClass(($=e.unref(g))==null?void 0:$.navBtnPrev),onActivate:h[0]||(h[0]=G=>V(!1))},{default:e.withCtx(()=>[T.$slots["arrow-left"]?e.renderSlot(T.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),T.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(vt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(Q=e.unref(c))==null?void 0:Q.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:h[1]||(h[1]=()=>R(!1)),onKeydown:h[2]||(h[2]=e.withKeys(()=>R(!1),["enter"]))},[T.$slots.year?e.renderSlot(T.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),T.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Ca),e.unref(r)(e.unref(w),t.instance)?(e.openBlock(),e.createBlock(rt,{key:1,ref:"mpNextIconRef","aria-label":(X=e.unref(c))==null?void 0:X.nextYear,disabled:t.isDisabled(!0),class:e.normalizeClass((ee=e.unref(g))==null?void 0:ee.navBtnNext),onActivate:h[3]||(h[3]=G=>V(!0))},{default:e.withCtx(()=>[T.$slots["arrow-right"]?e.renderSlot(T.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),T.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(v)(t.showYearPicker),css:e.unref(O)},{default:e.withCtx(()=>[t.showYearPicker?(e.openBlock(),e.createBlock(at,{key:0,items:t.items,"text-input":T.textInput,"esc-close":T.escClose,config:T.config,"is-last":T.autoApply&&!e.unref(p).keepActionRow,"hide-navigation":T.hideNavigation,"aria-labels":T.ariaLabels,type:"year",onToggle:R,onSelected:h[4]||(h[4]=G=>H(G))},e.createSlots({"button-icon":e.withCtx(()=>[T.$slots["calendar-icon"]?e.renderSlot(T.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),T.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))]),_:2},[T.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:G})=>[e.renderSlot(T.$slots,"year-overlay-value",{text:G.text,value:G.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])])}}}),Wt=(t,n,l)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(a=>de(t,a))){const a=n.value.filter(r=>!de(r,t));n.value=a.length?a:null}else(l&&+l>n.value.length||!l)&&n.value.push(t);else n.value=[t]},jt=(t,n,l)=>{let a=t.value?t.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?he(n,a[0])?(a.unshift(n),l("range-start",a[0]),l("range-start",a[1])):(a[1]=n,l("range-end",n)):(a=[n],l("range-start",n)),a},yt=(t,n,l,a)=>{t&&(t[0]&&t[1]&&l&&n("auto-apply"),t[0]&&!t[1]&&a&&l&&n("auto-apply"))},Cn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Te(x(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Te(x(t.value),t.timezone))},Bn=(t,n,l,a)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&a.value.partialRange)?a.value.fixedStart&&(ke(t,n.value[0])||de(t,n.value[0]))?[n.value[0],t]:a.value.fixedEnd&&(he(t,n.value[1])||de(t,n.value[1]))?[t,n.value[1]]:(l("invalid-fixed-range",t),n.value):[],Tn=({multiCalendars:t,range:n,highlight:l,propDates:a,calendars:r,modelValue:f,props:p,filters:w,year:c,month:z,emit:g})=>{const O=e.computed(()=>$t(p.yearRange,p.locale,p.reverseYears)),v=e.ref([!1]),R=e.computed(()=>(E,K)=>{const se=o.set(Ee(new Date),{month:z.value(E),year:c.value(E)}),oe=K?o.endOfYear(se):o.startOfYear(se);return yn(oe,a.value.maxDate,a.value.minDate,p.preventMinMaxNavigation,K)}),H=()=>Array.isArray(f.value)&&t.value.solo&&f.value[1],V=()=>{for(let E=0;E<t.value.count;E++)if(E===0)r.value[E]=r.value[0];else if(E===t.value.count-1&&H())r.value[E]={month:o.getMonth(f.value[1]),year:o.getYear(f.value[1])};else{const K=o.set(x(),r.value[E-1]);r.value[E]={month:o.getMonth(K),year:o.getYear(o.addYears(K,1))}}},T=E=>{if(!E)return V();const K=o.set(x(),r.value[E]);return r.value[0].year=o.getYear(o.subYears(K,t.value.count-1)),V()},h=(E,K)=>{const se=o.differenceInYears(K,E);return n.value.showLastInRange&&se>1?K:E},I=E=>p.focusStartDate||t.value.solo?E[0]:E[1]?h(E[0],E[1]):E[0],$=()=>{if(f.value){const E=Array.isArray(f.value)?I(f.value):f.value;r.value[0]={month:o.getMonth(E),year:o.getYear(E)}}},Q=()=>{$(),t.value.count&&V()};e.watch(f,(E,K)=>{p.isTextInputDate&&JSON.stringify(E??{})!==JSON.stringify(K??{})&&Q()}),e.onMounted(()=>{Q()});const X=(E,K)=>{r.value[K].year=E,g("update-month-year",{instance:K,year:E,month:r.value[K].month}),t.value.count&&!t.value.solo&&T(K)},ee=e.computed(()=>E=>Je(O.value,K=>{var C;const se=c.value(E)===K.value,oe=tt(K.value,Ze(a.value.minDate),Ze(a.value.maxDate))||((C=w.value.years)==null?void 0:C.includes(c.value(E))),N=Ot(l.value,K.value);return{active:se,disabled:oe,highlighted:N}})),G=(E,K)=>{X(E,K),te(K)},A=(E,K=!1)=>{if(!R.value(E,K)){const se=K?c.value(E)+1:c.value(E)-1;X(se,E)}},te=(E,K=!1,se)=>{K||g("reset-flow"),se!==void 0?v.value[E]=se:v.value[E]=!v.value[E],v.value[E]?g("overlay-toggle",{open:!0,overlay:De.year}):(g("overlay-closed"),g("overlay-toggle",{open:!1,overlay:De.year}))};return{isDisabled:R,groupedYears:ee,showYearPicker:v,selectYear:X,toggleYearPicker:te,handleYearSelect:G,handleYear:A}},Ba=(t,n)=>{const{defaultedMultiCalendars:l,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:f,defaultedRange:p,defaultedHighlight:w,propDates:c,defaultedTz:z,defaultedFilters:g,defaultedMultiDates:O}=ye(t),v=()=>{t.isTextInputDate&&Q(o.getYear(x(t.startDate)),0)},{modelValue:R,year:H,month:V,calendars:T}=ot(t,n,v),h=e.computed(()=>rn(t.formatLocale,t.locale,t.monthNameFormat)),I=e.ref(null),{checkMinMaxRange:$}=We(t),{selectYear:Q,groupedYears:X,showYearPicker:ee,toggleYearPicker:G,handleYearSelect:A,handleYear:te,isDisabled:E}=Tn({modelValue:R,multiCalendars:l,range:p,highlight:w,calendars:T,year:H,propDates:c,month:V,filters:g,props:t,emit:n});e.onMounted(()=>{t.startDate&&(R.value&&t.focusStartDate||!R.value)&&Q(o.getYear(x(t.startDate)),0)});const K=B=>B?{month:o.getMonth(B),year:o.getYear(B)}:{month:null,year:null},se=()=>R.value?Array.isArray(R.value)?R.value.map(B=>K(B)):K(R.value):K(),oe=(B,q)=>{const i=T.value[B],ne=se();return Array.isArray(ne)?ne.some(S=>S.year===(i==null?void 0:i.year)&&S.month===q):(i==null?void 0:i.year)===ne.year&&q===ne.month},N=(B,q,i)=>{var S,ue;const ne=se();return Array.isArray(ne)?H.value(q)===((S=ne[i])==null?void 0:S.year)&&B===((ue=ne[i])==null?void 0:ue.month):!1},C=(B,q)=>{if(p.value.enabled){const i=se();if(Array.isArray(R.value)&&Array.isArray(i)){const ne=N(B,q,0)||N(B,q,1),S=Oe(Ee(x()),B,H.value(q));return dt(R.value,I.value,S)&&!ne}return!1}return!1},M=e.computed(()=>B=>Je(h.value,q=>{var d;const i=oe(B,q.value),ne=tt(q.value,fn(H.value(B),c.value.minDate),mn(H.value(B),c.value.maxDate))||Jn(c.value.disabledDates,H.value(B)).includes(q.value)||((d=g.value.months)==null?void 0:d.includes(q.value)),S=C(q.value,B),ue=bn(w.value,q.value,H.value(B));return{active:i,disabled:ne,isBetween:S,highlighted:ue}})),s=(B,q)=>Oe(Ee(x()),B,H.value(q)),L=(B,q)=>{const i=R.value?R.value:Ee(new Date);R.value=Oe(i,B,H.value(q)),n("auto-apply"),n("update-flow-step")},D=(B,q)=>{const i=s(B,q);p.value.fixedEnd||p.value.fixedStart?R.value=Bn(i,R,n,p):R.value?$(i,R.value)&&(R.value=jt(R,s(B,q),n)):R.value=[s(B,q)],e.nextTick().then(()=>{yt(R.value,n,t.autoApply,t.modelAuto)})},J=(B,q)=>{Wt(s(B,q),R,O.value.limit),n("auto-apply",!0)},le=(B,q)=>(T.value[q].month=B,Y(q,T.value[q].year,B),O.value.enabled?J(B,q):p.value.enabled?D(B,q):L(B,q)),u=(B,q)=>{Q(B,q),Y(q,B,null)},Y=(B,q,i)=>{let ne=i;if(!ne&&ne!==0){const S=se();ne=Array.isArray(S)?S[B].month:S.month}n("update-month-year",{instance:B,year:q,month:ne})};return{groupedMonths:M,groupedYears:X,year:H,isDisabled:E,defaultedMultiCalendars:l,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:f,showYearPicker:ee,modelValue:R,presetDate:(B,q)=>{Cn({value:B,modelValue:R,range:p.value.enabled,timezone:q?void 0:z.value.timezone}),n("auto-apply")},setHoverDate:(B,q)=>{I.value=s(B,q)},selectMonth:le,selectYear:u,toggleYearPicker:G,handleYearSelect:A,handleYear:te,getModelMonthYear:se}},Ta=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{..._e},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=e.useSlots(),f=Pe(r,"yearMode"),p=t;e.onMounted(()=>{p.shadow||a("mount",null)});const{groupedMonths:w,groupedYears:c,year:z,isDisabled:g,defaultedMultiCalendars:O,defaultedConfig:v,showYearPicker:R,modelValue:H,presetDate:V,setHoverDate:T,selectMonth:h,selectYear:I,toggleYearPicker:$,handleYearSelect:Q,handleYear:X,getModelMonthYear:ee}=Ba(p,a);return n({getSidebarProps:()=>({modelValue:H,year:z,getModelMonthYear:ee,selectMonth:h,selectYear:I,handleYear:X}),presetDate:V,toggleYearPicker:A=>$(0,A)}),(A,te)=>(e.openBlock(),e.createBlock(gt,{"multi-calendars":e.unref(O).count,collapse:A.collapse,stretch:""},{default:e.withCtx(({instance:E})=>[A.$slots["top-extra"]?e.renderSlot(A.$slots,"top-extra",{key:0,value:A.internalModelValue}):e.createCommentVNode("",!0),A.$slots["month-year"]?e.renderSlot(A.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{year:e.unref(z),months:e.unref(w)(E),years:e.unref(c)(E),selectMonth:e.unref(h),selectYear:e.unref(I),instance:E}))):(e.openBlock(),e.createBlock(at,{key:2,items:e.unref(w)(E),"arrow-navigation":A.arrowNavigation,"is-last":A.autoApply&&!e.unref(v).keepActionRow,"esc-close":A.escClose,height:e.unref(v).modeHeight,config:A.config,"no-overlay-focus":!!(A.noOverlayFocus||A.textInput),"use-relative":"",type:"month",onSelected:K=>e.unref(h)(K,E),onHoverValue:K=>e.unref(T)(K,E)},e.createSlots({header:e.withCtx(()=>[e.createVNode(Sn,e.mergeProps(A.$props,{items:e.unref(c)(E),instance:E,"show-year-picker":e.unref(R)[E],year:e.unref(z)(E),"is-disabled":K=>e.unref(g)(E,K),onHandleYear:K=>e.unref(X)(E,K),onYearSelect:K=>e.unref(Q)(K,E),onToggleYearPicker:K=>e.unref($)(E,K==null?void 0:K.flow,K==null?void 0:K.show)}),e.createSlots({_:2},[e.renderList(e.unref(f),(K,se)=>({name:K,fn:e.withCtx(oe=>[e.renderSlot(A.$slots,K,e.normalizeProps(e.guardReactiveProps(oe)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[A.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:K})=>[e.renderSlot(A.$slots,"month-overlay-value",{text:K.text,value:K.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),$a=(t,n)=>{const l=()=>{t.isTextInputDate&&(g.value=o.getYear(x(t.startDate)))},{modelValue:a}=ot(t,n,l),r=e.ref(null),{defaultedHighlight:f,defaultedMultiDates:p,defaultedFilters:w,defaultedRange:c,propDates:z}=ye(t),g=e.ref();e.onMounted(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&(g.value=o.getYear(x(t.startDate)))});const O=h=>Array.isArray(a.value)?a.value.some(I=>o.getYear(I)===h):a.value?o.getYear(a.value)===h:!1,v=h=>c.value.enabled&&Array.isArray(a.value)?dt(a.value,r.value,H(h)):!1,R=e.computed(()=>Je($t(t.yearRange,t.locale,t.reverseYears),h=>{const I=O(h.value),$=tt(h.value,Ze(z.value.minDate),Ze(z.value.maxDate))||w.value.years.includes(h.value),Q=v(h.value)&&!I,X=Ot(f.value,h.value);return{active:I,disabled:$,isBetween:Q,highlighted:X}})),H=h=>o.setYear(Ee(o.startOfYear(new Date)),h);return{groupedYears:R,modelValue:a,focusYear:g,setHoverValue:h=>{r.value=o.setYear(Ee(new Date),h)},selectYear:h=>{var I;if(n("update-month-year",{instance:0,year:h}),p.value.enabled)return a.value?Array.isArray(a.value)&&(((I=a.value)==null?void 0:I.map(Q=>o.getYear(Q))).includes(h)?a.value=a.value.filter(Q=>o.getYear(Q)!==h):a.value.push(o.setYear(Be(x()),h))):a.value=[o.setYear(Be(o.startOfYear(x())),h)],n("auto-apply",!0);c.value.enabled?(a.value=jt(a,H(h),n),e.nextTick().then(()=>{yt(a.value,n,t.autoApply,t.modelAuto)})):(a.value=H(h),n("auto-apply"))}}},Aa=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{..._e},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:l}){const a=l,r=t,{groupedYears:f,modelValue:p,focusYear:w,selectYear:c,setHoverValue:z}=$a(r,a),{defaultedConfig:g}=ye(r);return n({getSidebarProps:()=>({modelValue:p,selectYear:c})}),(v,R)=>(e.openBlock(),e.createElementBlock("div",null,[v.$slots["top-extra"]?e.renderSlot(v.$slots,"top-extra",{key:0,value:v.internalModelValue}):e.createCommentVNode("",!0),v.$slots["month-year"]?e.renderSlot(v.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{years:e.unref(f),selectYear:e.unref(c)}))):(e.openBlock(),e.createBlock(at,{key:2,items:e.unref(f),"is-last":v.autoApply&&!e.unref(g).keepActionRow,height:e.unref(g).modeHeight,config:v.config,"no-overlay-focus":!!(v.noOverlayFocus||v.textInput),"focus-value":e.unref(w),type:"year","use-relative":"",onSelected:e.unref(c),onHoverValue:e.unref(z)},e.createSlots({_:2},[v.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:H})=>[e.renderSlot(v.$slots,"year-overlay-value",{text:H.text,value:H.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Pa={key:0,class:"dp__time_input"},Ra=["data-test","aria-label","onKeydown","onClick","onMousedown"],Na=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ea=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),_a=["aria-label","disabled","data-test","onKeydown","onClick"],Ya=["data-test","aria-label","onKeydown","onClick","onMousedown"],Va=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Oa=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ia={key:0},za=["aria-label"],La=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},..._e},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:n,emit:l}){const a=l,r=t,{setTimePickerElements:f,setTimePickerBackRef:p}=He(),{defaultedAriaLabels:w,defaultedTransitions:c,defaultedFilters:z,defaultedConfig:g,defaultedRange:O}=ye(r),{transitionName:v,showTransition:R}=lt(c),H=e.reactive({hours:!1,minutes:!1,seconds:!1}),V=e.ref("AM"),T=e.ref(null),h=e.ref([]),I=e.ref();e.onMounted(()=>{a("mounted")});const $=d=>o.set(new Date,{hours:d.hours,minutes:d.minutes,seconds:r.enableSeconds?d.seconds:0,milliseconds:0}),Q=e.computed(()=>d=>M(d,r[d])||ee(d,r[d])),X=e.computed(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),ee=(d,_)=>O.value.enabled&&!O.value.disableTimeRangeValidation?!r.validateTime(d,_):!1,G=(d,_)=>{if(O.value.enabled&&!O.value.disableTimeRangeValidation){const j=_?+r[`${d}Increment`]:-+r[`${d}Increment`],P=r[d]+j;return!r.validateTime(d,P)}return!1},A=e.computed(()=>d=>!le(+r[d]+ +r[`${d}Increment`],d)||G(d,!0)),te=e.computed(()=>d=>!le(+r[d]-+r[`${d}Increment`],d)||G(d,!1)),E=(d,_)=>o.add(o.set(x(),d),_),K=(d,_)=>o.sub(o.set(x(),d),_),se=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),oe=e.computed(()=>{const d=[{type:"hours"}];return r.enableMinutes&&d.push({type:"",separator:!0},{type:"minutes"}),r.enableSeconds&&d.push({type:"",separator:!0},{type:"seconds"}),d}),N=e.computed(()=>oe.value.filter(d=>!d.separator)),C=e.computed(()=>d=>{if(d==="hours"){const _=q(+r.hours);return{text:_<10?`0${_}`:`${_}`,value:_}}return{text:r[d]<10?`0${r[d]}`:`${r[d]}`,value:r[d]}}),M=(d,_)=>{var P;if(!r.disabledTimesConfig)return!1;const j=r.disabledTimesConfig(r.order,d==="hours"?_:void 0);return j[d]?!!((P=j[d])!=null&&P.includes(_)):!0},s=(d,_)=>_!=="hours"||V.value==="AM"?d:d+12,L=d=>{const _=r.is24?24:12,j=d==="hours"?_:60,P=+r[`${d}GridIncrement`],Z=d==="hours"&&!r.is24?P:0,re=[];for(let k=Z;k<j;k+=P)re.push({value:r.is24?k:s(k,d),text:k<10?`0${k}`:`${k}`});return d==="hours"&&!r.is24&&re.unshift({value:V.value==="PM"?12:0,text:"12"}),Je(re,k=>({active:!1,disabled:z.value.times[d].includes(k.value)||!le(k.value,d)||M(d,k.value)||ee(d,k.value)}))},D=d=>d>=0?d:59,J=d=>d>=0?d:23,le=(d,_)=>{const j=r.minTime?$(Nt(r.minTime)):null,P=r.maxTime?$(Nt(r.maxTime)):null,Z=$(Nt(X.value,_,_==="minutes"||_==="seconds"?D(d):J(d)));return j&&P?(o.isBefore(Z,P)||o.isEqual(Z,P))&&(o.isAfter(Z,j)||o.isEqual(Z,j)):j?o.isAfter(Z,j)||o.isEqual(Z,j):P?o.isBefore(Z,P)||o.isEqual(Z,P):!0},u=d=>r[`no${d[0].toUpperCase()+d.slice(1)}Overlay`],Y=d=>{u(d)||(H[d]=!H[d],H[d]?a("overlay-opened",d):a("overlay-closed",d))},ae=d=>d==="hours"?o.getHours:d==="minutes"?o.getMinutes:o.getSeconds,m=()=>{I.value&&clearTimeout(I.value)},B=(d,_=!0,j)=>{const P=_?E:K,Z=_?+r[`${d}Increment`]:-+r[`${d}Increment`];le(+r[d]+Z,d)&&a(`update:${d}`,ae(d)(P({[d]:+r[d]},{[d]:+r[`${d}Increment`]}))),!(j!=null&&j.keyboard)&&g.value.timeArrowHoldThreshold&&(I.value=setTimeout(()=>{B(d,_)},g.value.timeArrowHoldThreshold))},q=d=>r.is24?d:(d>=12?V.value="PM":V.value="AM",In(d)),i=()=>{V.value==="PM"?(V.value="AM",a("update:hours",r.hours-12)):(V.value="PM",a("update:hours",r.hours+12)),a("am-pm-change",V.value)},ne=d=>{H[d]=!0},S=(d,_,j)=>{if(d&&r.arrowNavigation){Array.isArray(h.value[_])?h.value[_][j]=d:h.value[_]=[d];const P=h.value.reduce((Z,re)=>re.map((k,U)=>[...Z[U]||[],re[U]]),[]);p(r.closeTimePickerBtn),T.value&&(P[1]=P[1].concat(T.value)),f(P,r.order)}},ue=(d,_)=>(Y(d),a(`update:${d}`,_));return n({openChildCmp:ne}),(d,_)=>{var j;return d.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Pa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(oe.value,(P,Z)=>{var re,k,U;return e.openBlock(),e.createElementBlock("div",{key:Z,class:e.normalizeClass(se.value)},[P.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:ce=>S(ce,Z,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!d.timePickerInline,dp__inc_dec_button_inline:d.timePickerInline,dp__tp_inline_btn_top:d.timePickerInline,dp__inc_dec_button_disabled:A.value(P.type)}),"data-test":`${P.type}-time-inc-btn-${r.order}`,"aria-label":(re=e.unref(w))==null?void 0:re.incrementValue(P.type),tabindex:"0",onKeydown:ce=>e.unref($e)(ce,()=>B(P.type,!0,{keyboard:!0}),!0),onClick:ce=>e.unref(g).timeArrowHoldThreshold?void 0:B(P.type,!0),onMousedown:ce=>e.unref(g).timeArrowHoldThreshold?B(P.type,!0):void 0,onMouseup:m},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[d.$slots["tp-inline-arrow-up"]?e.renderSlot(d.$slots,"tp-inline-arrow-up",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Na,Ea],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[d.$slots["arrow-up"]?e.renderSlot(d.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),d.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))],64))],42,Ra),e.createElementVNode("button",{ref_for:!0,ref:ce=>S(ce,Z,1),type:"button","aria-label":(k=e.unref(w))==null?void 0:k.openTpOverlay(P.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!d.timePickerInline,dp__time_display_inline:d.timePickerInline,"dp--time-invalid":Q.value(P.type),"dp--time-overlay-btn":!Q.value(P.type)}),disabled:u(P.type),tabindex:"0","data-test":`${P.type}-toggle-overlay-btn-${r.order}`,onKeydown:ce=>e.unref($e)(ce,()=>Y(P.type),!0),onClick:ce=>Y(P.type)},[d.$slots[P.type]?e.renderSlot(d.$slots,P.type,{key:0,text:C.value(P.type).text,value:C.value(P.type).value}):e.createCommentVNode("",!0),d.$slots[P.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(C.value(P.type).text),1)],64))],42,_a),e.createElementVNode("button",{ref_for:!0,ref:ce=>S(ce,Z,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!d.timePickerInline,dp__inc_dec_button_inline:d.timePickerInline,dp__tp_inline_btn_bottom:d.timePickerInline,dp__inc_dec_button_disabled:te.value(P.type)}),"data-test":`${P.type}-time-dec-btn-${r.order}`,"aria-label":(U=e.unref(w))==null?void 0:U.decrementValue(P.type),tabindex:"0",onKeydown:ce=>e.unref($e)(ce,()=>B(P.type,!1,{keyboard:!0}),!0),onClick:ce=>e.unref(g).timeArrowHoldThreshold?void 0:B(P.type,!1),onMousedown:ce=>e.unref(g).timeArrowHoldThreshold?B(P.type,!1):void 0,onMouseup:m},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[d.$slots["tp-inline-arrow-down"]?e.renderSlot(d.$slots,"tp-inline-arrow-down",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Va,Oa],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[d.$slots["arrow-down"]?e.renderSlot(d.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),d.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))],64))],42,Ya)],64))],2)}),128)),d.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ia,[d.$slots["am-pm-button"]?e.renderSlot(d.$slots,"am-pm-button",{key:0,toggle:i,value:V.value}):e.createCommentVNode("",!0),d.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:T,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(j=e.unref(w))==null?void 0:j.amPmButton,tabindex:"0",onClick:i,onKeydown:_[0]||(_[0]=P=>e.unref($e)(P,()=>i(),!0))},e.toDisplayString(V.value),41,za))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(N.value,(P,Z)=>(e.openBlock(),e.createBlock(e.Transition,{key:Z,name:e.unref(v)(H[P.type]),css:e.unref(R)},{default:e.withCtx(()=>[H[P.type]?(e.openBlock(),e.createBlock(at,{key:0,items:L(P.type),"is-last":d.autoApply&&!e.unref(g).keepActionRow,"esc-close":d.escClose,type:P.type,"text-input":d.textInput,config:d.config,"arrow-navigation":d.arrowNavigation,"aria-labels":d.ariaLabels,onSelected:re=>ue(P.type,re),onToggle:re=>Y(P.type),onResetFlow:_[1]||(_[1]=re=>d.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[d.$slots["clock-icon"]?e.renderSlot(d.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),d.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.timePickerInline?e.unref(Xe):e.unref(Dt)),{key:1}))]),_:2},[d.$slots[`${P.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:re})=>[e.renderSlot(d.$slots,`${P.type}-overlay-value`,{text:re.text,value:re.value})]),key:"0"}:void 0,d.$slots[`${P.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(d.$slots,`${P.type}-overlay-header`,{toggle:()=>Y(P.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Ha={class:"dp--tp-wrap"},Ua=["aria-label","tabindex"],Wa=["tabindex"],ja=["aria-label"],$n=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},..._e},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:l}){const a=l,r=t,{buildMatrix:f,setTimePicker:p}=He(),w=e.useSlots(),{defaultedTransitions:c,defaultedAriaLabels:z,defaultedTextInput:g,defaultedConfig:O,defaultedRange:v}=ye(r),{transitionName:R,showTransition:H}=lt(c),{hideNavigationButtons:V}=ht(),T=e.ref(null),h=e.ref(null),I=e.ref([]),$=e.ref(null);e.onMounted(()=>{a("mount"),!r.timePicker&&r.arrowNavigation?f([ve(T.value)],"time"):p(!0,r.timePicker)});const Q=e.computed(()=>v.value.enabled&&r.modelAuto?ln(r.internalModelValue):!0),X=e.ref(!1),ee=s=>({hours:Array.isArray(r.hours)?r.hours[s]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[s]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[s]:r.seconds}),G=e.computed(()=>{const s=[];if(v.value.enabled)for(let L=0;L<2;L++)s.push(ee(L));else s.push(ee(0));return s}),A=(s,L=!1,D="")=>{L||a("reset-flow"),X.value=s,a(s?"overlay-opened":"overlay-closed",De.time),r.arrowNavigation&&p(s),e.nextTick(()=>{D!==""&&I.value[0]&&I.value[0].openChildCmp(D)})},te=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!O.value.keepActionRow})),E=Pe(w,"timePicker"),K=(s,L,D)=>v.value.enabled?L===0?[s,G.value[1][D]]:[G.value[0][D],s]:s,se=s=>{a("update:hours",s)},oe=s=>{a("update:minutes",s)},N=s=>{a("update:seconds",s)},C=()=>{if($.value&&!g.value.enabled&&!r.noOverlayFocus){const s=un($.value);s&&s.focus({preventScroll:!0})}},M=s=>{a("overlay-closed",s)};return n({toggleTimePicker:A}),(s,L)=>{var D;return e.openBlock(),e.createElementBlock("div",Ha,[!s.timePicker&&!s.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:T,type:"button",class:e.normalizeClass(te.value),"aria-label":(D=e.unref(z))==null?void 0:D.openTimePicker,tabindex:s.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:L[0]||(L[0]=J=>e.unref($e)(J,()=>A(!0))),onClick:L[1]||(L[1]=J=>A(!0))},[s.$slots["clock-icon"]?e.renderSlot(s.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),s.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],42,Ua)),[[e.vShow,!e.unref(V)(s.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(R)(X.value),css:e.unref(H)&&!s.timePickerInline},{default:e.withCtx(()=>{var J;return[X.value||s.timePicker||s.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:$,class:e.normalizeClass({dp__overlay:!s.timePickerInline,"dp--overlay-absolute":!r.timePicker&&!s.timePickerInline,"dp--overlay-relative":r.timePicker}),style:e.normalizeStyle(s.timePicker?{height:`${e.unref(O).modeHeight}px`}:void 0),tabindex:s.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(s.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[s.$slots["time-picker-overlay"]?e.renderSlot(s.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:se,setMinutes:oe,setSeconds:N}):e.createCommentVNode("",!0),s.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(s.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(G.value,(le,u)=>e.withDirectives((e.openBlock(),e.createBlock(La,e.mergeProps({key:u,ref_for:!0},{...s.$props,order:u,hours:le.hours,minutes:le.minutes,seconds:le.seconds,closeTimePickerBtn:h.value,disabledTimesConfig:t.disabledTimesConfig,disabled:u===0?s.fixedStart:s.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:I,"validate-time":(Y,ae)=>t.validateTime(Y,K(ae,u,Y)),"onUpdate:hours":Y=>se(K(Y,u,"hours")),"onUpdate:minutes":Y=>oe(K(Y,u,"minutes")),"onUpdate:seconds":Y=>N(K(Y,u,"seconds")),onMounted:C,onOverlayClosed:M,onOverlayOpened:L[2]||(L[2]=Y=>s.$emit("overlay-opened",Y)),onAmPmChange:L[3]||(L[3]=Y=>s.$emit("am-pm-change",Y))}),e.createSlots({_:2},[e.renderList(e.unref(E),(Y,ae)=>({name:Y,fn:e.withCtx(m=>[e.renderSlot(s.$slots,Y,e.mergeProps({ref_for:!0},m))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,u===0?!0:Q.value]])),128))],2)),!s.timePicker&&!s.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:h,type:"button",class:e.normalizeClass(te.value),"aria-label":(J=e.unref(z))==null?void 0:J.closeTimePicker,tabindex:"0",onKeydown:L[4]||(L[4]=le=>e.unref($e)(le,()=>A(!1))),onClick:L[5]||(L[5]=le=>A(!1))},[s.$slots["calendar-icon"]?e.renderSlot(s.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),s.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))],42,ja)),[[e.vShow,!e.unref(V)(s.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,Wa)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),An=(t,n,l,a)=>{const{defaultedRange:r}=ye(t),f=($,Q)=>Array.isArray(n[$])?n[$][Q]:n[$],p=$=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[$]:n.seconds:0,w=($,Q)=>$?Q!==void 0?ze($,f("hours",Q),f("minutes",Q),p(Q)):ze($,n.hours,n.minutes,p()):o.setSeconds(x(),p(Q)),c=($,Q)=>{n[$]=Q},z=e.computed(()=>t.modelAuto&&r.value.enabled?Array.isArray(l.value)?l.value.length>1:!1:r.value.enabled),g=($,Q)=>{const X=Object.fromEntries(Object.keys(n).map(ee=>ee===$?[ee,Q]:[ee,n[ee]].slice()));if(z.value&&!r.value.disableTimeRangeValidation){const ee=A=>l.value?ze(l.value[A],X.hours[A],X.minutes[A],X.seconds[A]):null,G=A=>o.setMilliseconds(l.value[A],0);return!(de(ee(0),ee(1))&&(o.isAfter(ee(0),G(1))||o.isBefore(ee(1),G(0))))}return!0},O=($,Q)=>{g($,Q)&&(c($,Q),a&&a())},v=$=>{O("hours",$)},R=$=>{O("minutes",$)},H=$=>{O("seconds",$)},V=($,Q,X,ee)=>{Q&&v($),!Q&&!X&&R($),X&&H($),l.value&&ee(l.value)},T=$=>{if($){const Q=Array.isArray($),X=Q?[+$[0].hours,+$[1].hours]:+$.hours,ee=Q?[+$[0].minutes,+$[1].minutes]:+$.minutes,G=Q?[+$[0].seconds,+$[1].seconds]:+$.seconds;c("hours",X),c("minutes",ee),t.enableSeconds&&c("seconds",G)}},h=($,Q)=>{const X={hours:Array.isArray(n.hours)?n.hours[$]:n.hours,disabledArr:[]};return(Q||Q===0)&&(X.hours=Q),Array.isArray(t.disabledTimes)&&(X.disabledArr=r.value.enabled&&Array.isArray(t.disabledTimes[$])?t.disabledTimes[$]:t.disabledTimes),X},I=e.computed(()=>($,Q)=>{var X;if(Array.isArray(t.disabledTimes)){const{disabledArr:ee,hours:G}=h($,Q),A=ee.filter(te=>+te.hours===G);return((X=A[0])==null?void 0:X.minutes)==="*"?{hours:[G],minutes:void 0,seconds:void 0}:{hours:[],minutes:(A==null?void 0:A.map(te=>+te.minutes))??[],seconds:(A==null?void 0:A.map(te=>te.seconds?+te.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:c,updateHours:v,updateMinutes:R,updateSeconds:H,getSetDateTime:w,updateTimeValues:V,getSecondsValue:p,assignStartTime:T,validateTime:g,disabledTimesConfig:I}},xa=(t,n)=>{const l=()=>{t.isTextInputDate&&Q()},{modelValue:a,time:r}=ot(t,n,l),{defaultedStartTime:f,defaultedRange:p,defaultedTz:w}=ye(t),{updateTimeValues:c,getSetDateTime:z,setTime:g,assignStartTime:O,disabledTimesConfig:v,validateTime:R}=An(t,r,a,H);function H(){n("update-flow-step")}const V=G=>{const{hours:A,minutes:te,seconds:E}=G;return{hours:+A,minutes:+te,seconds:E?+E:0}},T=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const A=V(t.startTime[0]),te=V(t.startTime[1]);return[o.set(x(),A),o.set(x(),te)]}const G=V(t.startTime);return o.set(x(),G)}return p.value.enabled?[null,null]:null},h=()=>{if(p.value.enabled){const[G,A]=T();a.value=[Te(z(G,0),w.value.timezone),Te(z(A,1),w.value.timezone)]}else a.value=Te(z(T()),w.value.timezone)},I=G=>Array.isArray(G)?[qe(x(G[0])),qe(x(G[1]))]:[qe(G??x())],$=(G,A,te)=>{g("hours",G),g("minutes",A),g("seconds",t.enableSeconds?te:0)},Q=()=>{const[G,A]=I(a.value);return p.value.enabled?$([G.hours,A.hours],[G.minutes,A.minutes],[G.seconds,A.seconds]):$(G.hours,G.minutes,G.seconds)};e.onMounted(()=>{if(!t.shadow)return O(f.value),a.value?Q():h()});const X=()=>{Array.isArray(a.value)?a.value=a.value.map((G,A)=>G&&z(G,A)):a.value=z(a.value),n("time-update")};return{modelValue:a,time:r,disabledTimesConfig:v,updateTime:(G,A=!0,te=!1)=>{c(G,A,te,X)},validateTime:R}},Ka=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{..._e},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,f=e.useSlots(),p=Pe(f,"timePicker"),w=e.ref(null),{time:c,modelValue:z,disabledTimesConfig:g,updateTime:O,validateTime:v}=xa(r,a);return e.onMounted(()=>{r.shadow||a("mount",null)}),n({getSidebarProps:()=>({modelValue:z,time:c,updateTime:O}),toggleTimePicker:(V,T=!1,h="")=>{var I;(I=w.value)==null||I.toggleTimePicker(V,T,h)}}),(V,T)=>(e.openBlock(),e.createBlock(gt,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode($n,e.mergeProps({ref_key:"tpRef",ref:w},V.$props,{hours:e.unref(c).hours,minutes:e.unref(c).minutes,seconds:e.unref(c).seconds,"internal-model-value":V.internalModelValue,"disabled-times-config":e.unref(g),"validate-time":e.unref(v),"onUpdate:hours":T[0]||(T[0]=h=>e.unref(O)(h)),"onUpdate:minutes":T[1]||(T[1]=h=>e.unref(O)(h,!1)),"onUpdate:seconds":T[2]||(T[2]=h=>e.unref(O)(h,!1,!0)),onAmPmChange:T[3]||(T[3]=h=>V.$emit("am-pm-change",h)),onResetFlow:T[4]||(T[4]=h=>V.$emit("reset-flow")),onOverlayClosed:T[5]||(T[5]=h=>V.$emit("overlay-toggle",{open:!1,overlay:h})),onOverlayOpened:T[6]||(T[6]=h=>V.$emit("overlay-toggle",{open:!0,overlay:h}))}),e.createSlots({_:2},[e.renderList(e.unref(p),(h,I)=>({name:h,fn:e.withCtx($=>[e.renderSlot(V.$slots,h,e.normalizeProps(e.guardReactiveProps($)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),qa={class:"dp--header-wrap"},Ga={key:0,class:"dp__month_year_wrap"},Qa={key:0},Xa={class:"dp__month_year_wrap"},Ja=["aria-label","data-test","onClick","onKeydown"],Za=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},..._e},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:n,emit:l}){const a=l,r=t,{defaultedTransitions:f,defaultedAriaLabels:p,defaultedMultiCalendars:w,defaultedFilters:c,defaultedConfig:z,defaultedHighlight:g,propDates:O,defaultedUI:v}=ye(r),{transitionName:R,showTransition:H}=lt(f),{buildMatrix:V}=He(),{handleMonthYearChange:T,isDisabled:h,updateMonthYear:I}=ya(r,a),{showLeftIcon:$,showRightIcon:Q}=ht(),X=e.ref(!1),ee=e.ref(!1),G=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const A=u=>({get:()=>r[u],set:Y=>{const ae=u===Ne.month?Ne.year:Ne.month;a("update-month-year",{[u]:Y,[ae]:r[ae]}),u===Ne.month?M(!0):s(!0)}}),te=e.computed(A(Ne.month)),E=e.computed(A(Ne.year)),K=e.computed(()=>u=>({month:r.month,year:r.year,items:u===Ne.month?r.months:r.years,instance:r.instance,updateMonthYear:I,toggle:u===Ne.month?M:s})),se=e.computed(()=>{const u=r.months.find(Y=>Y.value===r.month);return u||{text:"",value:0}}),oe=e.computed(()=>Je(r.months,u=>{const Y=r.month===u.value,ae=tt(u.value,fn(r.year,O.value.minDate),mn(r.year,O.value.maxDate))||c.value.months.includes(u.value),m=bn(g.value,u.value,r.year);return{active:Y,disabled:ae,highlighted:m}})),N=e.computed(()=>Je(r.years,u=>{const Y=r.year===u.value,ae=tt(u.value,Ze(O.value.minDate),Ze(O.value.maxDate))||c.value.years.includes(u.value),m=Ot(g.value,u.value);return{active:Y,disabled:ae,highlighted:m}})),C=(u,Y,ae)=>{ae!==void 0?u.value=ae:u.value=!u.value,u.value?a("overlay-opened",Y):a("overlay-closed",Y)},M=(u=!1,Y)=>{L(u),C(X,De.month,Y)},s=(u=!1,Y)=>{L(u),C(ee,De.year,Y)},L=u=>{u||a("reset-flow")},D=(u,Y)=>{r.arrowNavigation&&(G.value[Y]=ve(u),V(G.value,"monthYear"))},J=e.computed(()=>{var u,Y;return[{type:Ne.month,index:1,toggle:M,modelValue:te.value,updateModelValue:ae=>te.value=ae,text:se.value.text,showSelectionGrid:X.value,items:oe.value,ariaLabel:(u=p.value)==null?void 0:u.openMonthsOverlay},{type:Ne.year,index:2,toggle:s,modelValue:E.value,updateModelValue:ae=>E.value=ae,text:cn(r.year,r.locale),showSelectionGrid:ee.value,items:N.value,ariaLabel:(Y=p.value)==null?void 0:Y.openYearsOverlay}]}),le=e.computed(()=>r.disableYearSelect?[J.value[0]]:r.yearFirst?[...J.value].reverse():J.value);return n({toggleMonthPicker:M,toggleYearPicker:s,handleMonthYearChange:T}),(u,Y)=>{var ae,m,B,q,i,ne;return e.openBlock(),e.createElementBlock("div",qa,[u.$slots["month-year"]?(e.openBlock(),e.createElementBlock("div",Ga,[e.renderSlot(u.$slots,"month-year",e.normalizeProps(e.guardReactiveProps({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(I),handleMonthYearChange:e.unref(T),instance:t.instance})))])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[u.$slots["top-extra"]?(e.openBlock(),e.createElementBlock("div",Qa,[e.renderSlot(u.$slots,"top-extra",{value:u.internalModelValue})])):e.createCommentVNode("",!0),e.createElementVNode("div",Xa,[e.unref($)(e.unref(w),t.instance)&&!u.vertical?(e.openBlock(),e.createBlock(rt,{key:0,"aria-label":(ae=e.unref(p))==null?void 0:ae.prevMonth,disabled:e.unref(h)(!1),class:e.normalizeClass((m=e.unref(v))==null?void 0:m.navBtnPrev),onActivate:Y[0]||(Y[0]=S=>e.unref(T)(!1,!0)),onSetRef:Y[1]||(Y[1]=S=>D(S,0))},{default:e.withCtx(()=>[u.$slots["arrow-left"]?e.renderSlot(u.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(vt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:u.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(le.value,(S,ue)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:S.type},[e.createElementVNode("button",{ref_for:!0,ref:d=>D(d,ue+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":S.ariaLabel,"data-test":`${S.type}-toggle-overlay-${t.instance}`,onClick:S.toggle,onKeydown:d=>e.unref($e)(d,()=>S.toggle(),!0)},[u.$slots[S.type]?e.renderSlot(u.$slots,S.type,{key:0,text:S.text,value:r[S.type]}):e.createCommentVNode("",!0),u.$slots[S.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(S.text),1)],64))],40,Ja),e.createVNode(e.Transition,{name:e.unref(R)(S.showSelectionGrid),css:e.unref(H)},{default:e.withCtx(()=>[S.showSelectionGrid?(e.openBlock(),e.createBlock(at,{key:0,items:S.items,"arrow-navigation":u.arrowNavigation,"hide-navigation":u.hideNavigation,"is-last":u.autoApply&&!e.unref(z).keepActionRow,"skip-button-ref":!1,config:u.config,type:S.type,"header-refs":[],"esc-close":u.escClose,"menu-wrap-ref":u.menuWrapRef,"text-input":u.textInput,"aria-labels":u.ariaLabels,onSelected:S.updateModelValue,onToggle:S.toggle},e.createSlots({"button-icon":e.withCtx(()=>[u.$slots["calendar-icon"]?e.renderSlot(u.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),u.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))]),_:2},[u.$slots[`${S.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:d})=>[e.renderSlot(u.$slots,`${S.type}-overlay-value`,{text:d.text,value:d.value})]),key:"0"}:void 0,u.$slots[`${S.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(u.$slots,`${S.type}-overlay`,e.mergeProps({ref_for:!0},K.value(S.type)))]),key:"1"}:void 0,u.$slots[`${S.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(u.$slots,`${S.type}-overlay-header`,{toggle:S.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref($)(e.unref(w),t.instance)&&u.vertical?(e.openBlock(),e.createBlock(rt,{key:1,"aria-label":(B=e.unref(p))==null?void 0:B.prevMonth,disabled:e.unref(h)(!1),class:e.normalizeClass((q=e.unref(v))==null?void 0:q.navBtnPrev),onActivate:Y[2]||(Y[2]=S=>e.unref(T)(!1,!0))},{default:e.withCtx(()=>[u.$slots["arrow-up"]?e.renderSlot(u.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.unref(Q)(e.unref(w),t.instance)?(e.openBlock(),e.createBlock(rt,{key:2,ref:"rightIcon",disabled:e.unref(h)(!0),"aria-label":(i=e.unref(p))==null?void 0:i.nextMonth,class:e.normalizeClass((ne=e.unref(v))==null?void 0:ne.navBtnNext),onActivate:Y[3]||(Y[3]=S=>e.unref(T)(!0,!0)),onSetRef:Y[4]||(Y[4]=S=>D(S,u.disableYearSelect?2:3))},{default:e.withCtx(()=>[u.$slots[u.vertical?"arrow-down":"arrow-right"]?e.renderSlot(u.$slots,u.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),u.$slots[u.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(u.vertical?e.unref(Ct):e.unref(Mt)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):e.createCommentVNode("",!0)])],64))])}}}),Fa=["aria-label"],er={class:"dp__calendar_header",role:"row"},tr={key:0,class:"dp__calendar_header_item",role:"gridcell"},nr=["aria-label"],ar=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),rr=["aria-label"],lr={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},or={class:"dp__cell_inner"},sr=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],ir=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},..._e},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:l}){const a=l,r=t,{buildMultiLevelMatrix:f}=He(),{defaultedTransitions:p,defaultedConfig:w,defaultedAriaLabels:c,defaultedMultiCalendars:z,defaultedWeekNumbers:g,defaultedMultiDates:O,defaultedUI:v}=ye(r),R=e.ref(null),H=e.ref({bottom:"",left:"",transform:""}),V=e.ref([]),T=e.ref(null),h=e.ref(!0),I=e.ref(""),$=e.ref({startX:0,endX:0,startY:0,endY:0}),Q=e.ref([]),X=e.ref({left:"50%"}),ee=e.ref(!1),G=e.computed(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),A=e.computed(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):On(r.formatLocale,r.locale,+r.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:V}),w.value.noSwipe||T.value&&(T.value.addEventListener("touchstart",D,{passive:!1}),T.value.addEventListener("touchend",J,{passive:!1}),T.value.addEventListener("touchmove",le,{passive:!1})),r.monthChangeOnScroll&&T.value&&T.value.addEventListener("wheel",ae,{passive:!1})});const te=S=>S?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",E=(S,ue)=>{if(r.transitions){const d=Be(Oe(x(),r.month,r.year));I.value=ke(Be(Oe(x(),S,ue)),d)?p.value[te(!0)]:p.value[te(!1)],h.value=!1,e.nextTick(()=>{h.value=!0})}},K=e.computed(()=>({[r.calendarClassName]:!!r.calendarClassName,...v.value.calendar??{}})),se=e.computed(()=>S=>{const ue=zn(S);return{dp__marker_dot:ue.type==="dot",dp__marker_line:ue.type==="line"}}),oe=e.computed(()=>S=>de(S,R.value)),N=e.computed(()=>({dp__calendar:!0,dp__calendar_next:z.value.count>0&&r.instance!==0})),C=e.computed(()=>S=>r.hideOffsetDates?S.current:!0),M=async(S,ue,d)=>{const _=ve(V.value[ue][d]);if(_){const{width:j,height:P}=_.getBoundingClientRect();R.value=S.value;let Z={left:`${j/2}px`},re=-50;if(await e.nextTick(),Q.value[0]){const{left:k,width:U}=Q.value[0].getBoundingClientRect();k<0&&(Z={left:"0"},re=0,X.value.left=`${j/2}px`),window.innerWidth<k+U&&(Z={right:"0"},re=0,X.value.left=`${U-j/2}px`)}H.value={bottom:`${P}px`,...Z,transform:`translateX(${re}%)`},a("tooltip-open",S.marker)}},s=async(S,ue,d)=>{var _,j;if(ee.value&&O.value.enabled&&O.value.dragSelect)return a("select-date",S);a("set-hover-date",S),(j=(_=S.marker)==null?void 0:_.tooltip)!=null&&j.length&&await M(S,ue,d)},L=S=>{R.value&&(R.value=null,H.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",S.marker))},D=S=>{$.value.startX=S.changedTouches[0].screenX,$.value.startY=S.changedTouches[0].screenY},J=S=>{$.value.endX=S.changedTouches[0].screenX,$.value.endY=S.changedTouches[0].screenY,u()},le=S=>{r.vertical&&!r.inline&&S.preventDefault()},u=()=>{const S=r.vertical?"Y":"X";Math.abs($.value[`start${S}`]-$.value[`end${S}`])>10&&a("handle-swipe",$.value[`start${S}`]>$.value[`end${S}`]?"right":"left")},Y=(S,ue,d)=>{S&&(Array.isArray(V.value[ue])?V.value[ue][d]=S:V.value[ue]=[S]),r.arrowNavigation&&f(V.value,"calendar")},ae=S=>{r.monthChangeOnScroll&&(S.preventDefault(),a("handle-scroll",S))},m=S=>g.value.type==="local"?o.getWeek(S.value,{weekStartsOn:+r.weekStart}):g.value.type==="iso"?o.getISOWeek(S.value):typeof g.value.type=="function"?g.value.type(S.value):"",B=S=>{const ue=S[0];return g.value.hideOnOffsetDates?S.some(d=>d.current)?m(ue):"":m(ue)},q=(S,ue)=>{O.value.enabled||(Ie(S,w.value),a("select-date",ue))},i=S=>{Ie(S,w.value)},ne=S=>{O.value.enabled&&O.value.dragSelect?(ee.value=!0,a("select-date",S)):O.value.enabled&&a("select-date",S)};return n({triggerTransition:E}),(S,ue)=>{var d;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(N.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:T,role:"grid",class:e.normalizeClass(K.value),"aria-label":(d=e.unref(c))==null?void 0:d.calendarWrap},[e.createElementVNode("div",er,[S.weekNumbers?(e.openBlock(),e.createElementBlock("div",tr,e.toDisplayString(S.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(A.value,(_,j)=>{var P,Z;return e.openBlock(),e.createElementBlock("div",{key:j,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(Z=(P=e.unref(c))==null?void 0:P.weekDay)==null?void 0:Z.call(P,j)},[S.$slots["calendar-header"]?e.renderSlot(S.$slots,"calendar-header",{key:0,day:_,index:j}):e.createCommentVNode("",!0),S.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(_),1)],64))],8,nr)}),128))]),ar,e.createVNode(e.Transition,{name:I.value,css:!!S.transitions},{default:e.withCtx(()=>{var _;return[h.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((_=e.unref(c))==null?void 0:_.calendarDays)||void 0,onMouseleave:ue[1]||(ue[1]=j=>ee.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(G.value,(j,P)=>(e.openBlock(),e.createElementBlock("div",{key:P,class:"dp__calendar_row",role:"row"},[S.weekNumbers?(e.openBlock(),e.createElementBlock("div",lr,[e.createElementVNode("div",or,e.toDisplayString(B(j.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(j.days,(Z,re)=>{var k,U,ce;return e.openBlock(),e.createElementBlock("div",{id:e.unref(wn)(Z.value),ref_for:!0,ref:fe=>Y(fe,P,re),key:re+P,role:"gridcell",class:"dp__calendar_item","aria-selected":(Z.classData.dp__active_date||Z.classData.dp__range_start||Z.classData.dp__range_start)??void 0,"aria-disabled":Z.classData.dp__cell_disabled||void 0,"aria-label":(U=(k=e.unref(c))==null?void 0:k.day)==null?void 0:U.call(k,Z),tabindex:"0","data-test":Z.value,onClick:e.withModifiers(fe=>q(fe,Z),["prevent"]),onKeydown:fe=>e.unref($e)(fe,()=>S.$emit("select-date",Z)),onMouseenter:fe=>s(Z,P,re),onMouseleave:fe=>L(Z),onMousedown:fe=>ne(Z),onMouseup:ue[0]||(ue[0]=fe=>ee.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",Z.classData])},[S.$slots.day&&C.value(Z)?e.renderSlot(S.$slots,"day",{key:0,day:+Z.text,date:Z.value}):e.createCommentVNode("",!0),S.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(Z.text),1)],64)),Z.marker&&C.value(Z)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[S.$slots.marker?e.renderSlot(S.$slots,"marker",{key:0,marker:Z.marker,day:+Z.text,date:Z.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(se.value(Z.marker)),style:e.normalizeStyle(Z.marker.color?{backgroundColor:Z.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),oe.value(Z.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:Q,class:"dp__marker_tooltip",style:e.normalizeStyle(H.value)},[(ce=Z.marker)!=null&&ce.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:i},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Z.marker.tooltip,(fe,Ae)=>(e.openBlock(),e.createElementBlock("div",{key:Ae,class:"dp__tooltip_text"},[S.$slots["marker-tooltip"]?e.renderSlot(S.$slots,"marker-tooltip",{key:0,tooltip:fe,day:Z.value}):e.createCommentVNode("",!0),S.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(fe.color?{backgroundColor:fe.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(fe.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(X.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,sr)}),128))]))),128))],40,rr)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,Fa)],2)}}}),Pn=t=>Array.isArray(t),ur=(t,n,l,a)=>{const r=e.ref([]),f=e.ref(new Date),p=e.ref(),w=()=>J(t.isTextInputDate),{modelValue:c,calendars:z,time:g,today:O}=ot(t,n,w),{defaultedMultiCalendars:v,defaultedStartTime:R,defaultedRange:H,defaultedConfig:V,defaultedTz:T,propDates:h,defaultedMultiDates:I}=ye(t),{validateMonthYearInRange:$,isDisabled:Q,isDateRangeAllowed:X,checkMinMaxRange:ee}=We(t),{updateTimeValues:G,getSetDateTime:A,setTime:te,assignStartTime:E,validateTime:K,disabledTimesConfig:se}=An(t,g,c,a),oe=e.computed(()=>b=>z.value[b]?z.value[b].month:0),N=e.computed(()=>b=>z.value[b]?z.value[b].year:0),C=b=>!V.value.keepViewOnOffsetClick||b?!0:!p.value,M=(b,y,W,F=!1)=>{var me,Me;C(F)&&(z.value[b]||(z.value[b]={month:0,year:0}),z.value[b].month=sn(y)?(me=z.value[b])==null?void 0:me.month:y,z.value[b].year=sn(W)?(Me=z.value[b])==null?void 0:Me.year:W)},s=()=>{t.autoApply&&n("select-date")};e.onMounted(()=>{t.shadow||(c.value||(ue(),R.value&&E(R.value)),J(!0),t.focusStartDate&&t.startDate&&ue())});const L=e.computed(()=>{var b;return(b=t.flow)!=null&&b.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),D=()=>{t.autoApply&&L.value&&n("auto-apply")},J=(b=!1)=>{if(c.value)return Array.isArray(c.value)?(r.value=c.value,q(b)):Y(c.value,b);if(v.value.count&&b&&!t.startDate)return u(x(),b)},le=()=>Array.isArray(c.value)&&H.value.enabled?o.getMonth(c.value[0])===o.getMonth(c.value[1]??c.value[0]):!1,u=(b=new Date,y=!1)=>{if((!v.value.count||!v.value.static||y)&&M(0,o.getMonth(b),o.getYear(b)),v.value.count&&(!v.value.solo||!c.value||le()))for(let W=1;W<v.value.count;W++){const F=o.set(x(),{month:oe.value(W-1),year:N.value(W-1)}),me=o.add(F,{months:1});z.value[W]={month:o.getMonth(me),year:o.getYear(me)}}},Y=(b,y)=>{u(b),te("hours",o.getHours(b)),te("minutes",o.getMinutes(b)),te("seconds",o.getSeconds(b)),v.value.count&&y&&S()},ae=b=>{if(v.value.count){if(v.value.solo)return 0;const y=o.getMonth(b[0]),W=o.getMonth(b[1]);return Math.abs(W-y)<v.value.count?0:1}return 1},m=(b,y)=>{b[1]&&H.value.showLastInRange?u(b[ae(b)],y):u(b[0],y);const W=(F,me)=>[F(b[0]),b[1]?F(b[1]):g[me][1]];te("hours",W(o.getHours,"hours")),te("minutes",W(o.getMinutes,"minutes")),te("seconds",W(o.getSeconds,"seconds"))},B=(b,y)=>{if((H.value.enabled||t.weekPicker)&&!I.value.enabled)return m(b,y);if(I.value.enabled&&y){const W=b[b.length-1];return Y(W,y)}},q=b=>{const y=c.value;B(y,b),v.value.count&&v.value.solo&&S()},i=(b,y)=>{const W=o.set(x(),{month:oe.value(y),year:N.value(y)}),F=b<0?o.addMonths(W,1):o.subMonths(W,1);$(o.getMonth(F),o.getYear(F),b<0,t.preventMinMaxNavigation)&&(M(y,o.getMonth(F),o.getYear(F)),n("update-month-year",{instance:y,month:o.getMonth(F),year:o.getYear(F)}),v.value.count&&!v.value.solo&&ne(y),l())},ne=b=>{for(let y=b-1;y>=0;y--){const W=o.subMonths(o.set(x(),{month:oe.value(y+1),year:N.value(y+1)}),1);M(y,o.getMonth(W),o.getYear(W))}for(let y=b+1;y<=v.value.count-1;y++){const W=o.addMonths(o.set(x(),{month:oe.value(y-1),year:N.value(y-1)}),1);M(y,o.getMonth(W),o.getYear(W))}},S=()=>{if(Array.isArray(c.value)&&c.value.length===2){const b=x(x(c.value[1]?c.value[1]:o.addMonths(c.value[0],1))),[y,W]=[o.getMonth(c.value[0]),o.getYear(c.value[0])],[F,me]=[o.getMonth(c.value[1]),o.getYear(c.value[1])];(y!==F||y===F&&W!==me)&&v.value.solo&&M(1,o.getMonth(b),o.getYear(b))}else c.value&&!Array.isArray(c.value)&&(M(0,o.getMonth(c.value),o.getYear(c.value)),u(x()))},ue=()=>{t.startDate&&(M(0,o.getMonth(x(t.startDate)),o.getYear(x(t.startDate))),v.value.count&&ne(0))},d=(b,y)=>{if(t.monthChangeOnScroll){const W=new Date().getTime()-f.value.getTime(),F=Math.abs(b.deltaY);let me=500;F>1&&(me=100),F>100&&(me=0),W>me&&(f.value=new Date,i(t.monthChangeOnScroll!=="inverse"?-b.deltaY:b.deltaY,y))}},_=(b,y,W=!1)=>{t.monthChangeOnArrows&&t.vertical===W&&j(b,y)},j=(b,y)=>{i(b==="right"?-1:1,y)},P=b=>{if(h.value.markers)return ct(b.value,h.value.markers)},Z=(b,y)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[b==0,!0];case"fair":return[b==0||y>b,!0];case"append":return[!1,!1];default:return[!1,!1]}},re=(b,y,W,F)=>{if(t.sixWeeks&&b.length<6){const me=6-b.length,Me=(y.getDay()+7-F)%7,bt=6-(W.getDay()+7-F)%7,[ut,en]=Z(Me,bt);for(let Qe=1;Qe<=me;Qe++)if(en?!!(Qe%2)==ut:ut){const wt=b[0].days[0],tn=k(o.addDays(wt.value,-7),o.getMonth(y));b.unshift({days:tn})}else{const wt=b[b.length-1],tn=wt.days[wt.days.length-1],Or=k(o.addDays(tn.value,1),o.getMonth(y));b.push({days:Or})}}return b},k=(b,y)=>{const W=x(b),F=[];for(let me=0;me<7;me++){const Me=o.addDays(W,me),Ge=o.getMonth(Me)!==y;F.push({text:t.hideOffsetDates&&Ge?"":Me.getDate(),value:Me,current:!Ge,classData:{}})}return F},U=(b,y)=>{const W=[],F=new Date(y,b),me=new Date(y,b+1,0),Me=t.weekStart,Ge=o.startOfWeek(F,{weekStartsOn:Me}),bt=ut=>{const en=k(ut,b);if(W.push({days:en}),!W[W.length-1].days.some(Qe=>de(Be(Qe.value),Be(me)))){const Qe=o.addDays(ut,7);bt(Qe)}};return bt(Ge),re(W,F,me,Me)},ce=b=>{const y=ze(x(b.value),g.hours,g.minutes,Re());n("date-update",y),I.value.enabled?Wt(y,c,I.value.limit):c.value=y,a(),e.nextTick().then(()=>{D()})},fe=b=>H.value.noDisabledRange?pn(r.value[0],b).some(W=>Q(W)):!1,Ae=()=>{r.value=c.value?c.value.slice():[],r.value.length===2&&!(H.value.fixedStart||H.value.fixedEnd)&&(r.value=[])},ie=(b,y)=>{const W=[x(b.value),o.addDays(x(b.value),+H.value.autoRange)];X(W)?(y&&je(b.value),r.value=W):n("invalid-date",b.value)},je=b=>{const y=o.getMonth(x(b)),W=o.getYear(x(b));if(M(0,y,W),v.value.count>0)for(let F=1;F<v.value.count;F++){const me=qn(o.set(x(b),{year:oe.value(F-1),month:N.value(F-1)}));M(F,me.month,me.year)}},Ye=b=>{if(fe(b.value)||!ee(b.value,c.value,H.value.fixedStart?0:1))return n("invalid-date",b.value);r.value=Bn(x(b.value),c,n,H)},st=(b,y)=>{if(Ae(),H.value.autoRange)return ie(b,y);if(H.value.fixedStart||H.value.fixedEnd)return Ye(b);r.value[0]?ee(x(b.value),c.value)&&!fe(b.value)?he(x(b.value),x(r.value[0]))?(r.value.unshift(x(b.value)),n("range-end",r.value[0])):(r.value[1]=x(b.value),n("range-end",r.value[1])):(t.autoApply&&n("auto-apply-invalid",b.value),n("invalid-date",b.value)):(r.value[0]=x(b.value),n("range-start",r.value[0]))},Re=(b=!0)=>t.enableSeconds?Array.isArray(g.seconds)?b?g.seconds[0]:g.seconds[1]:g.seconds:0,it=b=>{r.value[b]=ze(r.value[b],g.hours[b],g.minutes[b],Re(b!==1))},qt=()=>{var b,y;r.value[0]&&r.value[1]&&+((b=r.value)==null?void 0:b[0])>+((y=r.value)==null?void 0:y[1])&&(r.value.reverse(),n("range-start",r.value[0]),n("range-end",r.value[1]))},kt=()=>{r.value.length&&(r.value[0]&&!r.value[1]?it(0):(it(0),it(1),a()),qt(),c.value=r.value.slice(),yt(r.value,n,t.autoApply,t.modelAuto))},Gt=(b,y=!1)=>{if(Q(b.value)||!b.current&&t.hideOffsetDates)return n("invalid-date",b.value);if(p.value=JSON.parse(JSON.stringify(b)),!H.value.enabled)return ce(b);Pn(g.hours)&&Pn(g.minutes)&&!I.value.enabled&&(st(b,y),kt())},Qt=(b,y)=>{var F;M(b,y.month,y.year,!0),v.value.count&&!v.value.solo&&ne(b),n("update-month-year",{instance:b,month:y.month,year:y.year}),l(v.value.solo?b:void 0);const W=(F=t.flow)!=null&&F.length?t.flow[t.flowStep]:void 0;!y.fromNav&&(W===De.month||W===De.year)&&a()},Xt=(b,y)=>{Cn({value:b,modelValue:c,range:H.value.enabled,timezone:y?void 0:T.value.timezone}),s(),t.multiCalendars&&e.nextTick().then(()=>J(!0))},Jt=()=>{const b=Bt(x(),T.value);H.value.enabled?c.value&&Array.isArray(c.value)&&c.value[0]?c.value=he(b,c.value[0])?[b,c.value[0]]:[c.value[0],b]:c.value=[b]:c.value=b,s()},Zt=()=>{if(Array.isArray(c.value))if(I.value.enabled){const b=Ft();c.value[c.value.length-1]=A(b)}else c.value=c.value.map((b,y)=>b&&A(b,y));else c.value=A(c.value);n("time-update")},Ft=()=>Array.isArray(c.value)&&c.value.length?c.value[c.value.length-1]:null;return{calendars:z,modelValue:c,month:oe,year:N,time:g,disabledTimesConfig:se,today:O,validateTime:K,getCalendarDays:U,getMarker:P,handleScroll:d,handleSwipe:j,handleArrow:_,selectDate:Gt,updateMonthYear:Qt,presetDate:Xt,selectCurrentDate:Jt,updateTime:(b,y=!0,W=!1)=>{G(b,y,W,Zt)},assignMonthAndYear:u}},cr={key:0},dr=e.defineComponent({__name:"DatePicker",props:{..._e},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,{calendars:f,month:p,year:w,modelValue:c,time:z,disabledTimesConfig:g,today:O,validateTime:v,getCalendarDays:R,getMarker:H,handleArrow:V,handleScroll:T,handleSwipe:h,selectDate:I,updateMonthYear:$,presetDate:Q,selectCurrentDate:X,updateTime:ee,assignMonthAndYear:G}=ur(r,a,le,u),A=e.useSlots(),{setHoverDate:te,getDayClassData:E,clearHoverDate:K}=Br(c,r),{defaultedMultiCalendars:se}=ye(r),oe=e.ref([]),N=e.ref([]),C=e.ref(null),M=Pe(A,"calendar"),s=Pe(A,"monthYear"),L=Pe(A,"timePicker"),D=_=>{r.shadow||a("mount",_)};e.watch(f,()=>{r.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0}),e.watch(se,(_,j)=>{_.count-j.count>0&&G()},{deep:!0});const J=e.computed(()=>_=>R(p.value(_),w.value(_)).map(j=>({...j,days:j.days.map(P=>(P.marker=H(P),P.classData=E(P),P))})));function le(_){var j;_||_===0?(j=N.value[_])==null||j.triggerTransition(p.value(_),w.value(_)):N.value.forEach((P,Z)=>P.triggerTransition(p.value(Z),w.value(Z)))}function u(){a("update-flow-step")}const Y=(_,j=!1)=>{I(_,j),r.spaceConfirm&&a("select-date")},ae=(_,j,P=0)=>{var Z;(Z=oe.value[P])==null||Z.toggleMonthPicker(_,j)},m=(_,j,P=0)=>{var Z;(Z=oe.value[P])==null||Z.toggleYearPicker(_,j)},B=(_,j,P)=>{var Z;(Z=C.value)==null||Z.toggleTimePicker(_,j,P)},q=(_,j)=>{var P;if(!r.range){const Z=c.value?c.value:O,re=j?new Date(j):Z,k=_?o.startOfWeek(re,{weekStartsOn:1}):o.endOfWeek(re,{weekStartsOn:1});I({value:k,current:o.getMonth(re)===p.value(0),text:"",classData:{}}),(P=document.getElementById(wn(k)))==null||P.focus()}},i=_=>{var j;(j=oe.value[0])==null||j.handleMonthYearChange(_,!0)},ne=_=>{$(0,{month:p.value(0),year:w.value(0)+(_?1:-1),fromNav:!0})},S=(_,j)=>{_===De.time&&a(`time-picker-${j?"open":"close"}`),a("overlay-toggle",{open:j,overlay:_})},ue=_=>{a("overlay-toggle",{open:!1,overlay:_}),a("focus-menu")};return n({clearHoverDate:K,presetDate:Q,selectCurrentDate:X,toggleMonthPicker:ae,toggleYearPicker:m,toggleTimePicker:B,handleArrow:V,updateMonthYear:$,getSidebarProps:()=>({modelValue:c,month:p,year:w,time:z,updateTime:ee,updateMonthYear:$,selectDate:I,presetDate:Q}),changeMonth:i,changeYear:ne,selectWeekDate:q}),(_,j)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(gt,{"multi-calendars":e.unref(se).count,collapse:_.collapse},{default:e.withCtx(({instance:P,index:Z})=>[_.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Za,e.mergeProps({key:0,ref:re=>{re&&(oe.value[Z]=re)},months:e.unref(rn)(_.formatLocale,_.locale,_.monthNameFormat),years:e.unref($t)(_.yearRange,_.locale,_.reverseYears),month:e.unref(p)(P),year:e.unref(w)(P),instance:P},_.$props,{onMount:j[0]||(j[0]=re=>D(e.unref(Ke).header)),onResetFlow:j[1]||(j[1]=re=>_.$emit("reset-flow")),onUpdateMonthYear:re=>e.unref($)(P,re),onOverlayClosed:ue,onOverlayOpened:j[2]||(j[2]=re=>_.$emit("overlay-toggle",{open:!0,overlay:re}))}),e.createSlots({_:2},[e.renderList(e.unref(s),(re,k)=>({name:re,fn:e.withCtx(U=>[e.renderSlot(_.$slots,re,e.normalizeProps(e.guardReactiveProps(U)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(ir,e.mergeProps({ref:re=>{re&&(N.value[Z]=re)},"mapped-dates":J.value(P),month:e.unref(p)(P),year:e.unref(w)(P),instance:P},_.$props,{onSelectDate:re=>e.unref(I)(re,P!==1),onHandleSpace:re=>Y(re,P!==1),onSetHoverDate:j[3]||(j[3]=re=>e.unref(te)(re)),onHandleScroll:re=>e.unref(T)(re,P),onHandleSwipe:re=>e.unref(h)(re,P),onMount:j[4]||(j[4]=re=>D(e.unref(Ke).calendar)),onResetFlow:j[5]||(j[5]=re=>_.$emit("reset-flow")),onTooltipOpen:j[6]||(j[6]=re=>_.$emit("tooltip-open",re)),onTooltipClose:j[7]||(j[7]=re=>_.$emit("tooltip-close",re))}),e.createSlots({_:2},[e.renderList(e.unref(M),(re,k)=>({name:re,fn:e.withCtx(U=>[e.renderSlot(_.$slots,re,e.normalizeProps(e.guardReactiveProps({...U})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),_.enableTimePicker?(e.openBlock(),e.createElementBlock("div",cr,[_.$slots["time-picker"]?e.renderSlot(_.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(z),updateTime:e.unref(ee)}))):(e.openBlock(),e.createBlock($n,e.mergeProps({key:1,ref_key:"timePickerRef",ref:C},_.$props,{hours:e.unref(z).hours,minutes:e.unref(z).minutes,seconds:e.unref(z).seconds,"internal-model-value":_.internalModelValue,"disabled-times-config":e.unref(g),"validate-time":e.unref(v),onMount:j[8]||(j[8]=P=>D(e.unref(Ke).timePicker)),"onUpdate:hours":j[9]||(j[9]=P=>e.unref(ee)(P)),"onUpdate:minutes":j[10]||(j[10]=P=>e.unref(ee)(P,!1)),"onUpdate:seconds":j[11]||(j[11]=P=>e.unref(ee)(P,!1,!0)),onResetFlow:j[12]||(j[12]=P=>_.$emit("reset-flow")),onOverlayClosed:j[13]||(j[13]=P=>S(P,!1)),onOverlayOpened:j[14]||(j[14]=P=>S(P,!0)),onAmPmChange:j[15]||(j[15]=P=>_.$emit("am-pm-change",P))}),e.createSlots({_:2},[e.renderList(e.unref(L),(P,Z)=>({name:P,fn:e.withCtx(re=>[e.renderSlot(_.$slots,P,e.normalizeProps(e.guardReactiveProps(re)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),fr=(t,n)=>{const l=e.ref(),{defaultedMultiCalendars:a,defaultedConfig:r,defaultedHighlight:f,defaultedRange:p,propDates:w,defaultedFilters:c,defaultedMultiDates:z}=ye(t),{modelValue:g,year:O,month:v,calendars:R}=ot(t,n),{isDisabled:H}=We(t),{selectYear:V,groupedYears:T,showYearPicker:h,isDisabled:I,toggleYearPicker:$,handleYearSelect:Q,handleYear:X}=Tn({modelValue:g,multiCalendars:a,range:p,highlight:f,calendars:R,propDates:w,month:v,year:O,filters:c,props:t,emit:n}),ee=(s,L)=>[s,L].map(D=>o.format(D,"MMMM",{locale:t.formatLocale})).join("-"),G=e.computed(()=>s=>g.value?Array.isArray(g.value)?g.value.some(L=>o.isSameQuarter(s,L)):o.isSameQuarter(g.value,s):!1),A=s=>{if(p.value.enabled){if(Array.isArray(g.value)){const L=de(s,g.value[0])||de(s,g.value[1]);return dt(g.value,l.value,s)&&!L}return!1}return!1},te=(s,L)=>s.quarter===o.getQuarter(L)&&s.year===o.getYear(L),E=s=>typeof f.value=="function"?f.value({quarter:o.getQuarter(s),year:o.getYear(s)}):!!f.value.quarters.find(L=>te(L,s)),K=e.computed(()=>s=>{const L=o.set(new Date,{year:O.value(s)});return o.eachQuarterOfInterval({start:o.startOfYear(L),end:o.endOfYear(L)}).map(D=>{const J=o.startOfQuarter(D),le=o.endOfQuarter(D),u=H(D),Y=A(J),ae=E(J);return{text:ee(J,le),value:J,active:G.value(J),highlighted:ae,disabled:u,isBetween:Y}})}),se=s=>{Wt(s,g,z.value.limit),n("auto-apply",!0)},oe=s=>{g.value=jt(g,s,n),yt(g.value,n,t.autoApply,t.modelAuto)},N=s=>{g.value=s,n("auto-apply")};return{defaultedConfig:r,defaultedMultiCalendars:a,groupedYears:T,year:O,isDisabled:I,quarters:K,showYearPicker:h,modelValue:g,setHoverDate:s=>{l.value=s},selectYear:V,selectQuarter:(s,L,D)=>{if(!D)return R.value[L].month=o.getMonth(o.endOfQuarter(s)),z.value.enabled?se(s):p.value.enabled?oe(s):N(s)},toggleYearPicker:$,handleYearSelect:Q,handleYear:X}},mr={class:"dp--quarter-items"},pr=["data-test","disabled","onClick","onMouseover"],gr=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{..._e},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:n,emit:l}){const a=l,r=t,f=e.useSlots(),p=Pe(f,"yearMode"),{defaultedMultiCalendars:w,defaultedConfig:c,groupedYears:z,year:g,isDisabled:O,quarters:v,modelValue:R,showYearPicker:H,setHoverDate:V,selectQuarter:T,toggleYearPicker:h,handleYearSelect:I,handleYear:$}=fr(r,a);return n({getSidebarProps:()=>({modelValue:R,year:g,selectQuarter:T,handleYearSelect:I,handleYear:$})}),(X,ee)=>(e.openBlock(),e.createBlock(gt,{"multi-calendars":e.unref(w).count,collapse:X.collapse,stretch:""},{default:e.withCtx(({instance:G})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(c).modeHeight}px`})},[X.$slots["top-extra"]?e.renderSlot(X.$slots,"top-extra",{key:0,value:X.internalModelValue}):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.createVNode(Sn,e.mergeProps(X.$props,{items:e.unref(z)(G),instance:G,"show-year-picker":e.unref(H)[G],year:e.unref(g)(G),"is-disabled":A=>e.unref(O)(G,A),onHandleYear:A=>e.unref($)(G,A),onYearSelect:A=>e.unref(I)(A,G),onToggleYearPicker:A=>e.unref(h)(G,A==null?void 0:A.flow,A==null?void 0:A.show)}),e.createSlots({_:2},[e.renderList(e.unref(p),(A,te)=>({name:A,fn:e.withCtx(E=>[e.renderSlot(X.$slots,A,e.normalizeProps(e.guardReactiveProps(E)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",mr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v)(G),(A,te)=>(e.openBlock(),e.createElementBlock("div",{key:te},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":A.active,"dp--qr-btn-between":A.isBetween,"dp--qr-btn-disabled":A.disabled,"dp--highlighted":A.highlighted}]),"data-test":A.value,disabled:A.disabled,onClick:E=>e.unref(T)(A.value,G,A.disabled),onMouseover:E=>e.unref(V)(A.value)},[X.$slots.quarter?e.renderSlot(X.$slots,"quarter",{key:0,value:A.value,text:A.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(A.text),1)],64))],42,pr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),yr=["id","aria-label"],hr={key:0,class:"dp--menu-load-container"},kr=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)],br={key:0,class:"dp__sidebar_left"},wr=["data-test","onClick","onKeydown"],vr={key:2,class:"dp__sidebar_right"},Mr={key:3,class:"dp__action_extra"},Rn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...pt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,f=e.ref(null),p=e.computed(()=>{const{openOnTop:k,...U}=r;return{...U,flowStep:te.value,collapse:r.collapse,noOverlayFocus:r.noOverlayFocus,menuWrapRef:f.value}}),{setMenuFocused:w,setShiftKey:c,control:z}=vn(),g=e.useSlots(),{defaultedTextInput:O,defaultedInline:v,defaultedConfig:R,defaultedUI:H}=ye(r),V=e.ref(null),T=e.ref(0),h=e.ref(null),I=e.ref(!1),$=e.ref(null);e.onMounted(()=>{if(!r.shadow){I.value=!0,Q(),window.addEventListener("resize",Q);const k=ve(f);if(k&&!O.value.enabled&&!v.value.enabled&&(w(!0),M()),k){const U=ce=>{R.value.allowPreventDefault&&ce.preventDefault(),Ie(ce,R.value,!0)};k.addEventListener("pointerdown",U),k.addEventListener("mousedown",U)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",Q)});const Q=()=>{const k=ve(h);k&&(T.value=k.getBoundingClientRect().width)},{arrowRight:X,arrowLeft:ee,arrowDown:G,arrowUp:A}=He(),{flowStep:te,updateFlowStep:E,childMount:K,resetFlow:se,handleFlow:oe}=Tr(r,a,$),N=e.computed(()=>r.monthPicker?Ta:r.yearPicker?Aa:r.timePicker?Ka:r.quarterPicker?gr:dr),C=e.computed(()=>{var ce;if(R.value.arrowLeft)return R.value.arrowLeft;const k=(ce=f.value)==null?void 0:ce.getBoundingClientRect(),U=r.getInputRect();return(U==null?void 0:U.width)<(T==null?void 0:T.value)&&(U==null?void 0:U.left)<=((k==null?void 0:k.left)??0)?`${(U==null?void 0:U.width)/2}px`:(U==null?void 0:U.right)>=((k==null?void 0:k.right)??0)&&(U==null?void 0:U.width)<(T==null?void 0:T.value)?`${(T==null?void 0:T.value)-(U==null?void 0:U.width)/2}px`:"50%"}),M=()=>{const k=ve(f);k&&k.focus({preventScroll:!0})},s=e.computed(()=>{var k;return((k=$.value)==null?void 0:k.getSidebarProps())||{}}),L=()=>{r.openOnTop&&a("recalculate-position")},D=Pe(g,"action"),J=e.computed(()=>r.monthPicker||r.yearPicker?Pe(g,"monthYear"):r.timePicker?Pe(g,"timePicker"):Pe(g,"shared")),le=e.computed(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),u=e.computed(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),Y=e.computed(()=>({dp__menu:!0,dp__menu_index:!v.value.enabled,dp__relative:v.value.enabled,[r.menuClassName]:!!r.menuClassName,...H.value.menu??{}})),ae=k=>{Ie(k,R.value,!0)},m=()=>{r.escClose&&a("close-picker")},B=k=>{if(r.arrowNavigation){if(k===Ce.up)return A();if(k===Ce.down)return G();if(k===Ce.left)return ee();if(k===Ce.right)return X()}else k===Ce.left||k===Ce.up?ue("handleArrow",Ce.left,0,k===Ce.up):ue("handleArrow",Ce.right,0,k===Ce.down)},q=k=>{c(k.shiftKey),!r.disableMonthYearSelect&&k.code===ge.tab&&k.target.classList.contains("dp__menu")&&z.value.shiftKeyInMenu&&(k.preventDefault(),Ie(k,R.value,!0),a("close-picker"))},i=()=>{M(),a("time-picker-close")},ne=k=>{var U,ce,fe;(U=$.value)==null||U.toggleTimePicker(!1,!1),(ce=$.value)==null||ce.toggleMonthPicker(!1,!1,k),(fe=$.value)==null||fe.toggleYearPicker(!1,!1,k)},S=(k,U=0)=>{var ce,fe,Ae;return k==="month"?(ce=$.value)==null?void 0:ce.toggleMonthPicker(!1,!0,U):k==="year"?(fe=$.value)==null?void 0:fe.toggleYearPicker(!1,!0,U):k==="time"?(Ae=$.value)==null?void 0:Ae.toggleTimePicker(!0,!1):ne(U)},ue=(k,...U)=>{var ce,fe;(ce=$.value)!=null&&ce[k]&&((fe=$.value)==null||fe[k](...U))},d=()=>{ue("selectCurrentDate")},_=(k,U)=>{ue("presetDate",k,U)},j=()=>{ue("clearHoverDate")},P=(k,U)=>{ue("updateMonthYear",k,U)},Z=(k,U)=>{k.preventDefault(),B(U)},re=k=>{var U;if(q(k),k.key===ge.home||k.key===ge.end)return ue("selectWeekDate",k.key===ge.home,k.target.getAttribute("id"));switch((k.key===ge.pageUp||k.key===ge.pageDown)&&(k.shiftKey?ue("changeYear",k.key===ge.pageUp):ue("changeMonth",k.key===ge.pageUp),k.target.getAttribute("id")&&((U=f.value)==null||U.focus({preventScroll:!0}))),k.key){case ge.esc:return m();case ge.arrowLeft:return Z(k,Ce.left);case ge.arrowRight:return Z(k,Ce.right);case ge.arrowUp:return Z(k,Ce.up);case ge.arrowDown:return Z(k,Ce.down);default:return}};return n({updateMonthYear:P,switchView:S,handleFlow:oe}),(k,U)=>{var ce,fe,Ae;return e.openBlock(),e.createElementBlock("div",{id:k.uid?`dp-menu-${k.uid}`:void 0,ref_key:"dpMenuRef",ref:f,tabindex:"0",role:"dialog","aria-label":(ce=k.ariaLabels)==null?void 0:ce.menu,class:e.normalizeClass(Y.value),style:e.normalizeStyle({"--dp-arrow-left":C.value}),onMouseleave:j,onClick:ae,onKeydown:re},[(k.disabled||k.readonly)&&e.unref(v).enabled||k.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(u.value)},[k.loading?(e.openBlock(),e.createElementBlock("div",hr,kr)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),!e.unref(v).enabled&&!k.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(le.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:h,class:e.normalizeClass({dp__menu_content_wrapper:((fe=k.presetDates)==null?void 0:fe.length)||!!k.$slots["left-sidebar"]||!!k.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Ae=k.presetDates)==null?void 0:Ae.length)||!!k.$slots["left-sidebar"]||!!k.$slots["right-sidebar"])}),style:e.normalizeStyle({"--dp-menu-width":`${T.value}px`})},[k.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",br,[e.renderSlot(k.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(s.value)))])):e.createCommentVNode("",!0),k.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k.presetDates,(ie,je)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:je},[ie.slot?e.renderSlot(k.$slots,ie.slot,{key:0,presetDate:_,label:ie.label,value:ie.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(ie.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":ie.testId??void 0,onClick:e.withModifiers(Ye=>_(ie.value,ie.noTz),["prevent"]),onKeydown:Ye=>e.unref($e)(Ye,()=>_(ie.value,ie.noTz),!0)},e.toDisplayString(ie.label),47,wr))],64))),128))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:V,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(N.value),e.mergeProps({ref_key:"dynCmpRef",ref:$},p.value,{"flow-step":e.unref(te),onMount:e.unref(K),onUpdateFlowStep:e.unref(E),onResetFlow:e.unref(se),onFocusMenu:M,onSelectDate:U[0]||(U[0]=ie=>k.$emit("select-date")),onDateUpdate:U[1]||(U[1]=ie=>k.$emit("date-update",ie)),onTooltipOpen:U[2]||(U[2]=ie=>k.$emit("tooltip-open",ie)),onTooltipClose:U[3]||(U[3]=ie=>k.$emit("tooltip-close",ie)),onAutoApply:U[4]||(U[4]=ie=>k.$emit("auto-apply",ie)),onRangeStart:U[5]||(U[5]=ie=>k.$emit("range-start",ie)),onRangeEnd:U[6]||(U[6]=ie=>k.$emit("range-end",ie)),onInvalidFixedRange:U[7]||(U[7]=ie=>k.$emit("invalid-fixed-range",ie)),onTimeUpdate:U[8]||(U[8]=ie=>k.$emit("time-update")),onAmPmChange:U[9]||(U[9]=ie=>k.$emit("am-pm-change",ie)),onTimePickerOpen:U[10]||(U[10]=ie=>k.$emit("time-picker-open",ie)),onTimePickerClose:i,onRecalculatePosition:L,onUpdateMonthYear:U[11]||(U[11]=ie=>k.$emit("update-month-year",ie)),onAutoApplyInvalid:U[12]||(U[12]=ie=>k.$emit("auto-apply-invalid",ie)),onInvalidDate:U[13]||(U[13]=ie=>k.$emit("invalid-date",ie)),onOverlayToggle:U[14]||(U[14]=ie=>k.$emit("overlay-toggle",ie)),"onUpdate:internalModelValue":U[15]||(U[15]=ie=>k.$emit("update:internal-model-value",ie))}),e.createSlots({_:2},[e.renderList(J.value,(ie,je)=>({name:ie,fn:e.withCtx(Ye=>[e.renderSlot(k.$slots,ie,e.normalizeProps(e.guardReactiveProps({...Ye})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),k.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",vr,[e.renderSlot(k.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(s.value)))])):e.createCommentVNode("",!0),k.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Mr,[k.$slots["action-extra"]?e.renderSlot(k.$slots,"action-extra",{key:0,selectCurrentDate:d}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!k.autoApply||e.unref(R).keepActionRow?(e.openBlock(),e.createBlock(ba,e.mergeProps({key:2,"menu-mount":I.value},p.value,{"calendar-width":T.value,onClosePicker:U[16]||(U[16]=ie=>k.$emit("close-picker")),onSelectDate:U[17]||(U[17]=ie=>k.$emit("select-date")),onInvalidSelect:U[18]||(U[18]=ie=>k.$emit("invalid-select")),onSelectNow:d}),e.createSlots({_:2},[e.renderList(e.unref(D),(ie,je)=>({name:ie,fn:e.withCtx(Ye=>[e.renderSlot(k.$slots,ie,e.normalizeProps(e.guardReactiveProps({...Ye})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],46,yr)}}});var et=(t=>(t.center="center",t.left="left",t.right="right",t))(et||{});const Dr=({menuRef:t,menuRefInner:n,inputRef:l,pickerWrapperRef:a,inline:r,emit:f,props:p,slots:w})=>{const c=e.ref({}),z=e.ref(!1),g=e.ref({top:"0",left:"0"}),O=e.ref(!1),v=e.toRef(p,"teleportCenter");e.watch(v,()=>{g.value=JSON.parse(JSON.stringify({})),Q()});const R=M=>{if(p.teleport){const s=M.getBoundingClientRect();return{left:s.left+window.scrollX,top:s.top+window.scrollY}}return{top:0,left:0}},H=(M,s)=>{g.value.left=`${M+s-c.value.width}px`},V=M=>{g.value.left=`${M}px`},T=(M,s)=>{p.position===et.left&&V(M),p.position===et.right&&H(M,s),p.position===et.center&&(g.value.left=`${M+s/2-c.value.width/2}px`)},h=M=>{const{width:s,height:L}=M.getBoundingClientRect(),{top:D,left:J}=p.altPosition?p.altPosition(M):R(M);return{top:+D,left:+J,width:s,height:L}},I=()=>{g.value.left="50%",g.value.top="50%",g.value.transform="translate(-50%, -50%)",g.value.position="fixed",delete g.value.opacity},$=()=>{const M=ve(l),{top:s,left:L,transform:D}=p.altPosition(M);g.value={top:`${s}px`,left:`${L}px`,transform:D??""}},Q=(M=!0)=>{var s;if(!r.value.enabled){if(v.value)return I();if(p.altPosition!==null)return $();if(M){const L=p.teleport?(s=n.value)==null?void 0:s.$el:t.value;L&&(c.value=L.getBoundingClientRect()),f("recalculate-position")}return K()}},X=({inputEl:M,left:s,width:L})=>{window.screen.width>768&&!z.value&&T(s,L),A(M)},ee=M=>{const{top:s,left:L,height:D,width:J}=h(M);g.value.top=`${D+s+ +p.offset}px`,O.value=!1,z.value||(g.value.left=`${L+J/2-c.value.width/2}px`),X({inputEl:M,left:L,width:J})},G=M=>{const{top:s,left:L,width:D}=h(M);g.value.top=`${s-+p.offset-c.value.height}px`,O.value=!0,X({inputEl:M,left:L,width:D})},A=M=>{if(p.autoPosition){const{left:s,width:L}=h(M),{left:D,right:J}=c.value;if(!z.value){if(Math.abs(D)!==Math.abs(J)){if(D<=0)return z.value=!0,V(s);if(J>=document.documentElement.clientWidth)return z.value=!0,H(s,L)}return T(s,L)}}},te=()=>{const M=ve(l);if(M){const{height:s}=c.value,{top:L,height:D}=M.getBoundingClientRect(),le=window.innerHeight-L-D,u=L;return s<=le?xe.bottom:s>le&&s<=u?xe.top:le>=u?xe.bottom:xe.top}return xe.bottom},E=M=>te()===xe.bottom?ee(M):G(M),K=()=>{const M=ve(l);if(M)return p.autoPosition?E(M):ee(M)},se=function(M){if(M){const s=M.scrollHeight>M.clientHeight,D=window.getComputedStyle(M).overflowY.indexOf("hidden")!==-1;return s&&!D}return!0},oe=function(M){return!M||M===document.body||M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:se(M)?M:oe(M.assignedSlot?M.assignedSlot.parentNode:M.parentNode)},N=M=>{if(M)switch(p.position){case et.left:return{left:0,transform:"translateX(0)"};case et.right:return{left:`${M.width}px`,transform:"translateX(-100%)"};default:return{left:`${M.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:O,menuStyle:g,xCorrect:z,setMenuPosition:Q,getScrollableParent:oe,shadowRender:(M,s)=>{var Y,ae,m;const L=document.createElement("div"),D=(Y=ve(l))==null?void 0:Y.getBoundingClientRect();L.setAttribute("id","dp--temp-container");const J=(ae=a.value)!=null&&ae.clientWidth?a.value:document.body;J.append(L);const le=N(D),u=e.h(M,{...s,shadow:!0,style:{opacity:0,position:"absolute",...le}},Object.fromEntries(Object.keys(w).filter(B=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(B)).map(B=>[B,w[B]])));e.render(u,L),c.value=(m=u.el)==null?void 0:m.getBoundingClientRect(),e.render(null,L),J.removeChild(L)}}},Ue=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]}],Sr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Cr={all:()=>Ue,monthYear:()=>Ue.filter(t=>t.use.includes("month-year")),input:()=>Sr,timePicker:()=>Ue.filter(t=>t.use.includes("time")),action:()=>Ue.filter(t=>t.use.includes("action")),calendar:()=>Ue.filter(t=>t.use.includes("calendar")),menu:()=>Ue.filter(t=>t.use.includes("menu")),shared:()=>Ue.filter(t=>t.use.includes("shared")),yearMode:()=>Ue.filter(t=>t.use.includes("year-mode"))},Pe=(t,n,l)=>{const a=[];return Cr[n]().forEach(r=>{t[r.name]&&a.push(r.name)}),l!=null&&l.length&&l.forEach(r=>{r.slot&&a.push(r.slot)}),a},lt=t=>{const n=e.computed(()=>a=>t.value?a?t.value.open:t.value.close:""),l=e.computed(()=>a=>t.value?a?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:l}},ot=(t,n,l)=>{const{defaultedRange:a,defaultedTz:r}=ye(t),f=x(Te(x(),r.value.timezone)),p=e.ref([{month:o.getMonth(f),year:o.getYear(f)}]),w=v=>{const R={hours:o.getHours(f),minutes:o.getMinutes(f),seconds:0};return a.value.enabled?[R[v],R[v]]:R[v]},c=e.reactive({hours:w("hours"),minutes:w("minutes"),seconds:w("seconds")});e.watch(a,(v,R)=>{v.enabled!==R.enabled&&(c.hours=w("hours"),c.minutes=w("minutes"),c.seconds=w("seconds"))},{deep:!0});const z=e.computed({get:()=>t.internalModelValue,set:v=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",v)}}),g=e.computed(()=>v=>p.value[v]?p.value[v].month:0),O=e.computed(()=>v=>p.value[v]?p.value[v].year:0);return e.watch(z,(v,R)=>{l&&JSON.stringify(v??{})!==JSON.stringify(R??{})&&l()},{deep:!0}),{calendars:p,time:c,modelValue:z,month:g,year:O,today:f}},Br=(t,n)=>{const{defaultedMultiCalendars:l,defaultedMultiDates:a,defaultedUI:r,defaultedHighlight:f,defaultedTz:p,propDates:w,defaultedRange:c}=ye(n),{isDisabled:z}=We(n),g=e.ref(null),O=e.ref(Te(new Date,p.value.timezone)),v=m=>{!m.current&&n.hideOffsetDates||(g.value=m.value)},R=()=>{g.value=null},H=m=>Array.isArray(t.value)&&c.value.enabled&&t.value[0]&&g.value?m?ke(g.value,t.value[0]):he(g.value,t.value[0]):!0,V=(m,B)=>{const q=()=>t.value?B?t.value[0]||null:t.value[1]:null,i=t.value&&Array.isArray(t.value)?q():null;return de(x(m.value),i)},T=m=>{const B=Array.isArray(t.value)?t.value[0]:null;return m?!he(g.value??null,B):!0},h=(m,B=!0)=>(c.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!m.current?!1:de(x(m.value),t.value[B?0:1]):c.value.enabled?V(m,B)&&T(B)||de(m.value,Array.isArray(t.value)?t.value[0]:null)&&H(B):!1,I=(m,B)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const q=de(m.value,g.value);return B?ke(t.value[0],m.value)&&q:he(t.value[0],m.value)&&q}return!1},$=m=>!t.value||n.hideOffsetDates&&!m.current?!1:c.value.enabled?n.modelAuto&&Array.isArray(t.value)?de(m.value,t.value[0]?t.value[0]:O.value):!1:a.value.enabled&&Array.isArray(t.value)?t.value.some(B=>de(B,m.value)):de(m.value,t.value?t.value:O.value),Q=m=>{if(c.value.autoRange||n.weekPicker){if(g.value){if(n.hideOffsetDates&&!m.current)return!1;const B=o.addDays(g.value,+c.value.autoRange),q=Ve(x(g.value),n.weekStart);return n.weekPicker?de(q[1],x(m.value)):de(B,x(m.value))}return!1}return!1},X=m=>{if(c.value.autoRange||n.weekPicker){if(g.value){const B=o.addDays(g.value,+c.value.autoRange);if(n.hideOffsetDates&&!m.current)return!1;const q=Ve(x(g.value),n.weekStart);return n.weekPicker?ke(m.value,q[0])&&he(m.value,q[1]):ke(m.value,g.value)&&he(m.value,B)}return!1}return!1},ee=m=>{if(c.value.autoRange||n.weekPicker){if(g.value){if(n.hideOffsetDates&&!m.current)return!1;const B=Ve(x(g.value),n.weekStart);return n.weekPicker?de(B[0],m.value):de(g.value,m.value)}return!1}return!1},G=m=>dt(t.value,g.value,m.value),A=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,te=()=>n.modelAuto?ln(n.internalModelValue):!0,E=m=>{if(n.weekPicker)return!1;const B=c.value.enabled?!h(m)&&!h(m,!1):!0;return!z(m.value)&&!$(m)&&!(!m.current&&n.hideOffsetDates)&&B},K=m=>c.value.enabled?n.modelAuto?A()&&$(m):!1:$(m),se=m=>f.value?jn(m.value,w.value.highlight):!1,oe=m=>{const B=z(m.value);return B&&(typeof f.value=="function"?!f.value(m.value,B):!f.value.options.highlightDisabled)},N=m=>{var B;return typeof f.value=="function"?f.value(m.value):(B=f.value.weekdays)==null?void 0:B.includes(m.value.getDay())},C=m=>(c.value.enabled||n.weekPicker)&&(!(l.value.count>0)||m.current)&&te()&&!(!m.current&&n.hideOffsetDates)&&!$(m)?G(m):!1,M=m=>{const{isRangeStart:B,isRangeEnd:q}=J(m),i=c.value.enabled?B||q:!1;return{dp__cell_offset:!m.current,dp__pointer:!n.disabled&&!(!m.current&&n.hideOffsetDates)&&!z(m.value),dp__cell_disabled:z(m.value),dp__cell_highlight:!oe(m)&&(se(m)||N(m))&&!K(m)&&!i&&!ee(m)&&!(C(m)&&n.weekPicker)&&!q,dp__cell_highlight_active:!oe(m)&&(se(m)||N(m))&&K(m),dp__today:!n.noToday&&de(m.value,O.value)&&m.current,"dp--past":he(m.value,O.value),"dp--future":ke(m.value,O.value)}},s=m=>({dp__active_date:K(m),dp__date_hover:E(m)}),L=m=>{if(t.value&&!Array.isArray(t.value)){const B=Ve(t.value,n.weekStart);return{...u(m),dp__range_start:de(B[0],m.value),dp__range_end:de(B[1],m.value),dp__range_between_week:ke(m.value,B[0])&&he(m.value,B[1])}}return{...u(m)}},D=m=>{if(t.value&&Array.isArray(t.value)){const B=Ve(t.value[0],n.weekStart),q=t.value[1]?Ve(t.value[1],n.weekStart):[];return{...u(m),dp__range_start:de(B[0],m.value)||de(q[0],m.value),dp__range_end:de(B[1],m.value)||de(q[1],m.value),dp__range_between_week:ke(m.value,B[0])&&he(m.value,B[1])||ke(m.value,q[0])&&he(m.value,q[1]),dp__range_between:ke(m.value,B[1])&&he(m.value,q[0])}}return{...u(m)}},J=m=>{const B=l.value.count>0?m.current&&h(m)&&te():h(m)&&te(),q=l.value.count>0?m.current&&h(m,!1)&&te():h(m,!1)&&te();return{isRangeStart:B,isRangeEnd:q}},le=m=>{const{isRangeStart:B,isRangeEnd:q}=J(m);return{dp__range_start:B,dp__range_end:q,dp__range_between:C(m),dp__date_hover:de(m.value,g.value)&&!B&&!q&&!n.weekPicker,dp__date_hover_start:I(m,!0),dp__date_hover_end:I(m,!1)}},u=m=>({...le(m),dp__cell_auto_range:X(m),dp__cell_auto_range_start:ee(m),dp__cell_auto_range_end:Q(m)}),Y=m=>c.value.enabled?c.value.autoRange?u(m):n.modelAuto?{...s(m),...le(m)}:n.weekPicker?D(m):le(m):n.weekPicker?L(m):s(m);return{setHoverDate:v,clearHoverDate:R,getDayClassData:m=>n.hideOffsetDates&&!m.current?{}:{...M(m),...Y(m),[n.dayClass?n.dayClass(m.value,n.internalModelValue):""]:!0,[n.calendarCellClassName]:!!n.calendarCellClassName,...r.value.calendarCell??{}}}},We=t=>{const{defaultedFilters:n,defaultedRange:l,propDates:a,defaultedMultiDates:r}=ye(t),f=N=>a.value.disabledDates?typeof a.value.disabledDates=="function"?a.value.disabledDates(x(N)):!!ct(N,a.value.disabledDates):!1,p=N=>a.value.maxDate?t.yearPicker?o.getYear(N)>o.getYear(a.value.maxDate):ke(N,a.value.maxDate):!1,w=N=>a.value.minDate?t.yearPicker?o.getYear(N)<o.getYear(a.value.minDate):he(N,a.value.minDate):!1,c=N=>{const C=p(N),M=w(N),s=f(N),D=n.value.months.map(ae=>+ae).includes(o.getMonth(N)),J=t.disabledWeekDays.length?t.disabledWeekDays.some(ae=>+ae===o.getDay(N)):!1,le=R(N),u=o.getYear(N),Y=u<+t.yearRange[0]||u>+t.yearRange[1];return!(C||M||s||D||Y||J||le)},z=(N,C)=>he(...Le(a.value.minDate,N,C))||de(...Le(a.value.minDate,N,C)),g=(N,C)=>ke(...Le(a.value.maxDate,N,C))||de(...Le(a.value.maxDate,N,C)),O=(N,C,M)=>{let s=!1;return a.value.maxDate&&M&&g(N,C)&&(s=!0),a.value.minDate&&!M&&z(N,C)&&(s=!0),s},v=(N,C,M,s)=>{let L=!1;return s?a.value.minDate&&a.value.maxDate?L=O(N,C,M):(a.value.minDate&&z(N,C)||a.value.maxDate&&g(N,C))&&(L=!0):L=!0,L},R=N=>Array.isArray(a.value.allowedDates)&&!a.value.allowedDates.length?!0:a.value.allowedDates?!ct(N,a.value.allowedDates):!1,H=N=>!c(N),V=N=>l.value.noDisabledRange?!o.eachDayOfInterval({start:N[0],end:N[1]}).some(M=>H(M)):!0,T=N=>{if(N){const C=o.getYear(N);return C>=+t.yearRange[0]&&C<=t.yearRange[1]}return!0},h=(N,C)=>!!(Array.isArray(N)&&N[C]&&(l.value.maxRange||l.value.minRange)&&T(N[C])),I=(N,C,M=0)=>{if(h(C,M)&&T(N)){const s=o.differenceInCalendarDays(N,C[M]),L=pn(C[M],N),D=L.length===1?0:L.filter(le=>H(le)).length,J=Math.abs(s)-(l.value.minMaxRawRange?0:D);if(l.value.minRange&&l.value.maxRange)return J>=+l.value.minRange&&J<=+l.value.maxRange;if(l.value.minRange)return J>=+l.value.minRange;if(l.value.maxRange)return J<=+l.value.maxRange}return!0},$=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,Q=N=>Array.isArray(N)?[N[0]?Vt(N[0]):null,N[1]?Vt(N[1]):null]:Vt(N),X=(N,C,M)=>N.find(s=>+s.hours===o.getHours(C)&&s.minutes==="*"?!0:+s.minutes===o.getMinutes(C)&&+s.hours===o.getHours(C))&&M,ee=(N,C,M)=>{const[s,L]=N,[D,J]=C;return!X(s,D,M)&&!X(L,J,M)&&M},G=(N,C)=>{const M=Array.isArray(C)?C:[C];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?ee(t.disabledTimes,M,N):!M.some(s=>X(t.disabledTimes,s,N)):N},A=(N,C)=>{const M=Array.isArray(C)?[qe(C[0]),C[1]?qe(C[1]):void 0]:qe(C),s=!t.disabledTimes(M);return N&&s},te=(N,C)=>t.disabledTimes?Array.isArray(t.disabledTimes)?G(C,N):A(C,N):C,E=N=>{let C=!0;if(!N||$())return!0;const M=!a.value.minDate&&!a.value.maxDate?Q(N):N;return(t.maxTime||a.value.maxDate)&&(C=kn(t.maxTime,a.value.maxDate,"max",we(M),C)),(t.minTime||a.value.minDate)&&(C=kn(t.minTime,a.value.minDate,"min",we(M),C)),te(N,C)},K=N=>{if(!t.monthPicker)return!0;let C=!0;const M=x(Ee(N));if(a.value.minDate&&a.value.maxDate){const s=x(Ee(a.value.minDate)),L=x(Ee(a.value.maxDate));return ke(M,s)&&he(M,L)||de(M,s)||de(M,L)}if(a.value.minDate){const s=x(Ee(a.value.minDate));C=ke(M,s)||de(M,s)}if(a.value.maxDate){const s=x(Ee(a.value.maxDate));C=he(M,s)||de(M,s)}return C},se=e.computed(()=>N=>!t.enableTimePicker||t.ignoreTimeValidation?!0:E(N)),oe=e.computed(()=>N=>t.monthPicker?Array.isArray(N)&&(l.value.enabled||r.value.enabled)?!N.filter(M=>!K(M)).length:K(N):!0);return{isDisabled:H,validateDate:c,validateMonthYearInRange:v,isDateRangeAllowed:V,checkMinMaxRange:I,isValidTime:E,isTimeValid:se,isMonthValid:oe}},ht=()=>{const t=e.computed(()=>(a,r)=>a==null?void 0:a.includes(r)),n=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===0:!0),l=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===a.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:l}},Tr=(t,n,l)=>{const a=e.ref(0),r=e.reactive({[Ke.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Ke.calendar]:!1,[Ke.header]:!1}),f=e.computed(()=>t.monthPicker||t.timePicker),p=O=>{var v;if((v=t.flow)!=null&&v.length){if(!O&&f.value)return g();r[O]=!0,Object.keys(r).filter(R=>!r[R]).length||g()}},w=()=>{var O,v;(O=t.flow)!=null&&O.length&&a.value!==-1&&(a.value+=1,n("flow-step",a.value),g()),((v=t.flow)==null?void 0:v.length)===a.value&&e.nextTick().then(()=>c())},c=()=>{a.value=-1},z=(O,v,...R)=>{var H,V;t.flow[a.value]===O&&l.value&&((V=(H=l.value)[v])==null||V.call(H,...R))},g=(O=0)=>{O&&(a.value+=O),z(De.month,"toggleMonthPicker",!0),z(De.year,"toggleYearPicker",!0),z(De.calendar,"toggleTimePicker",!1,!0),z(De.time,"toggleTimePicker",!0,!0);const v=t.flow[a.value];(v===De.hours||v===De.minutes||v===De.seconds)&&z(v,"toggleTimePicker",!0,!0,v)};return{childMount:p,updateFlowStep:w,resetFlow:c,handleFlow:g,flowStep:a}},$r={key:1,class:"dp__input_wrap"},Ar=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Pr={key:2,class:"dp__clear_icon"},Rr=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...pt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:n,emit:l}){const a=l,r=t,{defaultedTextInput:f,defaultedAriaLabels:p,defaultedInline:w,defaultedConfig:c,defaultedRange:z,defaultedMultiDates:g,defaultedUI:O,getDefaultPattern:v,getDefaultStartTime:R}=ye(r),{checkMinMaxRange:H}=We(r),V=e.ref(),T=e.ref(null),h=e.ref(!1),I=e.ref(!1),$=e.computed(()=>({dp__pointer:!r.disabled&&!r.readonly&&!f.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!f.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:!!r.state,dp__input_invalid:r.state===!1,dp__input_focus:h.value||r.isMenuOpen,dp__input_reg:!f.value.enabled,[r.inputClassName]:!!r.inputClassName,...O.value.input??{}})),Q=()=>{a("set-input-date",null),r.clearable&&r.autoApply&&(a("set-empty-date"),V.value=null)},X=D=>{const J=R();return xn(D,f.value.format??v(),J??gn({},r.enableSeconds),r.inputValue,I.value,r.formatLocale)},ee=D=>{const{rangeSeparator:J}=f.value,[le,u]=D.split(`${J}`);if(le){const Y=X(le.trim()),ae=u?X(u.trim()):null;if(o.isAfter(Y,ae))return;const m=Y&&ae?[Y,ae]:[Y];H(ae,m,0)&&(V.value=Y?m:null)}},G=()=>{I.value=!0},A=D=>{if(z.value.enabled)ee(D);else if(g.value.enabled){const J=D.split(";");V.value=J.map(le=>X(le.trim())).filter(le=>le)}else V.value=X(D)},te=D=>{var le;const J=typeof D=="string"?D:(le=D.target)==null?void 0:le.value;J!==""?(f.value.openMenu&&!r.isMenuOpen&&a("open"),A(J),a("set-input-date",V.value)):Q(),I.value=!1,a("update:input-value",J)},E=D=>{f.value.enabled?(A(D.target.value),f.value.enterSubmit&&Et(V.value)&&r.inputValue!==""?(a("set-input-date",V.value,!0),V.value=null):f.value.enterSubmit&&r.inputValue===""&&(V.value=null,a("clear"))):oe(D)},K=D=>{f.value.enabled&&f.value.tabSubmit&&A(D.target.value),f.value.tabSubmit&&Et(V.value)&&r.inputValue!==""?(a("set-input-date",V.value,!0,!0),V.value=null):f.value.tabSubmit&&r.inputValue===""&&(V.value=null,a("clear",!0))},se=()=>{h.value=!0,a("focus"),e.nextTick().then(()=>{var D;f.value.enabled&&f.value.selectOnFocus&&((D=T.value)==null||D.select())})},oe=D=>{D.preventDefault(),Ie(D,c.value,!0),f.value.enabled&&f.value.openMenu&&!w.value.input&&!r.isMenuOpen?a("open"):f.value.enabled||a("toggle")},N=()=>{a("real-blur"),h.value=!1,(!r.isMenuOpen||w.value.enabled&&w.value.input)&&a("blur"),r.autoApply&&f.value.enabled&&V.value&&!r.isMenuOpen&&(a("set-input-date",V.value),a("select-date"),V.value=null)},C=D=>{Ie(D,c.value,!0),a("clear")},M=D=>{if(D.key==="Tab"&&K(D),D.key==="Enter"&&E(D),!f.value.enabled){if(D.code==="Tab")return;D.preventDefault()}};return n({focusInput:()=>{var D;(D=T.value)==null||D.focus({preventScroll:!0})},setParsedDate:D=>{V.value=D}}),(D,J)=>{var le;return e.openBlock(),e.createElementBlock("div",{onClick:oe},[D.$slots.trigger&&!D.$slots["dp-input"]&&!e.unref(w).enabled?e.renderSlot(D.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!D.$slots.trigger&&(!e.unref(w).enabled||e.unref(w).input)?(e.openBlock(),e.createElementBlock("div",$r,[D.$slots["dp-input"]&&!D.$slots.trigger&&(!e.unref(w).enabled||e.unref(w).enabled&&e.unref(w).input)?e.renderSlot(D.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:te,onEnter:E,onTab:K,onClear:C,onBlur:N,onKeypress:M,onPaste:G,onFocus:se,openMenu:()=>D.$emit("open"),closeMenu:()=>D.$emit("close"),toggleMenu:()=>D.$emit("toggle")}):e.createCommentVNode("",!0),D.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:D.uid?`dp-input-${D.uid}`:void 0,ref_key:"inputRef",ref:T,"data-test":"dp-input",name:D.name,class:e.normalizeClass($.value),inputmode:e.unref(f).enabled?"text":"none",placeholder:D.placeholder,disabled:D.disabled,readonly:D.readonly,required:D.required,value:t.inputValue,autocomplete:D.autocomplete,"aria-label":(le=e.unref(p))==null?void 0:le.input,"aria-disabled":D.disabled||void 0,"aria-invalid":D.state===!1?!0:void 0,onInput:te,onBlur:N,onFocus:se,onKeypress:M,onKeydown:M,onPaste:G},null,42,Ar)),e.createElementVNode("div",{onClick:J[2]||(J[2]=u=>a("toggle"))},[D.$slots["input-icon"]&&!D.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:J[0]||(J[0]=u=>a("toggle"))},[e.renderSlot(D.$slots,"input-icon")])):e.createCommentVNode("",!0),!D.$slots["input-icon"]&&!D.hideInputIcon&&!D.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Xe),{key:1,class:"dp__input_icon dp__input_icons",onClick:J[1]||(J[1]=u=>a("toggle"))})):e.createCommentVNode("",!0)]),D.$slots["clear-icon"]&&t.inputValue&&D.clearable&&!D.disabled&&!D.readonly?(e.openBlock(),e.createElementBlock("span",Pr,[e.renderSlot(D.$slots,"clear-icon",{clear:C})])):e.createCommentVNode("",!0),D.clearable&&!D.$slots["clear-icon"]&&t.inputValue&&!D.disabled&&!D.readonly?(e.openBlock(),e.createBlock(e.unref(nn),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:J[3]||(J[3]=e.withModifiers(u=>C(u),["prevent"]))})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Nr=typeof window<"u"?window:void 0,xt=()=>{},Er=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,_r=(t,n,l,a)=>{if(!t)return xt;let r=xt;const f=e.watch(()=>e.unref(t),w=>{r(),w&&(w.addEventListener(n,l,a),r=()=>{w.removeEventListener(n,l,a),r=xt})},{immediate:!0,flush:"post"}),p=()=>{f(),r()};return Er(p),p},Yr=(t,n,l,a={})=>{const{window:r=Nr,event:f="pointerdown"}=a;return r?_r(r,f,w=>{const c=ve(t),z=ve(n);!c||!z||c===w.target||w.composedPath().includes(c)||w.composedPath().includes(z)||l(w)},{passive:!0}):void 0},Vr=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...pt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,f=e.useSlots(),p=e.ref(!1),w=e.toRef(r,"modelValue"),c=e.toRef(r,"timezone"),z=e.ref(null),g=e.ref(null),O=e.ref(null),v=e.ref(!1),R=e.ref(null),H=e.ref(!1),V=e.ref(!1),T=e.ref(!1),h=e.ref(!1),{setMenuFocused:I,setShiftKey:$}=vn(),{clearArrowNav:Q}=He(),{validateDate:X,isValidTime:ee}=We(r),{defaultedTransitions:G,defaultedTextInput:A,defaultedInline:te,defaultedConfig:E,defaultedRange:K,defaultedMultiDates:se}=ye(r),{menuTransition:oe,showTransition:N}=lt(G);e.onMounted(()=>{m(r.modelValue),e.nextTick().then(()=>{if(!te.value.enabled){const y=le(R.value);y==null||y.addEventListener("scroll",P),window==null||window.addEventListener("resize",Z)}}),te.value.enabled&&(p.value=!0),window==null||window.addEventListener("keyup",re),window==null||window.addEventListener("keydown",k)}),e.onUnmounted(()=>{if(!te.value.enabled){const y=le(R.value);y==null||y.removeEventListener("scroll",P),window==null||window.removeEventListener("resize",Z)}window==null||window.removeEventListener("keyup",re),window==null||window.removeEventListener("keydown",k)});const C=Pe(f,"all",r.presetDates),M=Pe(f,"input");e.watch([w,c],()=>{m(w.value)},{deep:!0});const{openOnTop:s,menuStyle:L,xCorrect:D,setMenuPosition:J,getScrollableParent:le,shadowRender:u}=Dr({menuRef:z,menuRefInner:g,inputRef:O,pickerWrapperRef:R,inline:te,emit:a,props:r,slots:f}),{inputValue:Y,internalModelValue:ae,parseExternalModelValue:m,emitModelValue:B,formatInputValue:q,checkBeforeEmit:i}=ga(a,r,v),ne=e.computed(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:te.value.enabled,"dp--flex-display-collapsed":T.value,dp__flex_display_with_input:te.value.input})),S=e.computed(()=>r.dark?"dp__theme_dark":"dp__theme_light"),ue=e.computed(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||te.value.enabled}:{}),d=e.computed(()=>({class:"dp__outer_menu_wrap"})),_=e.computed(()=>te.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),j=()=>{var y,W;return(W=(y=O.value)==null?void 0:y.$el)==null?void 0:W.getBoundingClientRect()},P=()=>{p.value&&(E.value.closeOnScroll?Re():J())},Z=()=>{var W;p.value&&J();const y=(W=g.value)==null?void 0:W.$el.getBoundingClientRect().width;T.value=document.body.offsetWidth<=y},re=y=>{y.key==="Tab"&&!te.value.enabled&&!r.teleport&&E.value.tabOutClosesMenu&&(R.value.contains(document.activeElement)||Re()),V.value=y.shiftKey},k=y=>{V.value=y.shiftKey},U=()=>{!r.disabled&&!r.readonly&&(u(Rn,r),J(!1),p.value=!0,p.value&&a("open"),p.value||st(),m(r.modelValue))},ce=()=>{var y;Y.value="",st(),(y=O.value)==null||y.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),E.value.closeOnClearValue&&Re()},fe=()=>{const y=ae.value;return!y||!Array.isArray(y)&&X(y)?!0:Array.isArray(y)?se.value.enabled||y.length===2&&X(y[0])&&X(y[1])?!0:K.value.partialRange&&!r.timePicker?X(y[0]):!1:!1},Ae=()=>{i()&&fe()?(B(),Re()):a("invalid-select",ae.value)},ie=y=>{je(),B(),E.value.closeOnAutoApply&&!y&&Re()},je=()=>{O.value&&A.value.enabled&&O.value.setParsedDate(ae.value)},Ye=(y=!1)=>{r.autoApply&&ee(ae.value)&&fe()&&(K.value.enabled&&Array.isArray(ae.value)?(K.value.partialRange||ae.value.length===2)&&ie(y):ie(y))},st=()=>{A.value.enabled||(ae.value=null)},Re=()=>{te.value.enabled||(p.value&&(p.value=!1,D.value=!1,I(!1),$(!1),Q(),a("closed"),Y.value&&m(w.value)),st(),a("blur"))},it=(y,W,F=!1)=>{if(!y){ae.value=null;return}const me=Array.isArray(y)?!y.some(Ge=>!X(Ge)):X(y),Me=ee(y);me&&Me&&(h.value=!0,ae.value=y,W&&(H.value=F,Ae(),a("text-submit")),e.nextTick().then(()=>{h.value=!1}))},qt=()=>{r.autoApply&&ee(ae.value)&&B(),je()},kt=()=>p.value?Re():U(),Gt=y=>{ae.value=y},Qt=()=>{A.value.enabled&&(v.value=!0,q()),a("focus")},Xt=()=>{if(A.value.enabled&&(v.value=!1,m(r.modelValue),H.value)){const y=Un(R.value,V.value);y==null||y.focus()}a("blur")},Jt=y=>{g.value&&g.value.updateMonthYear(0,{month:on(y.month),year:on(y.year)})},Zt=y=>{m(y??r.modelValue)},Ft=(y,W)=>{var F;(F=g.value)==null||F.switchView(y,W)},Nn=y=>E.value.onClickOutside?E.value.onClickOutside(y):Re(),b=(y=0)=>{var W;(W=g.value)==null||W.handleFlow(y)};return Yr(z,O,()=>Nn(fe)),n({closeMenu:Re,selectDate:Ae,clearValue:ce,openMenu:U,onScroll:P,formatInputValue:q,updateInternalModelValue:Gt,setMonthYear:Jt,parseModel:Zt,switchView:Ft,toggleMenu:kt,handleFlow:b}),(y,W)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:R,class:e.normalizeClass(ne.value),"data-datepicker-instance":""},[e.createVNode(Rr,e.mergeProps({ref_key:"inputRef",ref:O,"input-value":e.unref(Y),"onUpdate:inputValue":W[0]||(W[0]=F=>e.isRef(Y)?Y.value=F:null),"is-menu-open":p.value},y.$props,{onClear:ce,onOpen:U,onSetInputDate:it,onSetEmptyDate:e.unref(B),onSelectDate:Ae,onToggle:kt,onClose:Re,onFocus:Qt,onBlur:Xt,onRealBlur:W[1]||(W[1]=F=>v.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(M),(F,me)=>({name:F,fn:e.withCtx(Me=>[e.renderSlot(y.$slots,F,e.normalizeProps(e.guardReactiveProps(Me)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(y.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(ue.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(oe)(e.unref(s)),css:e.unref(N)&&!e.unref(te).enabled},{default:e.withCtx(()=>[p.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:z},d.value,{class:{"dp--menu-wrapper":!e.unref(te).enabled},style:e.unref(te).enabled?void 0:e.unref(L)}),[e.createVNode(Rn,e.mergeProps({ref_key:"dpMenuRef",ref:g},y.$props,{"internal-model-value":e.unref(ae),"onUpdate:internalModelValue":W[2]||(W[2]=F=>e.isRef(ae)?ae.value=F:null),class:{[S.value]:!0,"dp--menu-wrapper":y.teleport},"open-on-top":e.unref(s),"no-overlay-focus":_.value,collapse:T.value,"get-input-rect":j,"is-text-input-date":h.value,onClosePicker:Re,onSelectDate:Ae,onAutoApply:Ye,onTimeUpdate:qt,onFlowStep:W[3]||(W[3]=F=>y.$emit("flow-step",F)),onUpdateMonthYear:W[4]||(W[4]=F=>y.$emit("update-month-year",F)),onInvalidSelect:W[5]||(W[5]=F=>y.$emit("invalid-select",e.unref(ae))),onAutoApplyInvalid:W[6]||(W[6]=F=>y.$emit("invalid-select",F)),onInvalidFixedRange:W[7]||(W[7]=F=>y.$emit("invalid-fixed-range",F)),onRecalculatePosition:e.unref(J),onTooltipOpen:W[8]||(W[8]=F=>y.$emit("tooltip-open",F)),onTooltipClose:W[9]||(W[9]=F=>y.$emit("tooltip-close",F)),onTimePickerOpen:W[10]||(W[10]=F=>y.$emit("time-picker-open",F)),onTimePickerClose:W[11]||(W[11]=F=>y.$emit("time-picker-close",F)),onAmPmChange:W[12]||(W[12]=F=>y.$emit("am-pm-change",F)),onRangeStart:W[13]||(W[13]=F=>y.$emit("range-start",F)),onRangeEnd:W[14]||(W[14]=F=>y.$emit("range-end",F)),onDateUpdate:W[15]||(W[15]=F=>y.$emit("date-update",F)),onInvalidDate:W[16]||(W[16]=F=>y.$emit("invalid-date",F)),onOverlayToggle:W[17]||(W[17]=F=>y.$emit("overlay-toggle",F))}),e.createSlots({_:2},[e.renderList(e.unref(C),(F,me)=>({name:F,fn:e.withCtx(Me=>[e.renderSlot(y.$slots,F,e.normalizeProps(e.guardReactiveProps({...Me})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Kt=(()=>{const t=Vr;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(Kt[t]=n)}),Kt});

import{T as D,d,s as L,k as h,l as O,o as g,c as R,w as p,a as r,i as J,b as o,u as s,j as C,v as q,e as b,F as k,h as B,t as E,f as $,n as x,g as M}from"./app-DwAHA_Mt.js";import{M as S}from"./Modal-DosvBnh2.js";import{_ as T}from"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-DsXaYi2t.js";import{_ as N,a as U,b as A}from"./InputError-DMqsnpds.js";/* empty css                                                               */import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"grid grid-cols-3 gap-4 h-full"},Q={class:"col-span-3"},j={class:"col-span-3"},z={key:0,class:"absolute w-full mt-1 bg-white border rounded-md shadow-lg max-h-60 overflow-auto z-10"},P=["onMousedown"],W={class:"col-span-3"},Y={__name:"Create",props:{showModal:Boolean,JOURNALID:String,items:{type:Array,required:!0}},emits:["toggleActive"],setup(f,{emit:y}){const I=y,i=f,e=D({JOURNALID:"",itemname:"",qty:"",unitid:""}),m=d(""),u=d(!1),v=d(null),a=L(()=>i.items.filter(n=>n.itemname.toLowerCase().includes(m.value.toLowerCase())));function c(n){v.value=n,m.value=n.itemname,e.itemname=n.itemid,u.value=!1}function w(){setTimeout(()=>{u.value=!1},100)}const _=()=>{e.post("/ItemOrders",{preserveScroll:!0,onSuccess:()=>{e.reset(),location.reload()}})},V=()=>{I("toggleActive")};return h(()=>{e.JOURNALID=i.JOURNALID,O(()=>i.JOURNALID,n=>{e.JOURNALID=n})}),(n,t)=>(g(),R(S,{title:"ORDER ENTRIES",onToggleActive:V,"show-modal":f.showModal},{content:p(()=>[r("form",{onSubmit:J(_,["prevent"]),class:"px-2 py-3 max-h-[50vh] lg:max-h-[70vh] overflow-y-auto"},[r("div",G,[r("div",Q,[o(N,{for:"JOURNALID",value:"JOURNALID"}),o(U,{id:"JOURNALID",modelValue:s(e).JOURNALID,"onUpdate:modelValue":t[0]||(t[0]=l=>s(e).JOURNALID=l),type:"text",class:"mt-1 block w-full input","is-error":!!s(e).errors.JOURNALID,autofocus:"",disabled:""},null,8,["modelValue","is-error"]),o(A,{message:s(e).errors.JOURNALID,class:"mt-2"},null,8,["message"])]),r("div",j,[o(N,{for:"itemname",value:"ITEMNAME"}),C(r("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=l=>m.value=l),onFocus:t[2]||(t[2]=l=>u.value=!0),onBlur:w,placeholder:"Search items...",class:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[q,m.value]]),u.value?(g(),b("div",z,[(g(!0),b(k,null,B(a.value,l=>(g(),b("div",{key:l.itemid,onMousedown:X=>c(l),class:"px-4 py-2 cursor-pointer hover:bg-gray-100"},E(l.itemname),41,P))),128))])):$("",!0),o(A,{message:s(e).errors.itemname,class:"mt-2"},null,8,["message"])]),r("div",W,[o(N,{for:"qty",value:"QTY"}),o(U,{id:"qty",modelValue:s(e).qty,"onUpdate:modelValue":t[3]||(t[3]=l=>s(e).qty=l),type:"number",class:"mt-1 block w-full",required:"",autocomplete:"qty"},null,8,["modelValue"]),o(A,{message:s(e).errors.qty,class:"mt-2"},null,8,["message"])])])],32)]),buttons:p(()=>[o(T,{type:"submit",onClick:_,disabled:s(e).processing,class:x({"opacity-25":s(e).processing})},{default:p(()=>t[4]||(t[4]=[M(" SUBMIT ")])),_:1},8,["disabled","class"])]),_:1},8,["show-modal"]))}},re=F(Y,[["__scopeId","data-v-93cf1055"]]),H={class:"grid grid-cols-3 gap-4 h-full"},K={class:"col-span-3"},ae={__name:"GetBWP",props:{showModal:Boolean,inventjournaltransrepos:{type:Array,required:!1},JOURNALID:String,items:{type:Array,required:!0}},emits:["toggleActive"],setup(f,{emit:y}){const I=y,i=f,e=D({JOURNALID:"",itemname:"",qty:"",unitid:""}),m=d("");d(!1),d(null),L(()=>i.items.filter(a=>a.itemname.toLowerCase().includes(m.value.toLowerCase())));const u=()=>{console.log("Submitting form..."),e.patch("/special-orders/getbwproducts",{preserveScroll:!0,onSuccess:()=>{console.log("Form submission successful."),v()},onError:a=>{console.error("Form submission error:",a)}})},v=()=>{I("toggleActive")};return h(()=>{e.JOURNALID=i.JOURNALID,O(()=>i.JOURNALID,a=>{e.JOURNALID=a})}),(a,c)=>(g(),R(S,{title:"GET BW PRODUCTS",onToggleActive:v,"show-modal":f.showModal},{content:p(()=>[r("form",{onSubmit:J(u,["prevent"]),class:"px-2 py-3 max-h-[50vh] lg:max-h-[70vh] overflow-y-auto"},[r("div",H,[r("div",K,[o(U,{id:"JOURNALID",modelValue:s(e).JOURNALID,"onUpdate:modelValue":c[0]||(c[0]=w=>s(e).JOURNALID=w),type:"text",class:"mt-1 block w-full input","is-error":!!s(e).errors.JOURNALID,autofocus:"",disabled:""},null,8,["modelValue","is-error"]),o(A,{message:s(e).errors.JOURNALID,class:"mt-2"},null,8,["message"])])])],32)]),buttons:p(()=>[o(T,{type:"submit",onClick:u,disabled:s(e).processing,class:x({"opacity-25":s(e).processing})},{default:p(()=>c[1]||(c[1]=[M(" GET ITEMS ")])),_:1},8,["disabled","class"])]),_:1},8,["show-modal"]))}};export{re as C,ae as _};

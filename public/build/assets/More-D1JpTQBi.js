import{T as M,o as y,c as P,w as c,b as i,i as N,a as e,u as l,j as a,e as S,F as R,h as $,t as C,x as A,n as O,g as u,s as q,l as I,v as p,q as U,f as _,m as D,k as B}from"./app-DwAHA_Mt.js";import{M as F}from"./Modal-DosvBnh2.js";import{_ as G}from"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-DsXaYi2t.js";import{_ as v,a as V,b as w}from"./InputError-DMqsnpds.js";import{_ as L}from"./SelectOption-CN7kucLr.js";import{F as T}from"./FormComponent-DsXdn04S.js";import{M as j}from"./DaisyModal-W0NxAgyd.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as E}from"./TransparentButton-okQ3IpTB.js";import{P as Q}from"./possettings-CScHmGCI.js";const H={class:"grid grid-cols-1"},W={class:"col-span-1"},Z={class:"grid gap-4"},J={class:"col-span-1"},K={class:"col-span-11"},X={class:"col-span-1"},Y={class:"col-span-11"},h=["value"],ee={class:"col-span-12"},te={class:"col-span-1"},oe={class:"col-span-11"},Fe={__name:"Create",props:{showModal:{type:Boolean,default:!1},rboinventitemretailgroups:{type:Array,required:!0}},setup(f,{emit:g}){const d=f,m=()=>{const n=d.rboinventitemretailgroups.find(r=>r.GROUPID===t.itemgroup);n&&b("select-item",n)},t=M({itemid:"",itemname:"",itemdepartment:"",itemgroup:"",barcode:"",cost:"",price:""}),k=()=>{t.post("/items",{preserveScroll:!0,onSuccess:()=>t.reset()})},b=g,x=()=>{b("toggleActive")};return(n,r)=>(y(),P(F,{title:"CREATE NEW ITEM",onToggleActive:x,"show-modal":f.showModal},{content:c(()=>[i(T,{onSubmit:N(k,["prevent"])},{default:c(()=>[e("div",H,[e("div",W,[e("div",Z,[e("div",J,[i(v,{for:"PRODUCTCODE",value:"PRODUCT CODE"}),i(V,{id:"itemid",modelValue:l(t).itemid,"onUpdate:modelValue":r[0]||(r[0]=o=>l(t).itemid=o),type:"text",class:"mt-1 block w-full","is-error":!!l(t).errors.itemid,autofocus:""},null,8,["modelValue","is-error"]),i(w,{message:l(t).errors.itemid,class:"mt-2"},null,8,["message"])]),e("div",K,[i(v,{for:"ITEMNAME",value:"ITEM NAME"}),i(V,{id:"itemname",modelValue:l(t).itemname,"onUpdate:modelValue":r[1]||(r[1]=o=>l(t).itemname=o),"is-error":!!l(t).errors.itemname,type:"text",class:"mt-1 block w-full"},null,8,["modelValue","is-error"]),i(w,{message:l(t).errors.itemname,class:"mt-2"},null,8,["message"])]),e("div",X,[i(v,{for:"RETAILGROUP",value:"RETAILGROUP"}),i(L,{id:"itemdepartment",modelValue:l(t).itemdepartment,"onUpdate:modelValue":r[2]||(r[2]=o=>l(t).itemdepartment=o),"is-error":!!l(t).errors.itemdepartment,class:"mt-1 block w-full !bg-white"},{default:c(()=>r[7]||(r[7]=[e("option",{disabled:"",value:""},"Select an option",-1),e("option",null,"REGULAR PRODUCT",-1),e("option",null,"NON PRODUCT",-1)])),_:1},8,["modelValue","is-error"]),i(w,{message:l(t).errors.itemdepartment,class:"mt-2"},null,8,["message"])]),e("div",Y,[i(v,{for:"Category",value:"Category"}),a(e("select",{id:"itemgroup","onUpdate:modelValue":r[3]||(r[3]=o=>l(t).itemgroup=o),class:"input input-bordered w-full !bg-white",onChange:m},[(y(!0),S(R,null,$(f.rboinventitemretailgroups,o=>(y(),S("option",{key:o.GROUPID,value:o.NAME},C(o.NAME),9,h))),128))],544),[[A,l(t).itemgroup]])]),e("div",ee,[e("div",null,[i(v,{for:"BARCODE",value:"BARCODE"}),i(V,{id:"barcode",modelValue:l(t).barcode,"onUpdate:modelValue":r[4]||(r[4]=o=>l(t).barcode=o),"is-error":!!l(t).errors.barcode,type:"text",class:"mt-1 block w-full"},null,8,["modelValue","is-error"]),i(w,{message:l(t).errors.barcode,class:"mt-2"},null,8,["message"])])]),e("div",te,[i(v,{for:"COSTPRICE",value:"COSTPRICE"}),i(V,{id:"cost",modelValue:l(t).cost,"onUpdate:modelValue":r[5]||(r[5]=o=>l(t).cost=o),"is-error":!!l(t).errors.cost,type:"number",class:"mt-1 block w-full"},null,8,["modelValue","is-error"]),i(w,{message:l(t).errors.cost,class:"mt-2"},null,8,["message"])]),e("div",oe,[i(v,{for:"PRICE",value:"PRICE"}),i(V,{id:"price",modelValue:l(t).price,"onUpdate:modelValue":r[6]||(r[6]=o=>l(t).price=o),"is-error":!!l(t).errors.price,type:"number",class:"mt-1 block w-full"},null,8,["modelValue","is-error"]),i(w,{message:l(t).errors.price,class:"mt-2"},null,8,["message"])])])])])]),_:1})]),buttons:c(()=>[i(G,{type:"submit",onClick:k,disabled:l(t).processing,class:O({"opacity-25":l(t).processing})},{default:c(()=>r[8]||(r[8]=[u(" SUBMIT ")])),_:1},8,["disabled","class"])]),_:1},8,["show-modal"]))}},le={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},re={class:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white"},se={class:"mt-3"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},de={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ae=["value"],ne={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fe={class:"border-t pt-4"},ce={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ge={class:"flex items-center"},be={class:"flex items-center"},ye={class:"flex items-center"},xe={class:"border-t pt-4"},ve={class:"flex items-center"},we={class:"flex justify-end space-x-3 pt-4"},ke=["disabled"],Ge={__name:"Update",props:{showModal:{type:Boolean,default:!1},itemid:{type:String,default:""},itemname:{type:String,default:""},itemgroup:{type:String,default:""},price:{type:[Number,String],default:0},cost:{type:[Number,String],default:0},moq:{type:[Number,String,null],default:null},manilaprice:{type:[Number,String],default:0},foodpandaprice:{type:[Number,String],default:0},grabfoodprice:{type:[Number,String],default:0},mallprice:{type:[Number,String],default:0},foodpandamallprice:{type:[Number,String],default:0},grabfoodmallprice:{type:[Number,String],default:0},production:{type:String,default:""},default1:{type:[Boolean,Number,String],default:!1},default2:{type:[Boolean,Number,String],default:!1},default3:{type:[Boolean,Number,String],default:!1},rboinventitemretailgroups:{type:Array,default:()=>[]}},emits:["toggle-active"],setup(f,{emit:g}){const d=f,m=g,t=M({itemid:"",itemname:"",itemgroup:"",cost:0,price:0,moq:null,manilaprice:0,foodpandaprice:0,grabfoodprice:0,mallprice:0,foodpandamallprice:0,grabfoodmallprice:0,production:"",default1:!1,default2:!1,default3:!1,confirm_defaults:!1}),k=q(()=>!d.rboinventitemretailgroups||!Array.isArray(d.rboinventitemretailgroups)?[]:d.rboinventitemretailgroups.map(r=>r.NAME||r.name).filter(Boolean)),b=r=>typeof r=="boolean"?r:typeof r=="number"?r===1:typeof r=="string"?r==="1"||r.toLowerCase()==="true":!1;I(()=>d.showModal,r=>{r&&(t.reset(),t.itemid=d.itemid,t.itemname=d.itemname,t.itemgroup=d.itemgroup,t.cost=d.cost,t.price=d.price,t.moq=d.moq,t.manilaprice=d.manilaprice,t.foodpandaprice=d.foodpandaprice,t.grabfoodprice=d.grabfoodprice,t.mallprice=d.mallprice,t.foodpandamallprice=d.foodpandamallprice,t.grabfoodmallprice=d.grabfoodmallprice,t.production=d.production,t.default1=b(d.default1),t.default2=b(d.default2),t.default3=b(d.default3),t.confirm_defaults=!1)});const x=()=>{t.put(route("items.update",d.itemid),{preserveScroll:!0,onSuccess:()=>{m("toggle-active"),t.reset()},onError:r=>{console.error("Update failed:",r)}})},n=()=>{m("toggle-active"),t.reset()};return(r,o)=>f.showModal?(y(),S("div",le,[e("div",re,[e("div",se,[o[36]||(o[36]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Update Item",-1)),e("form",{onSubmit:N(x,["prevent"]),class:"space-y-4"},[e("div",ie,[e("div",null,[o[17]||(o[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Item ID",-1)),a(e("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>l(t).itemid=s),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 focus:outline-none"},null,512),[[p,l(t).itemid]])]),e("div",null,[o[18]||(o[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[u("Item Name "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>l(t).itemname=s),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,l(t).itemname]])])]),e("div",de,[e("div",null,[o[20]||(o[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[u("Category "),e("span",{class:"text-red-500"},"*")],-1)),a(e("select",{"onUpdate:modelValue":o[2]||(o[2]=s=>l(t).itemgroup=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[o[19]||(o[19]=e("option",{value:""},"Select a category",-1)),(y(!0),S(R,null,$(k.value,s=>(y(),S("option",{key:s,value:s},C(s),9,ae))),128))],512),[[A,l(t).itemgroup]])]),e("div",null,[o[21]||(o[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[u("Production "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>l(t).production=s),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,l(t).production]])])]),e("div",ne,[e("div",null,[o[22]||(o[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[u("Cost "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":o[4]||(o[4]=s=>l(t).cost=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,l(t).cost]])]),e("div",null,[o[23]||(o[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[u("SRP "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":o[5]||(o[5]=s=>l(t).price=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,l(t).price]])]),e("div",null,[o[24]||(o[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"MOQ (Optional)",-1)),a(e("input",{"onUpdate:modelValue":o[6]||(o[6]=s=>l(t).moq=s),type:"number",step:"1",min:"0",placeholder:"Leave empty for no MOQ",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,l(t).moq]])])]),e("div",ue,[e("div",null,[o[25]||(o[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[u("Manila Price "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":o[7]||(o[7]=s=>l(t).manilaprice=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,l(t).manilaprice]])]),e("div",null,[o[26]||(o[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[u("Mall Price "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":o[8]||(o[8]=s=>l(t).mallprice=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,l(t).mallprice]])])]),e("div",me,[e("div",null,[o[27]||(o[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[u("Foodpanda Price "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":o[9]||(o[9]=s=>l(t).foodpandaprice=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,l(t).foodpandaprice]])]),e("div",null,[o[28]||(o[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[u("GrabFood Price "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":o[10]||(o[10]=s=>l(t).grabfoodprice=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,l(t).grabfoodprice]])])]),e("div",pe,[e("div",null,[o[29]||(o[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[u("Foodpanda Mall Price "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":o[11]||(o[11]=s=>l(t).foodpandamallprice=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,l(t).foodpandamallprice]])]),e("div",null,[o[30]||(o[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[u("GrabFood Mall Price "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":o[12]||(o[12]=s=>l(t).grabfoodmallprice=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,l(t).grabfoodmallprice]])])]),e("div",fe,[o[34]||(o[34]=e("h4",{class:"text-md font-medium text-gray-900 mb-3"},"Default Settings",-1)),e("div",ce,[e("div",ge,[a(e("input",{"onUpdate:modelValue":o[13]||(o[13]=s=>l(t).default1=s),type:"checkbox",id:"default1",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[U,l(t).default1]]),o[31]||(o[31]=e("label",{for:"default1",class:"ml-2 block text-sm text-gray-900"},"Default 1",-1))]),e("div",be,[a(e("input",{"onUpdate:modelValue":o[14]||(o[14]=s=>l(t).default2=s),type:"checkbox",id:"default2",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[U,l(t).default2]]),o[32]||(o[32]=e("label",{for:"default2",class:"ml-2 block text-sm text-gray-900"},"Default 2",-1))]),e("div",ye,[a(e("input",{"onUpdate:modelValue":o[15]||(o[15]=s=>l(t).default3=s),type:"checkbox",id:"default3",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[U,l(t).default3]]),o[33]||(o[33]=e("label",{for:"default3",class:"ml-2 block text-sm text-gray-900"},"Default 3",-1))])])]),e("div",xe,[e("div",ve,[a(e("input",{"onUpdate:modelValue":o[16]||(o[16]=s=>l(t).confirm_defaults=s),type:"checkbox",id:"confirm_defaults",required:"",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[U,l(t).confirm_defaults]]),o[35]||(o[35]=e("label",{for:"confirm_defaults",class:"ml-2 block text-sm text-gray-900"},[e("span",{class:"text-red-500"},"*"),u(" I confirm that all default settings are properly configured before saving ")],-1))])]),e("div",we,[e("button",{type:"button",onClick:n,class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded"}," Cancel "),e("button",{type:"submit",disabled:l(t).processing||!l(t).confirm_defaults,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50"},C(l(t).processing?"Updating...":"Update Item"),9,ke)])],32)])])])):_("",!0)}},Ve={},Se={fill:"#000000",viewBox:"0 0 24 24",id:"price-tag","data-name":"Line Color",xmlns:"http://www.w3.org/2000/svg",class:"icon line-color"};function Ue(f,g){return y(),S("svg",Se,g[0]||(g[0]=[D('<g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><line id="secondary-upstroke" x1="16.45" y1="7.5" x2="16.55" y2="7.5" style="fill:none;stroke:#2c3cba;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;"></line><path id="primary" d="M21,10V4a1,1,0,0,0-1-1H14L3.68,13.26a1,1,0,0,0,0,1.41l5.66,5.66a1,1,0,0,0,1.41,0Z" style="fill:none;stroke:#0400ff;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;"></path></g>',3)]))}const Ce=z(Ve,[["render",Ue]]),Me={class:"col-span-6 sm:col-span-4"},Ne={class:"grid grid-cols-2 gap-4 pt-5"},Ee={class:"bg-blue-50 p-4 rounded-md w-full"},Pe={class:"bg-blue-50 p-4 rounded-md w-full"},Le={__name:"More",props:{itemid:{type:[String,Number],required:!0},showModal:{type:Boolean,default:!1}},setup(f,{emit:g}){const d=f,m=M({itemid:d.itemid}),t=()=>{m.patch(route("retail.terminal"),{preserveScroll:!0,onSuccess:()=>{},onError:()=>{}})},k=g,b=()=>{k("toggleActive")};return B(()=>{m.itemid=d.itemid,I(()=>d.itemid,x=>{m.itemid=x})}),(x,n)=>(y(),P(j,{title:"OPTIONS",onToggleActive:b,"show-modal":f.showModal},{content:c(()=>[i(T,{onSubmit:N(t,["prevent"])},{default:c(()=>[e("div",Me,[i(V,{id:"itemid",modelValue:l(m).itemid,"onUpdate:modelValue":n[0]||(n[0]=r=>l(m).itemid=r),type:"text",class:"mt-1 block w-full bg-blue-500 text-white","is-error":!!l(m).errors.itemid,disabled:""},null,8,["modelValue","is-error"]),i(w,{message:l(m).errors.itemid,class:"mt-2"},null,8,["message"])]),e("div",Ne,[i(E,null,{default:c(()=>[e("div",Ee,[i(Ce),n[1]||(n[1]=e("div",{class:"flex items-center justify-center font-bold"},"RETAIL PRICE",-1))])]),_:1}),i(E,{url:x.route("retail.terminal",{itemid:l(m).itemid})},{default:c(()=>[e("div",Pe,[i(Q),n[2]||(n[2]=e("div",{class:"flex items-center justify-center font-bold"},"POS TERMINAL",-1))])]),_:1},8,["url"])])]),_:1})]),default:c(()=>[n[3]||(n[3]=u(" < "))]),_:1},8,["show-modal"]))}};export{Fe as _,Ge as a,Le as b};

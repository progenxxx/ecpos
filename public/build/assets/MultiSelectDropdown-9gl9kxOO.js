import{d as h,s as v,k as w,G as V,o as i,e as d,a as l,t as p,F as A,h as C,f as E}from"./app-DfIvzsOQ.js";const _={class:"block text-sm font-medium text-gray-700 mb-1"},M={class:"block truncate"},O={key:0,class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},S={class:"border-b border-gray-200"},N=["checked","indeterminate"],L=["onClick"],B=["checked"],z={class:"ml-2"},$={__name:"MultiSelectDropdown",props:{options:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Select Options"}},emits:["update:modelValue"],setup(o,{emit:y}){const s=o,c=y,r=h(!1),u=h(null),m=v(()=>s.modelValue.length),b=v(()=>{const t=s.modelValue.length;return t===0?"Select stores...":t===1?"1 store selected":`${t} stores selected`}),g=t=>{u.value&&!u.value.contains(t.target)&&(r.value=!1)},x=t=>{const e=[...s.modelValue],n=e.indexOf(t);n===-1?e.push(t):e.splice(n,1),c("update:modelValue",e)},k=()=>{const t=s.options||[];s.modelValue.length===t.length?c("update:modelValue",[]):c("update:modelValue",t.map(e=>e.NAME))};return w(()=>{document.addEventListener("click",g)}),V(()=>{document.removeEventListener("click",g)}),(t,e)=>{var n,f;return i(),d("div",{class:"relative",ref_key:"dropdownRef",ref:u},[l("label",_,p(o.label),1),l("button",{onClick:e[0]||(e[0]=a=>r.value=!r.value),type:"button",class:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[l("span",M,p(b.value),1),e[1]||(e[1]=l("span",{class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},[l("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))]),r.value?(i(),d("div",O,[l("div",S,[l("div",{class:"px-3 py-2 cursor-pointer hover:bg-gray-100 flex items-center",onClick:k},[l("input",{type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:m.value===(((n=o.options)==null?void 0:n.length)||0),indeterminate:m.value>0&&m.value<(((f=o.options)==null?void 0:f.length)||0)},null,8,N),e[2]||(e[2]=l("span",{class:"ml-2 font-medium"},"Select All",-1))])]),(i(!0),d(A,null,C(o.options||[],a=>(i(),d("div",{key:a.STOREID,class:"px-3 py-2 cursor-pointer hover:bg-gray-100 flex items-center",onClick:D=>x(a.NAME)},[l("input",{type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:o.modelValue.includes(a.NAME)},null,8,B),l("span",z,p(a.NAME),1)],8,L))),128))])):E("",!0)],512)}}};export{$ as _};

import{d as g,l as wt,q as V,k as kt,E as _t,c as B,w as Z,B as Nt,o as i,a as t,e as d,g as m,t as r,j as q,v as G,i as tt,F as et,h as st,f as u,n as at,b as Ft,u as Ct,z as St}from"./app-DJ_ZTFbI.js";import{_ as Tt}from"./AdminPanel-DorjMUAR.js";import{_ as Dt}from"./Main-mJnHo3lV.js";import{T as Mt}from"./TableContainer-CTCvRGFw.js";import"./buttons.print-BlFcwtqH.js";import{P as ot,D as rt}from"./dataTables-Dqt6QQHC.js";import{S as nt}from"./sweetalert2.esm.all-IRYXxR_Z.js";import{E as At}from"./exceljs.min-DuakHjXl.js";import{M as jt,C as Et}from"./Close-CHLC7INy.js";import{_ as Rt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./RetailGroup-ReiPV-Rs.js";import"./Logout-CqZ_wKbj.js";/* empty css                                                             */import"./Modal-CKYSH-Ul.js";import"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-B7C873nC.js";import"./RetailItems-BqM3fhIp.js";import"./PartyCake143-CS_JfOvx.js";const Ot={class:"mb-6 bg-white rounded-xl shadow-lg border border-gray-200"},It={class:"mb-6"},Vt={class:"p-6 z-1"},Bt={class:"grid grid-cols-1 md:grid-cols-5 gap-6"},Lt={key:0,class:"store-dropdown-container relative"},Pt={class:"relative"},zt={key:0,class:"text-gray-500"},Ut={key:1,class:"text-gray-900"},Ht={key:2,class:"text-gray-900"},qt={key:0,class:"absolute z-50 w-full mt-2 bg-white border border-gray-300 rounded-lg shadow-xl max-h-72 overflow-hidden"},Gt={class:"p-3 border-b border-gray-200 bg-gray-50"},$t={class:"max-h-48 overflow-y-auto"},Wt=["checked","onChange"],Yt={class:"text-sm text-gray-700"},Qt={key:0,class:"p-4 text-sm text-gray-500 text-center"},Kt={class:"flex items-end"},Jt=["disabled"],Xt={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Zt={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},te={class:"mt-4 flex flex-wrap gap-2"},ee={key:0,class:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4"},se={key:1,class:"mb-6 bg-white rounded-xl shadow-lg p-6"},ae={key:0,class:"flex justify-center items-center py-8"},oe={key:1,class:"grid grid-cols-2 gap-4 text-sm"},re={class:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg"},ne={class:"text-xl font-bold text-blue-800"},le={class:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg"},ie={class:"text-xl font-bold text-green-800"},de={class:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg"},ue={class:"text-xl font-bold text-purple-800"},me={class:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg"},ce={class:"text-xl font-bold text-orange-800"},pe={class:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden"},xe={key:0,class:"flex justify-center items-center py-16"},ge={key:1,class:"overflow-hidden"},ye={class:"max-h-96 overflow-y-auto"},fe=["onTouchstart"],be={class:"space-y-3"},he={class:"flex justify-between items-start"},ve={class:"flex-1 min-w-0"},we={class:"font-medium text-gray-900 truncate"},ke={class:"text-sm text-gray-500 flex items-center"},_e={class:"text-right"},Ne={class:"text-sm text-gray-500"},Fe={class:"text-xs text-gray-400"},Ce={class:"grid grid-cols-2 gap-3"},Se={class:"bg-green-50 p-3 rounded-lg"},Te={class:"text-lg font-bold text-green-800"},De={class:"bg-orange-50 p-3 rounded-lg"},Me={class:"text-lg font-bold text-orange-800"},Ae={class:"grid grid-cols-2 gap-2 text-sm"},je={class:"font-medium ml-1"},Ee={class:"font-medium ml-1"},Re={class:"font-medium ml-1"},Oe={class:"font-medium ml-1"},Ie={key:0,class:"text-center py-12 text-gray-500"},Ve={key:2,class:"overflow-hidden"},Be={key:1,class:"text-center py-12 text-gray-500"},Le={key:2,class:"fixed bottom-6 right-6 z-40"},Pe={key:0,class:"absolute bottom-16 right-0 bg-white rounded-lg shadow-xl border border-gray-200 py-2 w-56 transform transition-all duration-200 ease-out"},ze={class:"p-6"},Ue={class:"space-y-6"},He={class:"bg-gray-50 rounded-lg p-4"},qe={class:"space-y-2 text-sm"},Ge={class:"flex justify-between"},$e={class:"text-gray-900"},We={class:"flex justify-between"},Ye={class:"text-gray-900"},Qe={class:"flex justify-between"},Ke={class:"text-gray-900"},Je={class:"flex justify-between"},Xe={class:"text-gray-900"},Ze={class:"bg-blue-50 rounded-lg p-4"},ts={class:"space-y-2 text-sm"},es={class:"flex justify-between"},ss={class:"text-gray-900"},as={class:"flex justify-between"},os={class:"text-gray-900"},rs={class:"flex justify-between"},ns={class:"text-gray-900"},ls={class:"flex justify-between"},is={class:"text-gray-900"},ds={class:"flex justify-between"},us={class:"text-gray-900"},ms={class:"flex justify-between"},cs={class:"text-gray-900"},ps={class:"bg-green-50 rounded-lg p-4"},xs={class:"space-y-2 text-sm"},gs={class:"flex justify-between"},ys={class:"text-gray-900"},fs={class:"flex justify-between"},bs={class:"text-gray-900"},hs={class:"flex justify-between"},vs={class:"text-gray-900"},ws={class:"flex justify-between"},ks={class:"text-gray-900"},_s={class:"flex justify-between border-t border-green-200 pt-2"},Ns={class:"font-bold text-green-700"},Fs={class:"flex justify-between border-t border-green-200 pt-2"},Cs={class:"font-bold text-orange-600"},Ss={class:"flex justify-between"},Ts={class:"text-gray-900"},Ds={class:"flex justify-between"},Ms={class:"text-gray-900"},As={class:"bg-purple-50 rounded-lg p-4"},js={class:"grid grid-cols-2 gap-2 text-sm"},Es={key:0,class:"flex justify-between"},Rs={class:"text-gray-900"},Os={key:1,class:"flex justify-between"},Is={class:"text-gray-900"},Vs={key:2,class:"flex justify-between"},Bs={class:"text-gray-900"},Ls={key:3,class:"flex justify-between"},Ps={class:"text-gray-900"},zs={key:4,class:"flex justify-between"},Us={class:"text-gray-900"},Hs={key:5,class:"flex justify-between"},qs={class:"text-gray-900"},Gs={key:6,class:"flex justify-between"},$s={class:"text-gray-900"},Ws={key:7,class:"flex justify-between"},Ys={class:"text-gray-900"},Qs={key:8,class:"flex justify-between"},Ks={class:"text-gray-900"},Js={key:9,class:"flex justify-between"},Xs={class:"text-gray-900"},Zs={key:10,class:"flex justify-between"},ta={class:"text-gray-900"},ea={key:0,class:"bg-yellow-50 rounded-lg p-4"},sa={class:"space-y-2 text-sm"},aa={key:0,class:"flex justify-between"},oa={class:"text-gray-900"},ra={key:1,class:"flex justify-between"},na={class:"text-gray-900"},la={key:2,class:"flex justify-between"},ia={class:"text-gray-900"},da={key:1,class:"bg-gray-50 rounded-lg p-4"},ua={class:"text-sm text-gray-600 bg-white p-3 rounded border"},ma={__name:"TSales",props:{ec:{type:Array,required:!0},auth:{type:Object,required:!0},stores:{type:Array,required:!0},userRole:{type:String,required:!0},filters:{type:Object,required:!0,default:()=>({startDate:"",endDate:"",selectedStores:[]})},isInitialLoad:{type:Boolean,default:!1}},setup(E){ot.use(rt);const c=g([]),h=g(""),v=g(""),f=g(!1),_=g(!1),T=g(!1),L=g(!1),o=g(null),F=g(null),w=g(""),k=g(!1),P=g(null),lt=()=>{w.value=w.value};wt(k,s=>{s?St(()=>{P.value&&P.value.focus()}):w.value=""});const x=E,it=V(()=>x.userRole.toUpperCase()==="STORE"?Dt:Tt),N=g([]),$=V(()=>{const s=new Date().toISOString().split("T")[0];return h.value===s&&v.value===s});let D=null;const W=()=>{D&&clearTimeout(D),D=setTimeout(()=>{h.value&&v.value&&R()},500)},R=()=>{if(f.value)return;console.log("Applying filters with stores:",c.value),f.value=!0;const s={startDate:h.value,endDate:v.value,stores:c.value.length>0?c.value:null};Object.keys(s).forEach(a=>{(s[a]===null||s[a]===""||Array.isArray(s[a])&&s[a].length===0)&&delete s[a]}),console.log("Final params being sent:",s);const e=new URL(window.location.origin+"/reports/tsales");Object.keys(s).forEach(a=>{Array.isArray(s[a])?s[a].forEach(p=>e.searchParams.append(`${a}[]`,p)):e.searchParams.set(a,s[a])}),console.log("Final URL:",e.toString()),window.location.href=e.toString()},O=s=>{const e=new Date;let a,p;switch(s){case"today":a=p=e;break;case"yesterday":a=p=new Date(e.getTime()-24*60*60*1e3);break;case"thisWeek":a=new Date(e),a.setDate(e.getDate()-e.getDay()),p=new Date(a),p.setDate(a.getDate()+6);break;case"thisMonth":a=new Date(e.getFullYear(),e.getMonth(),1),p=new Date(e.getFullYear(),e.getMonth()+1,0);break}h.value=a.toISOString().split("T")[0],v.value=p.toISOString().split("T")[0],R()},dt=(s,e)=>{e.preventDefault();const a=e.currentTarget;a.classList.add("touching","long-press-indicator","pressing"),F.value=setTimeout(()=>{o.value=s,L.value=!0,a.classList.remove("touching","pressing"),navigator.vibrate&&navigator.vibrate([50,30,50])},500)},Y=s=>{F.value&&(clearTimeout(F.value),F.value=null),s&&s.currentTarget&&s.currentTarget.classList.remove("touching","long-press-indicator","pressing")},Q=()=>{L.value=!1,o.value=null},z=V(()=>{let s=[];if(Array.isArray(x.stores)&&(s=x.stores.map(a=>H(a))),s=[...new Set(s)].filter(a=>a&&a!=="Unknown Store").sort(),!w.value||w.value.trim()==="")return s;const e=w.value.toLowerCase().trim();return s.filter(a=>a.toLowerCase().includes(e))}),ut=()=>{console.log("Debug Store Data:"),console.log("Props stores:",x.stores),console.log("Selected stores:",c.value),console.log("Filtered stores:",z.value),x.stores&&x.stores.length>0&&(console.log("First store object:",x.stores[0]),console.log("Extracted name:",H(x.stores[0])))},mt=s=>{const e=c.value.indexOf(s);e>-1?c.value.splice(e,1):c.value.push(s)},ct=s=>c.value.includes(s),pt=()=>{c.value=[],k.value=!1},xt=()=>{const s=x.stores.map(e=>H(e));c.value=[...new Set(s)].filter(e=>e&&e!=="Unknown Store"),k.value=!1},U=()=>{T.value=window.innerWidth<768},gt=()=>{_.value=!_.value},C=()=>{_.value=!1},K=()=>{c.value=[];const s=new Date().toISOString().split("T")[0];h.value=s,v.value=s,C(),R()};kt(()=>{N.value=x.ec||[],c.value=x.filters.selectedStores||[],h.value=x.filters.startDate||new Date().toISOString().split("T")[0],v.value=x.filters.endDate||new Date().toISOString().split("T")[0],ut(),window.addEventListener("resize",U),document.addEventListener("click",J),U()});const J=s=>{k.value&&!s.target.closest(".store-dropdown-container")&&(k.value=!1)};_t(()=>{document.removeEventListener("click",J),window.removeEventListener("resize",U),F.value&&clearTimeout(F.value),D&&clearTimeout(D)});const M=V(()=>N.value.reduce((s,e)=>(s.total_discamount+=parseFloat(e.total_discamount)||0,s.total_costprice+=parseFloat(e.total_costprice)||0,s.total_netamount+=parseFloat(e.total_netamount)||0,s.vatablesales+=parseFloat(e.vatablesales)||0,s.vat+=parseFloat(e.vat)||0,s.total_grossamount+=parseFloat(e.total_grossamount)||0,s.total_costamount+=parseFloat(e.total_costamount)||0,s.total_qty+=Math.round(e.qty||0),s.commission+=parseFloat(e.commission)||0,s.cash+=parseFloat(e.cash)||0,s.charge+=parseFloat(e.charge)||0,s.representation+=parseFloat(e.representation)||0,s.gcash+=parseFloat(e.gcash)||0,s.paymaya+=parseFloat(e.paymaya)||0,s.card+=parseFloat(e.card)||0,s.loyaltycard+=parseFloat(e.loyaltycard)||0,s.foodpanda+=parseFloat(e.foodpanda)||0,s.grabfood+=parseFloat(e.grabfood)||0,s.mrktgdisc+=parseFloat(e.mrktgdisc)||0,s.rddisc+=parseFloat(e.rddisc)||0,s.bw_products+=parseFloat(e.bw_products)||0,s.merchandise+=parseFloat(e.merchandise)||0,s.partycakes+=parseFloat(e.partycakes)||0,s),{total_qty:0,total_discamount:0,total_costprice:0,total_netamount:0,vatablesales:0,vat:0,total_grossamount:0,total_costamount:0,commission:0,cash:0,charge:0,representation:0,gcash:0,paymaya:0,card:0,loyaltycard:0,foodpanda:0,grabfood:0,mrktgdisc:0,rddisc:0,bw_products:0,merchandise:0,partycakes:0})),yt=[{data:"storename",title:"Store",footer:"Grand Total",className:"min-w-[100px] max-w-[120px] font-medium"},{data:"staff",title:"Staff",footer:"",className:"min-w-[100px] max-w-[140px]"},{data:"createddate",title:"Date",footer:"",className:"min-w-[85px] max-w-[100px] text-center"},{data:"timeonly",title:"Time",footer:"",className:"min-w-[70px] max-w-[80px] text-center"},{data:"transactionid",title:"Transaction ID",footer:"",className:"min-w-[120px] max-w-[140px] font-mono text-sm"},{data:"receiptid",title:"Receipt ID",footer:"",className:"min-w-[100px] max-w-[120px] font-mono text-sm"},{data:"custaccount",title:"Customer",footer:"",className:"min-w-[120px] max-w-[150px]"},{data:"itemname",title:"Item Name",footer:"",className:"min-w-[150px] max-w-[200px] font-medium"},{data:"itemgroup",title:"Item Group",footer:"",className:"min-w-[100px] max-w-[120px]"},{data:"discofferid",title:"PROMO",footer:"",className:"min-w-[100px] max-w-[200px] text-sm"},{data:"qty",title:"Qty",render:s=>Math.round(s||0),footer:"",className:"text-right min-w-[60px] max-w-[80px] font-semibold"},{data:"total_costprice",title:"Cost Price",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[90px] max-w-[110px]"},{data:"total_grossamount",title:"Gross Amount",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px] font-semibold"},{data:"total_costamount",title:"Cost Amount",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px]"},{data:"total_discamount",title:"Discount Amount",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[110px] max-w-[130px] text-red-600"},{data:"total_netamount",title:"Net Amount",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px] font-bold text-green-600"},{data:"commission",title:"Commission",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px] font-bold text-orange-600"},{data:"vatablesales",title:"Vatable Sales",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px]"},{data:"vat",title:"VAT",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px]"},{data:"cash",title:"Cash",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px]"},{data:"charge",title:"Charge",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px]"},{data:"representation",title:"Representation",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px]"},{data:"gcash",title:"GCash",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px]"},{data:"paymaya",title:"PayMaya",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px]"},{data:"card",title:"Card",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px]"},{data:"loyaltycard",title:"Loyalty Card",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[90px] max-w-[110px]"},{data:"foodpanda",title:"FoodPanda",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[90px] max-w-[110px]"},{data:"grabfood",title:"GrabFood",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[90px] max-w-[110px]"},{data:"mrktgdisc",title:"Mktg Disc",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px] text-purple-600"},{data:"rddisc",title:"RD Disc",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px] text-blue-600"},{data:"bw_products",title:"BW PRODUCTS",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px]"},{data:"merchandise",title:"MERCHANDISE",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px]"},{data:"partycakes",title:"PARTYCAKES",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px]"},{data:"remarks",title:"NOTE",footer:"",className:"min-w-[120px] max-w-[150px] text-sm"}],ft={responsive:!0,order:[[0,"asc"]],pageLength:25,dom:"Bfrtip",scrollX:!0,scrollY:"60vh",autoWidth:!1,columnDefs:[{targets:[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],className:"text-right"},{targets:[2],className:"text-center"},{targets:[3],className:"text-center"}],buttons:[{text:'<i class="fas fa-copy"></i> Copy',extend:"copy",className:"btn-export btn-copy"},{text:'<i class="fas fa-file-excel"></i> Excel',action:function(s,e,a,p){X(e)},className:"btn-export btn-excel"},{text:'<i class="fas fa-file-pdf"></i> PDF',extend:"pdf",className:"btn-export btn-pdf"},{text:'<i class="fas fa-print"></i> Print',extend:"print",className:"btn-export btn-print"}],drawCallback:function(s){const e=new rt.Api(s),a={total_qty:0,total_costprice:0,total_grossamount:0,total_costamount:0,total_discamount:0,total_netamount:0,commission:0,vatablesales:0,vat:0,cash:0,charge:0,representation:0,gcash:0,paymaya:0,card:0,loyaltycard:0,foodpanda:0,grabfood:0,mrktgdisc:0,rddisc:0,bw_products:0,merchandise:0,partycakes:0};e.rows({search:"applied"}).every(function(b){const n=this.data();a.total_qty+=Math.round(Number(n.qty)||0),a.total_costprice+=Number(n.total_costprice)||0,a.total_grossamount+=Number(n.total_grossamount)||0,a.total_costamount+=Number(n.total_costamount)||0,a.total_discamount+=Number(n.total_discamount)||0,a.total_netamount+=Number(n.total_netamount)||0,a.commission+=Number(n.commission)||0,a.vatablesales+=Number(n.vatablesales)||0,a.vat+=Number(n.vat)||0,a.cash+=Number(n.cash)||0,a.charge+=Number(n.charge)||0,a.representation+=Number(n.representation)||0,a.gcash+=Number(n.gcash)||0,a.paymaya+=Number(n.paymaya)||0,a.card+=Number(n.card)||0,a.loyaltycard+=Number(n.loyaltycard)||0,a.foodpanda+=Number(n.foodpanda)||0,a.grabfood+=Number(n.grabfood)||0,a.mrktgdisc+=Number(n.mrktgdisc)||0,a.rddisc+=Number(n.rddisc)||0,a.bw_products+=Number(n.bw_products)||0,a.merchandise+=Number(n.merchandise)||0,a.partycakes+=Number(n.partycakes)||0});function p(b,n=!1){return n?Math.round(b).toLocaleString("en-US"):b.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}const y=e.table().footer();if(y){const b=y.querySelectorAll("td, th");[{index:10,key:"total_qty",round:!0},{index:11,key:"total_costprice"},{index:12,key:"total_grossamount"},{index:13,key:"total_costamount"},{index:14,key:"total_discamount"},{index:15,key:"total_netamount"},{index:16,key:"commission"},{index:17,key:"vatablesales"},{index:18,key:"vat"},{index:19,key:"cash"},{index:20,key:"charge"},{index:21,key:"representation"},{index:22,key:"gcash"},{index:23,key:"paymaya"},{index:24,key:"card"},{index:25,key:"loyaltycard"},{index:26,key:"foodpanda"},{index:27,key:"grabfood"},{index:28,key:"mrktgdisc"},{index:29,key:"rddisc"},{index:30,key:"bw_products"},{index:31,key:"merchandise"},{index:32,key:"partycakes"}].forEach(({index:A,key:l,round:I})=>{const S=a[l];b[A]&&(b[A].textContent=p(S,I))})}}},H=s=>{if(typeof s=="string")return s;if(typeof s=="object"&&s!==null){if(s.NAME)return s.NAME;if(s.name)return s.name;if(s.storename)return s.storename;if(s.store_name)return s.store_name;const e=JSON.stringify(s),a=e.match(/"NAME"\s*:\s*"([^"]+)"/);return a?a[1]:e.replace(/[{}":]/g,"").replace(/STOREID[^,]*,?\s*/g,"").replace(/NAME/g,"").trim()||"Unknown Store"}return String(s)},bt=()=>{if(window.DataTable){const s=window.DataTable.tables()[0];s&&s.button(".buttons-csv").trigger()}C()},X=s=>{const e=new At.Workbook,a=e.addWorksheet("Transaction Sales Data"),p=[{header:"STORE",key:"storename",width:20},{header:"STAFF",key:"staff",width:15},{header:"DATE",key:"createddate",width:12},{header:"TIME",key:"timeonly",width:10},{header:"TRANSACTION ID",key:"transactionid",width:15},{header:"RECEIPT ID",key:"receiptid",width:15},{header:"CUSTOMER",key:"custaccount",width:20},{header:"ITEM NAME",key:"itemname",width:25},{header:"ITEM GROUP",key:"itemgroup",width:15},{header:"PROMO",key:"discofferid",width:15},{header:"QTY",key:"qty",width:10},{header:"COST PRICE",key:"total_costprice",width:12,style:{numFmt:"#,##0.00"}},{header:"GROSS AMOUNT",key:"total_grossamount",width:15,style:{numFmt:"#,##0.00"}},{header:"COST AMOUNT",key:"total_costamount",width:15,style:{numFmt:"#,##0.00"}},{header:"DISCOUNT AMOUNT",key:"total_discamount",width:12,style:{numFmt:"#,##0.00"}},{header:"NET AMOUNT",key:"total_netamount",width:15,style:{numFmt:"#,##0.00"}},{header:"COMMISSION",key:"commission",width:12,style:{numFmt:"#,##0.00"}},{header:"VATABLE SALES",key:"vatablesales",width:15,style:{numFmt:"#,##0.00"}},{header:"VAT",key:"vat",width:12,style:{numFmt:"#,##0.00"}},{header:"CASH",key:"cash",width:12,style:{numFmt:"#,##0.00"}},{header:"CHARGE",key:"charge",width:12,style:{numFmt:"#,##0.00"}},{header:"REPRESENTATION",key:"representation",width:15,style:{numFmt:"#,##0.00"}},{header:"GCASH",key:"gcash",width:12,style:{numFmt:"#,##0.00"}},{header:"PAYMAYA",key:"paymaya",width:12,style:{numFmt:"#,##0.00"}},{header:"CARD",key:"card",width:12,style:{numFmt:"#,##0.00"}},{header:"LOYALTY CARD",key:"loyaltycard",width:15,style:{numFmt:"#,##0.00"}},{header:"FOODPANDA",key:"foodpanda",width:12,style:{numFmt:"#,##0.00"}},{header:"GRABFOOD",key:"grabfood",width:12,style:{numFmt:"#,##0.00"}},{header:"MKTG DISC",key:"mrktgdisc",width:12,style:{numFmt:"#,##0.00"}},{header:"RD DISC",key:"rddisc",width:12,style:{numFmt:"#,##0.00"}},{header:"BW PRODUCTS",key:"bw_products",width:15,style:{numFmt:"#,##0.00"}},{header:"MERCHANDISE",key:"merchandise",width:15,style:{numFmt:"#,##0.00"}},{header:"PARTY CAKES",key:"partycakes",width:15,style:{numFmt:"#,##0.00"}},{header:"NOTE",key:"remarks",width:20}];a.columns=p;const y=a.getRow(1);y.font={bold:!0,color:{argb:"FFFFFFFF"}},y.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF4F46E5"}};let b=N.value;s&&(b=s.rows({search:"applied"}).data().toArray()),b.forEach(l=>{a.addRow({storename:l.storename||"",staff:l.staff||"",createddate:l.createddate?new Date(l.createddate):null,timeonly:l.timeonly||"",transactionid:l.transactionid||"",receiptid:l.receiptid||"",custaccount:l.custaccount||"",itemname:l.itemname||"",itemgroup:l.itemgroup||"",discofferid:l.discofferid||"",qty:Math.round(Number(l.qty)||0),total_costprice:Number(l.total_costprice)||0,total_grossamount:Number(l.total_grossamount)||0,total_costamount:Number(l.total_costamount)||0,total_discamount:Number(l.total_discamount)||0,total_netamount:Number(l.total_netamount)||0,commission:Number(l.commission)||0,vatablesales:Number(l.vatablesales)||0,vat:Number(l.vat)||0,cash:Number(l.cash)||0,charge:Number(l.charge)||0,representation:Number(l.representation)||0,gcash:Number(l.gcash)||0,paymaya:Number(l.paymaya)||0,card:Number(l.card)||0,loyaltycard:Number(l.loyaltycard)||0,foodpanda:Number(l.foodpanda)||0,grabfood:Number(l.grabfood)||0,mrktgdisc:Number(l.mrktgdisc)||0,rddisc:Number(l.rddisc)||0,bw_products:Number(l.bw_products)||0,merchandise:Number(l.merchandise)||0,partycakes:Number(l.partycakes)||0,remarks:l.remarks||""})});const n=M.value,A=a.addRow({storename:"GRAND TOTAL",staff:"",createddate:"",timeonly:"",transactionid:"",receiptid:"",custaccount:"",itemname:"",itemgroup:"",discofferid:"",qty:n.total_qty,total_costprice:n.total_costprice,total_grossamount:n.total_grossamount,total_costamount:n.total_costamount,total_discamount:n.total_discamount,total_netamount:n.total_netamount,commission:n.commission,vatablesales:n.vatablesales,vat:n.vat,cash:n.cash,charge:n.charge,representation:n.representation,gcash:n.gcash,paymaya:n.paymaya,card:n.card,loyaltycard:n.loyaltycard,foodpanda:n.foodpanda,grabfood:n.grabfood,mrktgdisc:n.mrktgdisc,rddisc:n.rddisc,bw_products:n.bw_products,merchandise:n.merchandise,partycakes:n.partycakes,remarks:""});A.font={bold:!0},A.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE5E7EB"}},a.getColumn("createddate").numFmt="yyyy-mm-dd",a.autoFilter={from:{row:1,column:1},to:{row:1,column:a.columns.length}},a.eachRow((l,I)=>{l.eachCell(S=>{S.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),a.views=[{state:"frozen",xSplit:0,ySplit:1,topLeftCell:"A2",activeCell:"A2"}];try{e.xlsx.writeBuffer().then(l=>{const I=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),S=URL.createObjectURL(I),j=document.createElement("a");j.href=S,j.download=`Transaction_Sales_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(S)}).catch(l=>{console.error("Error generating Excel file:",l),nt.fire({icon:"error",title:"Export Failed",text:"Failed to generate Excel file. Please try again."})})}catch(l){console.error("Error in Excel export:",l),nt.fire({icon:"error",title:"Export Failed",text:"An error occurred while exporting to Excel."})}C()},ht=()=>{if(window.DataTable){const s=window.DataTable.tables()[0];s&&s.button(".buttons-pdf").trigger()}C()},vt=()=>{if(window.DataTable){const s=window.DataTable.tables()[0];s&&s.button(".buttons-print").trigger()}C()};return(s,e)=>(i(),B(Nt(it.value),{"active-tab":"REPORTS"},{main:Z(()=>[t("div",Ot,[t("div",It,[t("div",Vt,[t("div",Bt,[E.userRole.toUpperCase()==="ADMIN"||E.userRole.toUpperCase()==="SUPERADMIN"?(i(),d("div",Lt,[e[13]||(e[13]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})]),m(" Store Selection ")],-1)),t("div",Pt,[t("button",{onClick:e[0]||(e[0]=a=>k.value=!k.value),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-left bg-white hover:bg-gray-50 transition-colors"},[c.value.length===0?(i(),d("span",zt,"Select stores...")):c.value.length===1?(i(),d("span",Ut,r(c.value[0]),1)):(i(),d("span",Ht,r(c.value.length)+" stores selected",1)),e[12]||(e[12]=t("svg",{class:"float-right mt-1 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),k.value?(i(),d("div",qt,[t("div",Gt,[q(t("input",{ref_key:"storeSearchInput",ref:P,"onUpdate:modelValue":e[1]||(e[1]=a=>w.value=a),type:"text",placeholder:"Search stores...",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onClick:e[2]||(e[2]=tt(()=>{},["stop"])),onInput:lt},null,544),[[G,w.value]])]),t("div",{class:"p-3 border-b border-gray-200 flex gap-2 bg-gray-50"},[t("button",{onClick:xt,class:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors"}," Select All "),t("button",{onClick:pt,class:"flex-1 px-3 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors"}," Clear ")]),t("div",$t,[(i(!0),d(et,null,st(z.value,a=>(i(),d("label",{key:a,class:"flex items-center px-4 py-3 hover:bg-blue-50 cursor-pointer transition-colors"},[t("input",{type:"checkbox",checked:ct(a),onChange:p=>mt(a),class:"mr-3 form-checkbox h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,40,Wt),t("span",Yt,r(a),1)]))),128))]),z.value.length===0?(i(),d("div",Qt," No stores found ")):u("",!0)])):u("",!0)])])):u("",!0),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),m(" Start Date ")],-1)),q(t("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=a=>h.value=a),onChange:W,class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,544),[[G,h.value]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2 2v12a2 2 0 002 2z"})]),m(" End Date ")],-1)),q(t("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=a=>v.value=a),onChange:W,class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,544),[[G,v.value]])]),t("div",Kt,[t("button",{onClick:R,disabled:f.value,class:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-lg text-sm font-medium transition-colors flex items-center justify-center"},[f.value?(i(),d("svg",Xt,e[16]||(e[16]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(i(),d("svg",Zt,e[17]||(e[17]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)]))),m(" "+r(f.value?"Loading...":"Apply Filters"),1)],8,Jt)]),t("div",{class:"flex items-end"},[t("button",{onClick:K,class:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-3 rounded-lg text-sm font-medium transition-colors flex items-center justify-center"},e[18]||(e[18]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),m(" Clear Filters ")]))])]),t("div",te,[t("button",{onClick:e[5]||(e[5]=a=>O("today")),class:at([{"bg-blue-600 text-white":$.value,"bg-gray-100 text-gray-700":!$.value},"px-3 py-2 rounded-md text-sm font-medium transition-colors hover:bg-blue-500 hover:text-white"])}," Today ",2),t("button",{onClick:e[6]||(e[6]=a=>O("yesterday")),class:"px-3 py-2 bg-gray-100 text-gray-700 rounded-md text-sm font-medium transition-colors hover:bg-blue-500 hover:text-white"}," Yesterday "),t("button",{onClick:e[7]||(e[7]=a=>O("thisWeek")),class:"px-3 py-2 bg-gray-100 text-gray-700 rounded-md text-sm font-medium transition-colors hover:bg-blue-500 hover:text-white"}," This Week "),t("button",{onClick:e[8]||(e[8]=a=>O("thisMonth")),class:"px-3 py-2 bg-gray-100 text-gray-700 rounded-md text-sm font-medium transition-colors hover:bg-blue-500 hover:text-white"}," This Month ")])])])]),E.isInitialLoad?(i(),d("div",ee,e[19]||(e[19]=[t("div",{class:"flex items-center"},[t("svg",{class:"w-5 h-5 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("span",{class:"text-blue-800 text-sm"}," Showing today's transactions for faster loading. Use date filters above to view different date ranges. ")],-1)]))):u("",!0),T.value?(i(),d("div",se,[e[25]||(e[25]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),m(" Sales Summary ")],-1)),f.value?(i(),d("div",ae,e[20]||(e[20]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"},null,-1),t("span",{class:"ml-3 text-gray-600"},"Loading data...",-1)]))):(i(),d("div",oe,[t("div",re,[e[21]||(e[21]=t("p",{class:"text-xs text-blue-600 font-medium"},"Total Qty",-1)),t("p",ne,r(M.value.total_qty.toLocaleString()),1)]),t("div",le,[e[22]||(e[22]=t("p",{class:"text-xs text-green-600 font-medium"},"Gross Amount",-1)),t("p",ie,"₱"+r(M.value.total_grossamount.toFixed(2)),1)]),t("div",de,[e[23]||(e[23]=t("p",{class:"text-xs text-purple-600 font-medium"},"Net Amount",-1)),t("p",ue,"₱"+r(M.value.total_netamount.toFixed(2)),1)]),t("div",me,[e[24]||(e[24]=t("p",{class:"text-xs text-orange-600 font-medium"},"Commission",-1)),t("p",ce,"₱"+r(M.value.commission.toFixed(2)),1)])]))])):u("",!0),t("div",pe,[f.value?(i(),d("div",xe,e[26]||(e[26]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500 mx-auto"}),t("span",{class:"mt-4 text-lg text-gray-600 block"},"Loading sales data...")],-1)]))):u("",!0),T.value&&!f.value?(i(),d("div",ge,[t("div",ye,[(i(!0),d(et,null,st(N.value,(a,p)=>(i(),d("div",{key:`${a.transactionid}-${p}`,class:"border-b border-gray-200 p-4 hover:bg-gray-50 transition-colors cursor-pointer select-none mobile-sales-item",onTouchstart:y=>dt(a,y),onTouchend:e[9]||(e[9]=y=>Y(y)),onTouchcancel:e[10]||(e[10]=y=>Y(y))},[t("div",be,[t("div",he,[t("div",ve,[t("div",we,r((a==null?void 0:a.itemname)||""),1),t("div",ke,[e[27]||(e[27]=t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),m(" "+r((a==null?void 0:a.storename)||""),1)]),e[28]||(e[28]=t("div",{class:"text-xs text-blue-600 mt-1 flex items-center"},[t("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 1v1a1 1 0 001 1h8a1 1 0 001-1V5M7 10h10"})]),m(" Long press for details ")],-1))]),t("div",_e,[t("div",Ne,r((a==null?void 0:a.createddate)||""),1),t("div",Fe,r((a==null?void 0:a.timeonly)||""),1)])]),t("div",Ce,[t("div",Se,[e[29]||(e[29]=t("span",{class:"text-xs text-green-600 font-medium"},"Net Amount",-1)),t("p",Te,"₱"+r(Number((a==null?void 0:a.total_netamount)||0).toFixed(2)),1)]),t("div",De,[e[30]||(e[30]=t("span",{class:"text-xs text-orange-600 font-medium"},"Commission",-1)),t("p",Me,"₱"+r(Number((a==null?void 0:a.commission)||0).toFixed(2)),1)])]),t("div",Ae,[t("div",null,[e[31]||(e[31]=t("span",{class:"text-gray-600"},"Receipt:",-1)),t("span",je,r((a==null?void 0:a.receiptid)||""),1)]),t("div",null,[e[32]||(e[32]=t("span",{class:"text-gray-600"},"Staff:",-1)),t("span",Ee,r((a==null?void 0:a.staff)||""),1)]),t("div",null,[e[33]||(e[33]=t("span",{class:"text-gray-600"},"Qty:",-1)),t("span",Re,r(Math.round((a==null?void 0:a.qty)||0)),1)]),t("div",null,[e[34]||(e[34]=t("span",{class:"text-gray-600"},"Customer:",-1)),t("span",Oe,r((a==null?void 0:a.custaccount)||"N/A"),1)])])])],40,fe))),128)),N.value.length===0?(i(),d("div",Ie,e[35]||(e[35]=[t("svg",{class:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("p",null,"No sales data available for the selected filters.",-1)]))):u("",!0)])])):u("",!0),!T.value&&!f.value?(i(),d("div",Ve,[Ft(Mt,{class:"max-h-[75vh] overflow-x-auto overflow-y-auto"},{default:Z(()=>[N.value.length>0?(i(),B(Ct(ot),{key:0,data:N.value,columns:yt,class:"w-full relative display enhanced-table",options:ft},null,8,["data"])):(i(),d("div",Be,e[36]||(e[36]=[t("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("p",{class:"text-lg font-medium"},"No data available",-1),t("p",{class:"text-sm text-gray-400 mt-1"},"Try adjusting your filters or date range",-1)])))]),_:1})])):u("",!0)]),T.value?(i(),d("div",Le,[_.value?(i(),d("div",Pe,[e[42]||(e[42]=t("div",{class:"px-4 py-2 border-b border-gray-200"},[t("p",{class:"text-sm font-medium text-gray-700"},"Export Data")],-1)),t("button",{onClick:bt,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center"},e[37]||(e[37]=[t("svg",{class:"h-4 w-4 mr-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),m(" Export CSV ")])),t("button",{onClick:X,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center"},e[38]||(e[38]=[t("svg",{class:"h-4 w-4 mr-3 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),m(" Export Excel ")])),t("button",{onClick:ht,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center"},e[39]||(e[39]=[t("svg",{class:"h-4 w-4 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),m(" Export PDF ")])),t("button",{onClick:vt,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center"},e[40]||(e[40]=[t("svg",{class:"h-4 w-4 mr-3 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),m(" Print Report ")])),e[43]||(e[43]=t("div",{class:"border-t border-gray-200 my-2"},null,-1)),t("button",{onClick:K,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center"},e[41]||(e[41]=[t("svg",{class:"h-4 w-4 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})],-1),m(" Clear All Filters ")]))])):u("",!0),t("button",{onClick:gt,class:at(["bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg transition-all duration-200 ease-out transform hover:scale-105",{"rotate-45":_.value}])},[_.value?(i(),B(Et,{key:1,class:"h-6 w-6"})):(i(),B(jt,{key:0,class:"h-6 w-6"}))],2)])):u("",!0),_.value?(i(),d("div",{key:3,onClick:C,class:"fixed inset-0 bg-black bg-opacity-25 z-30"})):u("",!0),L.value&&o.value?(i(),d("div",{key:4,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:Q},[t("div",{class:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl",onClick:e[11]||(e[11]=tt(()=>{},["stop"]))},[t("div",ze,[t("div",{class:"flex justify-between items-start mb-6"},[e[45]||(e[45]=t("h3",{class:"text-xl font-bold text-gray-900"},"Transaction Details",-1)),t("button",{onClick:Q,class:"text-gray-500 hover:text-gray-700 p-1"},e[44]||(e[44]=[t("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",Ue,[t("div",He,[e[50]||(e[50]=t("h4",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),m(" Basic Information ")],-1)),t("div",qe,[t("div",Ge,[e[46]||(e[46]=t("span",{class:"font-medium text-gray-600"},"Item:",-1)),t("span",$e,r(o.value.itemname),1)]),t("div",We,[e[47]||(e[47]=t("span",{class:"font-medium text-gray-600"},"Store:",-1)),t("span",Ye,r(o.value.storename),1)]),t("div",Qe,[e[48]||(e[48]=t("span",{class:"font-medium text-gray-600"},"Staff:",-1)),t("span",Ke,r(o.value.staff),1)]),t("div",Je,[e[49]||(e[49]=t("span",{class:"font-medium text-gray-600"},"Date & Time:",-1)),t("span",Xe,r(o.value.createddate)+" "+r(o.value.timeonly),1)])])]),t("div",Ze,[e[57]||(e[57]=t("h4",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),m(" Transaction Details ")],-1)),t("div",ts,[t("div",es,[e[51]||(e[51]=t("span",{class:"font-medium text-gray-600"},"Transaction ID:",-1)),t("span",ss,r(o.value.transactionid),1)]),t("div",as,[e[52]||(e[52]=t("span",{class:"font-medium text-gray-600"},"Receipt ID:",-1)),t("span",os,r(o.value.receiptid),1)]),t("div",rs,[e[53]||(e[53]=t("span",{class:"font-medium text-gray-600"},"Customer:",-1)),t("span",ns,r(o.value.custaccount||"Walk-in Customer"),1)]),t("div",ls,[e[54]||(e[54]=t("span",{class:"font-medium text-gray-600"},"Item Group:",-1)),t("span",is,r(o.value.itemgroup),1)]),t("div",ds,[e[55]||(e[55]=t("span",{class:"font-medium text-gray-600"},"Promo:",-1)),t("span",us,r(o.value.discofferid||"None"),1)]),t("div",ms,[e[56]||(e[56]=t("span",{class:"font-medium text-gray-600"},"Quantity:",-1)),t("span",cs,r(Math.round(o.value.qty||0)),1)])])]),t("div",ps,[e[66]||(e[66]=t("h4",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})]),m(" Financial Details ")],-1)),t("div",xs,[t("div",gs,[e[58]||(e[58]=t("span",{class:"font-medium text-gray-600"},"Cost Price:",-1)),t("span",ys,"₱"+r(Number(o.value.total_costprice||0).toFixed(2)),1)]),t("div",fs,[e[59]||(e[59]=t("span",{class:"font-medium text-gray-600"},"Gross Amount:",-1)),t("span",bs,"₱"+r(Number(o.value.total_grossamount||0).toFixed(2)),1)]),t("div",hs,[e[60]||(e[60]=t("span",{class:"font-medium text-gray-600"},"Cost Amount:",-1)),t("span",vs,"₱"+r(Number(o.value.total_costamount||0).toFixed(2)),1)]),t("div",ws,[e[61]||(e[61]=t("span",{class:"font-medium text-gray-600"},"Discount Amount:",-1)),t("span",ks,"₱"+r(Number(o.value.total_discamount||0).toFixed(2)),1)]),t("div",_s,[e[62]||(e[62]=t("span",{class:"font-bold text-gray-700"},"Net Amount:",-1)),t("span",Ns,"₱"+r(Number(o.value.total_netamount||0).toFixed(2)),1)]),t("div",Fs,[e[63]||(e[63]=t("span",{class:"font-bold text-gray-700"},"Commission:",-1)),t("span",Cs,"₱"+r(Number(o.value.commission||0).toFixed(2)),1)]),t("div",Ss,[e[64]||(e[64]=t("span",{class:"font-medium text-gray-600"},"Vatable Sales:",-1)),t("span",Ts,"₱"+r(Number(o.value.vatablesales||0).toFixed(2)),1)]),t("div",Ds,[e[65]||(e[65]=t("span",{class:"font-medium text-gray-600"},"VAT:",-1)),t("span",Ms,"₱"+r(Number(o.value.vat||0).toFixed(2)),1)])])]),t("div",As,[e[78]||(e[78]=t("h4",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})]),m(" Payment Methods ")],-1)),t("div",js,[Number(o.value.cash||0)>0?(i(),d("div",Es,[e[67]||(e[67]=t("span",{class:"font-medium text-gray-600"},"Cash:",-1)),t("span",Rs,"₱"+r(Number(o.value.cash).toFixed(2)),1)])):u("",!0),Number(o.value.charge||0)>0?(i(),d("div",Os,[e[68]||(e[68]=t("span",{class:"font-medium text-gray-600"},"Charge:",-1)),t("span",Is,"₱"+r(Number(o.value.charge).toFixed(2)),1)])):u("",!0),Number(o.value.representation||0)>0?(i(),d("div",Vs,[e[69]||(e[69]=t("span",{class:"font-medium text-gray-600"},"Representation:",-1)),t("span",Bs,"₱"+r(Number(o.value.representation).toFixed(2)),1)])):u("",!0),Number(o.value.gcash||0)>0?(i(),d("div",Ls,[e[70]||(e[70]=t("span",{class:"font-medium text-gray-600"},"GCash:",-1)),t("span",Ps,"₱"+r(Number(o.value.gcash).toFixed(2)),1)])):u("",!0),Number(o.value.paymaya||0)>0?(i(),d("div",zs,[e[71]||(e[71]=t("span",{class:"font-medium text-gray-600"},"PayMaya:",-1)),t("span",Us,"₱"+r(Number(o.value.paymaya).toFixed(2)),1)])):u("",!0),Number(o.value.card||0)>0?(i(),d("div",Hs,[e[72]||(e[72]=t("span",{class:"font-medium text-gray-600"},"Card:",-1)),t("span",qs,"₱"+r(Number(o.value.card).toFixed(2)),1)])):u("",!0),Number(o.value.loyaltycard||0)>0?(i(),d("div",Gs,[e[73]||(e[73]=t("span",{class:"font-medium text-gray-600"},"Loyalty Card:",-1)),t("span",$s,"₱"+r(Number(o.value.loyaltycard).toFixed(2)),1)])):u("",!0),Number(o.value.foodpanda||0)>0?(i(),d("div",Ws,[e[74]||(e[74]=t("span",{class:"font-medium text-gray-600"},"FoodPanda:",-1)),t("span",Ys,"₱"+r(Number(o.value.foodpanda).toFixed(2)),1)])):u("",!0),Number(o.value.grabfood||0)>0?(i(),d("div",Qs,[e[75]||(e[75]=t("span",{class:"font-medium text-gray-600"},"GrabFood:",-1)),t("span",Ks,"₱"+r(Number(o.value.grabfood).toFixed(2)),1)])):u("",!0),Number(o.value.mrktgdisc||0)>0?(i(),d("div",Js,[e[76]||(e[76]=t("span",{class:"font-medium text-gray-600"},"Marketing Disc:",-1)),t("span",Xs,"₱"+r(Number(o.value.mrktgdisc).toFixed(2)),1)])):u("",!0),Number(o.value.rddisc||0)>0?(i(),d("div",Zs,[e[77]||(e[77]=t("span",{class:"font-medium text-gray-600"},"RD Disc:",-1)),t("span",ta,"₱"+r(Number(o.value.rddisc).toFixed(2)),1)])):u("",!0)])]),Number(o.value.bw_products||0)>0||Number(o.value.merchandise||0)>0||Number(o.value.partycakes||0)>0?(i(),d("div",ea,[e[82]||(e[82]=t("h4",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})]),m(" Product Categories ")],-1)),t("div",sa,[Number(o.value.bw_products||0)>0?(i(),d("div",aa,[e[79]||(e[79]=t("span",{class:"font-medium text-gray-600"},"BW Products:",-1)),t("span",oa,"₱"+r(Number(o.value.bw_products).toFixed(2)),1)])):u("",!0),Number(o.value.merchandise||0)>0?(i(),d("div",ra,[e[80]||(e[80]=t("span",{class:"font-medium text-gray-600"},"Merchandise:",-1)),t("span",na,"₱"+r(Number(o.value.merchandise).toFixed(2)),1)])):u("",!0),Number(o.value.partycakes||0)>0?(i(),d("div",la,[e[81]||(e[81]=t("span",{class:"font-medium text-gray-600"},"Party Cakes:",-1)),t("span",ia,"₱"+r(Number(o.value.partycakes).toFixed(2)),1)])):u("",!0)])])):u("",!0),o.value.remarks?(i(),d("div",da,[e[83]||(e[83]=t("h4",{class:"font-semibold text-gray-900 mb-2 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),m(" Notes ")],-1)),t("p",ua,r(o.value.remarks),1)])):u("",!0)])])])])):u("",!0)]),_:1}))}},Da=Rt(ma,[["__scopeId","data-v-a737846f"]]);export{Da as default};

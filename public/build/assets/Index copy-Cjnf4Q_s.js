import{d as o,A as pe,q as E,T as ve,k as fe,z as he,p as j,e as be,b as a,w as i,F as ge,o as c,a as s,j as H,x as F,c as m,f as u,i as A,g as L,u as ye,C as _e}from"./app-BoaMMdkU.js";import{_ as we,a as Ce,b as ke}from"./More-C1wBtZC7.js";import{_ as Ee,a as Ae,E as Q}from"./Enabled-DUroXgGS.js";import{_ as p}from"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-DFF7VX6Y.js";import{_ as P}from"./TransparentButton-CpYv8pl2.js";import{T as xe}from"./TableContainer-B85p6F6Z.js";import{_ as X}from"./RetailPanel-C7khKgZw.js";import{_ as G}from"./Excel-9aohQLTq.js";import{A as V}from"./Add-DFqyGLdn.js";import{e as Y}from"./editblue-Y_FBXlBa.js";import{I as W}from"./Import-BjbMPGzx.js";import{P as z,D as Me}from"./dataTables-CI4NjUw-.js";import"./Modal-5-iMnX7J.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputError-DS750Wq9.js";import"./SelectOption-DxzOCRcw.js";import"./FormComponent-K8EX_DC3.js";import"./DaisyModal-D9BZByzR.js";/* empty css                                                                   */import"./possettings-KvPL1-Hv.js";import"./RetailGroup-BjeigQ0x.js";import"./Logout-BJuIbz2k.js";/* empty css                                                             */import"./RetailItems-BB1M731N.js";import"./FileSaver.min-Dmfl-X4h.js";import"./exceljs.min-CzHtFhDI.js";import"./SuccessButton-f8zSUety.js";import"./Excel-BQeIdG7-.js";const De={class:"md:hidden"},Te={class:"absolute adjust"},Oe={class:"flex flex-col",id:"panel"},Ie={class:"flex flex-wrap items-center"},Re={class:"hidden md:block"},Se={class:"absolute adjust"},Pe={class:"flex flex-col sm:flex-row justify-start items-center",id:"panel"},qe={class:"flex flex-wrap justify-center sm:justify-start w-full sm:w-auto"},Ne={components:{RetailPanel:X},data(){return{showPanel:!0}},methods:{hidePanel(){this.showPanel=!1}}},ut=Object.assign(Ne,{__name:"Index copy",props:{items:{type:Array,required:!0},itemids:Array,auth:{type:Object,required:!0},rboinventitemretailgroups:{type:Array,required:!0}},setup(x){z.use(Me);const h=o(""),b=o(""),g=o(""),y=o("");o("");const _=o(""),w=o(""),M=o(!1),C=o([]),D=x,{user:J}=pe(D.auth),T=o(J.value.role),q=E(()=>T.value==="SUPERADMIN"),d=E(()=>T.value==="OPIC"),N=E(()=>T.value==="ADMIN"),O=o(!1),I=o(!1),R=o(!1),K=o(!1),$=o(!1),Z=E(()=>{const e=[{data:"Activeondelivery",title:"ENABLEORDER"},{data:"itemid",title:"PRODUCTCODE"},{data:"itemname",title:"DESCRIPTION"},{data:"barcode",title:"BARCODE"},{data:"production",title:"PRODUCTION"},{data:"itemgroup",title:"CATEGORY"},{data:"specialgroup",title:"RETAILGROUP"},{data:"moq",title:"MOQ"},{data:"cost",title:"COST",render:(t,n,r)=>n==="display"?r.cost.toFixed(2):t},{data:"price",title:"SRP",render:(t,n,r)=>n==="display"?r.price.toFixed(2):t}];return(d.value||N.value)&&(e.unshift({data:null,title:'<input type="checkbox" id="selectAll" class="form-checkbox h-5 w-5 text-blue-600 rounded-full">',orderable:!1,render:(t,n,r)=>`<input type="checkbox" class="select-item form-checkbox h-5 w-5 text-blue-600 rounded-full" data-id="${r.itemid}">`}),e.push({data:null,render:"#action",title:"ACTIONS"})),e}),ee={paging:!1,scrollX:!0,scrollY:"60vh",scrollCollapse:!0},te=()=>{M.value=!M.value,document.querySelectorAll(".select-item").forEach(t=>{t.checked=M.value}),U()},U=()=>{const e=document.querySelectorAll(".select-item:checked");C.value=Array.from(e).map(t=>t.dataset.id)},ae=(e,t,n,r,l,f)=>{h.value=e,b.value=t,y.value=n,_.value=r,g.value=l,w.value=f,O.value=!0},le=(e,t,n,r,l,f)=>{h.value=e,b.value=t,y.value=n,_.value=r,g.value=l,w.value=f,I.value=!0},B=()=>{R.value=!0},oe=()=>{O.value=!1},se=()=>{I.value=!1},ie=()=>{R.value=!1},ne=()=>{$.value=!1},re=ve({title:"",content:""}),k=()=>{re.post("/ImportProducts",{onSuccess:()=>{},onError:e=>{}})},ce=e=>{console.log("Selected Category:",e)};fe(()=>{o(null),he(()=>{if(d.value){const e=document.getElementById("selectAll");e&&e.addEventListener("change",te),document.querySelectorAll(".select-item").forEach(n=>{n.addEventListener("change",U)})}})});const S=()=>{if(C.value.length===0){alert("Please select at least one item.");return}_e.post("/EnableOrder",{itemids:C.value}).then(e=>{alert(e.data.message),location.reload()}).catch(e=>{console.error("Error updating items:",e),alert("An error occurred while updating items.")})},v=o(null);v.value&&(v.value.api=v.value.dt);const me=()=>v.value&&v.value.api?v.value.api.rows({search:"applied"}).data().toArray():D.items,ue=()=>{window.location.href="/items"},de=()=>{window.location.href="/warehouse"};return(e,t)=>{const n=j("Head"),r=j("moreblue");return c(),be(ge,null,[a(n,{title:"RETAILITEMS"},{default:i(()=>t[0]||(t[0]=[s("meta",{name:"theme-color",content:"#000000"},null,-1),s("link",{rel:"manifest",href:"/manifest.json"},null,-1),s("link",{rel:"apple-touch-icon",href:"/images/icons/icon-192x192.png"},null,-1),s("meta",{name:"apple-mobile-web-app-status-bar",content:"#000000"},null,-1),s("meta",{name:"apple-mobile-web-app-capable",content:"yes"},null,-1),s("meta",{name:"mobile-web-app-capable",content:"yes"},null,-1)])),_:1}),a(X,{"active-tab":"RETAILITEMS"},{modals:i(()=>[a(we,{"show-modal":R.value,onToggleActive:ie,rboinventitemretailgroups:D.rboinventitemretailgroups,onSelectItem:ce},null,8,["show-modal","rboinventitemretailgroups"]),a(Ce,{"show-modal":O.value,itemid:h.value,itemname:b.value,itemgroup:y.value,price:_.value,cost:g.value,moq:w.value,onToggleActive:oe},null,8,["show-modal","itemid","itemname","itemgroup","price","cost","moq"]),a(Ee,{"show-modal":I.value,itemid:h.value,itemname:b.value,itemgroup:y.value,price:_.value,cost:g.value,moq:w.value,onToggleActive:se},null,8,["show-modal","itemid","itemname","itemgroup","price","cost","moq"]),a(ke,{"show-modal":$.value,itemid:h.value,onToggleActive:ne},null,8,["show-modal","itemid"]),a(Ae,{"show-modal":K.value,itemids:C.value,onClick:S},null,8,["show-modal","itemids"])]),main:i(()=>[a(xe,null,{default:i(()=>[s("div",De,[s("div",Te,[H(s("div",Oe,[s("div",Ie,[d.value?(c(),m(p,{key:0,type:"button",onClick:B,class:"m-2 bg-navy"},{default:i(()=>[a(V,{class:"h-4"})]),_:1})):u("",!0),d.value?(c(),m(p,{key:1,type:"button",onClick:S,class:"m-2 bg-navy"},{default:i(()=>[a(Q,{class:"h-4"})]),_:1})):u("",!0),s("form",{onSubmit:A(k,["prevent"]),id:"importproduct",class:"flex items-center"},[d.value?(c(),m(G,{key:0,data:x.items,headers:["ITEMID","ITEMNAME","BARCODE","CATEGORY","PRICE","PRODUCTION","MOQ"],"row-name-props":["itemid","itemname","barcode","itemgroup","price","production","moq"],class:"relative display"},null,8,["data"])):u("",!0),d.value?(c(),m(p,{key:1,class:"m-2 bg-navy",onClick:A(k,["prevent"])},{default:i(()=>[a(W,{class:"h-4"})]),_:1})):u("",!0)],32)]),t[1]||(t[1]=s("div",{class:"w-full mt-2"},null,-1))],512),[[F,e.showPanel]])])]),s("div",Re,[s("div",Se,[H(s("div",Pe,[s("div",qe,[q.value?(c(),m(p,{key:0,type:"button",onClick:B,class:"m-2 sm:m-6 bg-navy"},{default:i(()=>[a(V,{class:"h-4"})]),_:1})):u("",!0),d.value?(c(),m(p,{key:1,type:"button",onClick:S,class:"m-2 sm:m-6 bg-navy"},{default:i(()=>[a(Q,{class:"h-4"})]),_:1})):u("",!0)]),s("form",{onSubmit:A(k,["prevent"]),id:"importproduct",class:"flex flex-col sm:flex-row items-center w-full sm:w-auto"},[d.value?(c(),m(G,{key:0,data:me(),headers:["ITEMID","ITEMNAME","BARCODE","CATEGORY","PRICE","PRODUCTION"],"row-name-props":["itemid","itemname","barcode","itemgroup","price","production"],class:"mt-4 sm:mt-0 sm:ml-4 relative display"},null,8,["data"])):u("",!0),q.value?(c(),m(p,{key:1,class:"m-2 sm:m-6 bg-navy",onClick:A(k,["prevent"])},{default:i(()=>[a(W,{class:"h-4"})]),_:1})):u("",!0)],32),a(p,{type:"button",onClick:ue,class:"sm:m-2 bg-navy"},{default:i(()=>t[2]||(t[2]=[L(" BW PRODUCTS ")])),_:1}),a(p,{type:"button",onClick:de,class:"sm:m-2 bg-red-900"},{default:i(()=>t[3]||(t[3]=[L(" WAREHOUSE ")])),_:1})],512),[[F,e.showPanel]])])]),a(ye(z),{data:x.items,columns:Z.value,class:"w-full relative display mt-10",options:ee,ref_key:"dataTable",ref:v},{action:i(l=>[d.value?(c(),m(P,{key:0,type:"button",onClick:f=>ae(l.cellData.itemid,l.cellData.itemname,l.cellData.itemgroup,l.cellData.price,l.cellData.cost,l.cellData.moq),class:"me-1"},{default:i(()=>[a(Y,{class:"h-6"})]),_:2},1032,["onClick"])):u("",!0),N.value?(c(),m(P,{key:1,type:"button",onClick:f=>le(l.cellData.itemid,l.cellData.itemname,l.cellData.itemgroup,l.cellData.price,l.cellData.cost,l.cellData.moq),class:"me-1"},{default:i(()=>[a(Y,{class:"h-6"})]),_:2},1032,["onClick"])):u("",!0),a(P,{type:"button",onClick:f=>e.toggleMoreModal(l.cellData.itemid),class:"me-1"},{default:i(()=>[a(r,{class:"h-6"})]),_:2},1032,["onClick"])]),_:1},8,["data","columns"])]),_:1})]),_:1})],64)}}});export{ut as default};

import{d as i,q as I,l as de,k as Se,o as r,e as u,a as e,f as E,m as We,g as ue,F as T,h as F,n as le,t as l,i as fe,j as D,v as q,C as j,a4 as et,E as Me,c as tt,w as st,s as De,b as J,K as Fe}from"./app-DIsI2h6N.js";import{S as at,a as ot,_ as lt,C as nt}from"./SwipeRight-CUTT9WrO.js";import"./carousel.es-BPpAthbI.js";import rt from"./MixAndMatch-BquSG2fx.js";import{_ as je}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as it}from"./Main-BuhnLEuc.js";import{C as ut}from"./Cart-B1DUIECp.js";import{S as Y}from"./sweetalert2.esm.all-IRYXxR_Z.js";import"./Logout-CSswU4gJ.js";/* empty css                                                             */import"./Modal-DKCN2m9N.js";import"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-BHRlHpU4.js";import"./PartyCake143-D_7hneaj.js";const dt={class:"w-full h-full flex flex-col bg-gradient-to-br from-slate-50 to-slate-100"},ct={key:0,class:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center"},pt={class:"flex-grow flex"},mt={class:"w-1/3 bg-white shadow-lg"},vt={class:"p-6"},ft={class:"grid grid-cols-2 gap-4 p-4 h-[70vh] overflow-y-auto"},gt=["onClick"],yt={class:"h-full flex flex-col items-center justify-center p-4 text-white"},xt={class:"mb-2"},ht={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},bt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},wt={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_t={key:3,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},kt={key:4,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Pt={key:5,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ct={key:6,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},At={key:7,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Tt={class:"text-sm font-medium text-center"},Et={class:"w-2/5 p-6 bg-white border-x"},$t={class:"bg-white rounded-xl shadow-sm p-6 max-h-[70vh] overflow-y-auto"},It={key:0,class:"p-6 bg-white shadow-lg rounded-lg space-y-6"},Rt=["for"],Mt=["id","onUpdate:modelValue","placeholder","max"],Dt={class:"font-bold text-lg text-gray-800"},Ft=["disabled"],St={key:1,class:"p-6 bg-white shadow-lg rounded-lg space-y-6"},jt=["for"],Nt=["id","onUpdate:modelValue","placeholder","max"],Ot={class:"font-bold text-lg text-gray-800"},Bt=["disabled"],Vt={key:2,class:"p-6 bg-white shadow-lg rounded-lg space-y-6"},Lt={class:"relative"},Ut={class:"max-h-[70vh] overflow-y-auto"},qt=["onClick"],Yt={class:"text-lg font-semibold text-gray-800"},Ht={class:"text-gray-600"},zt={class:"text-gray-600"},Gt={key:3,class:"p-6 bg-white shadow-lg rounded-lg space-y-6"},Zt={class:"relative"},Kt={class:"max-h-[70vh] overflow-y-auto"},Xt=["onClick"],Qt={class:"font-semibold text-gray-800"},Jt={class:"text-gray-700"},Wt={class:"text-gray-700"},es={class:"space-y-4"},ts={class:"grid grid-cols-1 gap-4"},ss=["for"],as={class:"flex items-center space-x-2"},os=["id","onUpdate:modelValue"],ls={class:"text-sm text-gray-600 w-24"},ns={class:"space-y-4"},rs={class:"grid grid-cols-1 gap-4"},is=["for"],us={class:"flex items-center space-x-2"},ds=["id","onUpdate:modelValue"],cs={class:"text-sm text-gray-600 w-24"},ps={class:"space-y-4"},ms={class:"grid grid-cols-1 gap-4"},vs=["for"],fs={class:"flex items-center space-x-2"},gs=["id","onUpdate:modelValue"],ys={class:"text-sm text-gray-600 w-24"},xs={class:"p-4 bg-gray-50 rounded-lg space-y-2"},hs={class:"flex justify-between text-sm"},bs={class:"text-gray-700 text-gray-700"},ws={class:"flex justify-between text-sm"},_s={class:"text-gray-700"},ks={class:"flex justify-between text-sm"},Ps={class:"text-gray-700"},Cs={class:"flex justify-between font-bold text-lg pt-2 border-t"},As={class:"text-gray-700"},Ts=["disabled"],Es={class:"w-1/2 p-6"},$s={class:"bg-white rounded-xl shadow-sm p-6 max-h-[70vh] overflow-y-auto"},Is={class:"font-semibold text-black"},Rs={class:"text-black"},Ms={class:"text-black mb-2"},Ds={class:"text-gray-600 text-sm"},Fs={class:"flex items-center gap-1"},Ss=["onUpdate:modelValue","onInput"],js={class:"text-black mb-2"},Ns={class:"text-gray-600 text-sm"},Os={class:"flex items-center gap-2"},Bs=["onUpdate:modelValue","onInput"],Vs={class:"text-black mt-2"},Ls={class:"text-gray-600 text-sm ml-2"},Us={key:0,class:"bg-white w-full rounded-lg shadow-md p-6 w-full max-w-md"},qs={class:"flex justify-between items-center mb-6"},Ys={class:"text-black"},Hs={class:"overflow-x-auto"},zs={class:"w-full"},Gs={class:"py-2 px-4 text-sm text-gray-900"},Zs=["checked","onChange"],Ks={class:"py-2 px-4 text-sm text-gray-900"},Xs={class:"py-2 px-4 text-right text-sm text-gray-900"},Qs={class:"py-2 px-4 text-center text-sm text-gray-900"},Js={class:"py-2 px-4 text-right text-sm text-gray-900"},Ws={class:"text-red-600"},ea={class:"text-xs text-gray-500"},ta={key:1},sa={class:"py-2 px-4 text-right text-sm text-gray-900 font-medium"},aa={class:"mt-6 space-y-3 border-t pt-4"},oa={class:"flex justify-between text-sm"},la={class:"font-medium text-gray-900"},na={class:"flex justify-between text-sm"},ra={class:"font-medium text-gray-900"},ia={class:"flex justify-between text-sm"},ua={class:"font-medium text-gray-900"},da={class:"flex justify-between text-sm"},ca={class:"font-medium text-gray-900"},pa={class:"flex justify-between text-sm font-bold pt-2 border-t"},ma={class:"text-gray-900"},va={class:"mt-4 pt-2 border-t"},fa={class:"space-y-2"},ga={key:0,class:"flex justify-between text-sm"},ya={class:"text-gray-900"},xa={key:1,class:"flex justify-between text-sm"},ha={class:"text-gray-900"},ba={key:2,class:"flex justify-between text-sm"},wa={class:"text-gray-900"},_a={key:3,class:"flex justify-between text-sm"},ka={class:"text-gray-900"},Pa={key:4,class:"flex justify-between text-sm"},Ca={class:"text-gray-900"},Aa={class:"p-4 border-t bg-white shadow-lg flex justify-end space-x-4"},Ta=["disabled"],Ea=["disabled"],$a={__name:"Modal",setup(B,{expose:S}){const R=i(null);i([]);const $=i([]),x=i(null),M=i([]),f=i([]),m=i(!1),h=i(!1),w=i(!1);i(""),i("");const H=i(""),z=i(""),V=i([]),L=i(!1),X=i([]),p=i(null),N=i([]),G=i(!1),y=i(new Date().toISOString().split("T")[0]),_=[1e3,500,200,100,50,20],K=[10,5,1,.25,.1,.05],Q=["GCASH","FOODPANDA","GRABFOOD","CHARGE","LOYALTYCARD","PAYMAYA","CARD"],Z=i(!1),k=i({bills:{},coins:{},ar:{}}),O=i(0),ne=i(0),W=i(0),ee=i(0),te=i(!1);i(null);const ce=i(!1),pe=I(()=>{if(!H.value)return $.value;const a=H.value.toLowerCase();return $.value.filter(t=>t.DISCOFFERNAME.toLowerCase().includes(a)||t.DISCOUNTTYPE.toLowerCase().includes(a))}),me=I(()=>{if(!z.value)return X.value;const a=z.value.toLowerCase();return X.value.filter(t=>t.receiptid.toLowerCase().includes(a)||t.grossamount.toString().includes(a)||Ae(t.createddate).toLowerCase().includes(a))}),se=a=>{f.value=a,document.getElementById("my_modal_1").showModal()},re=()=>{document.getElementById("my_modal_1").close()},ge=async()=>{try{const a=await j.get("/api/discounts");$.value=a.data,x.value=null,h.value=!1,w.value=!1,Z.value=!1}catch(a){console.error("Error fetching discount data:",a)}},ie=a=>!a.price||!a.discamount?0:(a.discamount/(a.price*a.qty)*100).toFixed(1),ye=a=>a.price*a.qty-(a.discamount||0),xe=()=>{h.value=!0,w.value=!1,$.value=[],x.value=null},he=()=>{w.value=!0,Z.value=!1,h.value=!1,$.value=[],x.value=null,f.value.forEach(a=>{a.removePartialPayment=a.partial_payment||0})};f.value.forEach(a=>{de(()=>a.removePartialPayment,t=>{a.partial_payment=parseFloat(a.partial_payment)-parseFloat(t),a.partial_payment<0&&(a.partial_payment=0)})});const c=I(()=>f.value.reduce((a,t)=>a+(parseFloat(t.partialPayment)||0),0)),o=I(()=>f.value.every(a=>{const t=parseFloat(a.partialPayment)||0;return t>=0&&t<=parseFloat(a.total_price-a.discamount)||t==parseFloat(a.total_price-a.discamount)})&&c.value>0),n=I(()=>f.value.reduce((a,t)=>a+(parseFloat(t.partial_payment)||0),0)),b=async()=>{if(f.length!==M.length){alert("Partial payment can only be executed when all items in the cart are selected.");return}if(!o.value){console.log("Invalid partial payment amounts detected"),alert("Invalid partial payment amounts. Please check your inputs.");return}try{m.value=!0,console.log("Preparing partial payments submission");const a=f.value.map(s=>({itemid:s.itemid,amount:parseFloat(s.partialPayment)||0}));console.log("Partial payments to be submitted:",a);const t=await j.post("/api/submit-partial-payments",{partialPayments:a});if(console.log("Server response:",t.data),t.data.success)console.log("Partial payments submitted successfully"),f.value.forEach(s=>{const d=t.data.updatedItems.find(v=>v.itemid===s.itemid);d&&(s.partialPayment=d.partialPayment,s.remainingBalance=s.total_price-d.partialPayment),console.log(`Updated item ${s.itemid}: Partial Payment = ${s.partialPayment}, Remaining Balance = ${s.remainingBalance}`)}),h.value=!1,location.reload();else throw new Error("Failed to submit partial payments")}catch(a){console.error("Error submitting partial payments:",a),a.response&&console.error("Server error response:",a.response.data),alert("Failed to submit partial payments. Please try again.")}finally{m.value=!1,console.log("Partial payment submission process completed")}},U=I(()=>f.value.reduce((a,t)=>a+(parseFloat(t.removePartialPayment)||0),0)),ae=I(()=>f.value.every(a=>{const t=parseFloat(a.removePartialPayment)||0,s=parseFloat(a.partial_payment)||0;return t>=0&&t<=s})&&U.value>0),A=async()=>{if(!ae.value){console.log("Invalid remove partial payment amounts detected"),alert("Invalid remove partial payment amounts. Please check your inputs.");return}try{m.value=!0,console.log("Preparing remove partial payments submission");const a=f.value.map(s=>({itemid:s.itemid,amount:parseFloat(s.removePartialPayment)||0}));console.log("Remove Partial payments to be submitted:",a);const t=await j.post("/api/submit-remove-partial-payments",{removePartialPayments:a});if(console.log("Server response:",t.data),t.data.success)console.log("Partial payments removed successfully"),f.value.forEach(s=>{const d=t.data.updatedItems.find(v=>v.itemid===s.itemid);d&&(s.partial_payment=d.partialPayment,s.remainingBalance=d.remainingBalance),console.log(`Updated item ${s.itemid}: Partial Payment = ${s.partial_payment}, Remaining Balance = ${s.remainingBalance}`)}),w.value=!1,location.reload();else throw new Error("Failed to remove partial payments")}catch(a){console.error("Error removing partial payments:",a),a.response&&console.error("Server error response:",a.response.data),alert("Failed to remove partial payments. Please try again.")}finally{m.value=!1,console.log("Remove Partial payment process completed")}},Ne=async a=>{x.value=a;try{m.value=!0;const t=f.value.map(d=>({itemid:d.itemid,discamount:parseFloat(a.PARAMETER)}));console.log("Sending request with data:",{items:t,discount:a});const s=await j.post("/api/update-cart-discount",{items:t,discount:a});console.log("Server response:",s.data),M.value=M.value.map(d=>{const v=s.data.find(g=>g.itemid===d.itemid);return v?{...d,...v}:d}),console.log("Discount applied successfully!"),await new Promise(d=>setTimeout(d,1e3)),location.reload()}catch(t){console.error("Error applying discount:",t),t.response&&console.error("Server responded with:",t.response.data),alert("Failed to apply discount. Please check the console for more details.")}finally{m.value=!1}},we=(a,t=2)=>typeof a=="number"?a.toFixed(t):"0.00";Se(()=>{R.value.addEventListener("click",a=>{const t=R.value.getBoundingClientRect();(a.clientX<t.left||a.clientX>t.right||a.clientY<t.top||a.clientY>t.bottom)&&(a.preventDefault(),a.stopPropagation())})}),S({showModal:se,closeModal:re});const Oe=i(null),_e=i(!1),ke=i(null),Pe=i(!1),Be=async()=>{try{_e.value=!0,ke.value=null,Pe.value=!0,h.value=!1,w.value=!1,$.value=[];const a=await j.get("/generate-xread");if(Oe.value=a.data,(await j.post("/print-xread",{template:"default",reportData:a.data})).data.success)console.log("X-READ report generated and printed successfully!");else throw new Error("Failed to print X-READ report")}catch(a){console.error("Error generating/printing X-READ:",a),a.value="Error generating/printing X-READ report. Please try again."}finally{_e.value=!1}},Ve=i(null),Ce=i(!1),Le=i(!1),Ue=async()=>{const t=new Date().toISOString().slice(0,10).replace(/-/g,"");re();const{value:s}=await Y.fire({title:"Enter Today's Date",input:"text",inputLabel:"Please enter today's date in YYYYMMDD format (e.g., 20241026):",inputPlaceholder:"YYYYMMDD",showCancelButton:!0,confirmButtonText:"Submit",cancelButtonText:"Cancel",inputValidator:d=>{const v=/^\d{8}$/;if(d)if(v.test(d)){if(d!==t)return"The date entered does not match today's date. Please try again."}else return"Invalid date format. Please enter the date in YYYYMMDD format.";else return"You need to enter a date!"}});if(s)try{Ce.value=!0,ke.value=null,Le.value=!0;const d=await j.get("/generate-zread");if(Ve.value=d.data,(await j.post("/print-zread",{template:"default",reportData:d.data})).data.success)Y.fire("Success!","Z-READ report generated and printed successfully!","success");else throw new Error("Failed to print Z-READ report")}catch(d){console.error("Error generating/printing Z-READ:",d),Y.fire("Error!","Error generating/printing Z-READ report. Please try again.","error"),d.value="Error generating/printing Z-READ report. Please try again."}finally{Ce.value=!1}},P=a=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(a);I(()=>p.value?{gross:p.value.grossamount||0,discount:p.value.totaldiscamount||0,vat:p.value.taxinclinprice||0,partialPayment:p.value.partialpayment||0,netAmount:p.value.netamount||0,paymentDetails:{cash:p.value.cash||0,gcash:p.value.gcash||0,paymaya:p.value.paymaya||0,card:p.value.card||0,loyaltyCard:p.value.loyaltycard||0}}:null);const oe=()=>{L.value=!1,He()},qe=async()=>{try{G.value=!0,L.value=!0,Z.value=!1,h.value=!1,w.value=!1,Pe.value=!1,$.value=[];const a=await j.get(`/daily-journal?date=${y.value}`);X.value=a.data}catch(a){console.error("Error fetching daily journal data:",a),alert("Failed to fetch daily journal data. Please try again.")}finally{G.value=!1}},Ye=async a=>{try{G.value=!0,p.value=a;const t=await j.get(`/transaction-sales/${a.transactionid}`);N.value=t.data}catch(t){console.error("Error fetching transaction sales data:",t),alert("Failed to fetch transaction sales data. Please try again.")}finally{G.value=!1}},He=()=>{p.value=null,N.value=[]},ze=async()=>{try{ce.value=!0;const a=await j.post("/reprint-receipt",{transactionId:p.value.transactionid});if(a.data.success)window.print(),console.log("Receipt reprinted successfully!");else throw new Error(a.data.message)}catch(a){console.error("Error reprinting receipt:",a),alert("Failed to reprint receipt. Please try again.")}finally{ce.value=!1}},Ae=a=>new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ge=a=>{const t=V.value.indexOf(a);t>-1?V.value.splice(t,1):V.value.push(a)},Ze=async()=>{try{if(V.value.length===0||!N.value)throw new Error("Selected items or transaction data is not available");const a=V.value.map(g=>N.value.find(C=>C.linenum===g)).filter(g=>g!==void 0);if(a.length===0){alert("Please select at least one item to return");return}const t=a.map(g=>({linenum:g.linenum,itemid:g.itemid,returnQty:g.qty,returnDiscAmount:g.discamount,price:g.price,description:g.description||g.itemname}));if(t.some(g=>!g.linenum||!g.itemid||!g.returnQty||!g.price)){alert("One or more return items have invalid properties");return}const s=t.reduce((g,C)=>g+C.returnQty*C.price,0);if(!await new Promise(g=>{const C=`Are you sure you want to return ${t.length} item(s) for a total of ${P(s)}? This action cannot be undone.`;g(confirm(C))}))return;m.value=!0;const v=await j.post("/return-transaction",{transactionId:p.value.transactionid,returnItems:t,totalReturnAmount:s});if(v.data.success)p.value=null,N.value=[],V.value=[],location.reload();else throw new Error(v.data.message||"Failed to process return")}catch{}finally{m.value=!1}},Ke=()=>{Z.value=!0,L.value=!1,h.value=!1,w.value=!1,Te()},Te=()=>{k.value={bills:{},coins:{},ar:{}},_.forEach(a=>{k.value.bills[a]=0}),K.forEach(a=>{k.value.coins[a]=0}),Q.forEach(a=>{k.value.ar[a]=0}),ve()},ve=()=>{O.value=Object.entries(k.value.bills).reduce((a,[t,s])=>a+Number(t)*(Number(s)||0),0),ne.value=Object.entries(k.value.coins).reduce((a,[t,s])=>a+Number(t)*(Number(s)||0),0),W.value=Object.entries(k.value.ar).reduce((a,[t,s])=>a+(Number(s)||0),0),ee.value=O.value+ne.value+W.value},Xe=async()=>{te.value=!0;try{const a={total:ee.value,bills:Object.fromEntries(Object.entries(k.value.bills).map(([s,d])=>[s,Number(d)])),coins:Object.fromEntries(Object.entries(k.value.coins).map(([s,d])=>[s,Number(d)])),ar:Object.fromEntries(Object.entries(k.value.ar).map(([s,d])=>[s,Number(d)]))},t=await j.post("/tender-declaration",a);if(t.data.success)alert("Tender declaration submitted successfully!"),Te(),Z.value=!1;else throw new Error(t.data.message||"Failed to submit tender declaration.")}catch(a){console.error("Error submitting tender declaration:",a),alert("Failed to submit tender declaration. Please try again.")}finally{te.value=!1}};de([O,ne,W,ee],([a,t,s,d])=>{console.log("Total Bills:",a),console.log("Total Coins:",t),console.log("Total AR:",s),console.log("Grand Total:",d.toFixed(2))});const Qe=async()=>{var a;if(!m.value)try{if(m.value=!0,!((a=f.value)!=null&&a.length))throw new Error("Please select items to update");if(f.value.filter(v=>{const g=parseFloat(v.total_price),C=parseFloat(v.total_qty);return isNaN(g)||isNaN(C)||g<0||C<0||!Number.isInteger(C)||v.total_price===""||v.total_qty===""}).length>0)throw new Error("Please check all items have valid prices (non-negative) and quantities (positive whole numbers)");const s=f.value.map(v=>({itemid:v.itemid,price:parseFloat(v.total_price),qty:parseInt(v.total_qty),description:v.itemname||"Unnamed Item",linenum:v.linenum||1})),d=await j.post("/update-price-quantity",{items:s}).catch(v=>{var g,C,Ee,$e,Ie,Re;throw console.error("API Error:",((g=v.response)==null?void 0:g.data)||v.message),new Error(((Ee=(C=v.response)==null?void 0:C.data)==null?void 0:Ee.message)||((Re=(Ie=($e=v.response)==null?void 0:$e.data)==null?void 0:Ie.errors)==null?void 0:Re[0])||"Failed to communicate with server")});if(d.data.status==="success")f.value=f.value.map(v=>{const g=d.data.updatedItems.find(C=>C.itemid===v.itemid);return g?{...v,...g}:v}),re(),await Y.fire({title:"Success!",text:"Prices and quantities updated successfully",icon:"success",confirmButtonText:"OK"}),location.reload();else throw new Error(d.data.message||"Update failed")}catch(t){console.error("Price/Quantity Update Error:",t),await Y.fire({title:"Error",text:t.message||"An error occurred while updating items",icon:"error",confirmButtonText:"OK"})}finally{m.value=!1}},Je=a=>{a.forEach(t=>{t.original_price||(t.original_price=t.price||0,t.original_qty=t.qty||0,t.original_total=t.original_price*t.original_qty||0)})},be=a=>{const t=Number(a.original_price)||0,s=Number(a.qty)||0;a.total_price=t*s,a.total_qty=s};return de(f,a=>{a&&(Je(a),a.forEach(t=>be(t)))},{immediate:!0,deep:!0}),I(()=>f.value.map(a=>({itemid:a.itemid,itemname:a.itemname,original_price:P(a.original_price),current_price:P(a.price),price_difference:P(a.price_difference),original_total:P(a.original_total),current_total:P(a.current_total),total_difference:P(a.total_difference)}))),(a,t)=>(r(),u("div",null,[e("dialog",{id:"my_modal_1",ref_key:"modalRef",ref:R,class:"modal w-full h-full p-0 max-w-none max-h-none"},[e("div",dt,[m.value?(r(),u("div",ct,t[2]||(t[2]=[e("div",{class:"text-center"},[e("div",{class:"inline-block animate-spin rounded-full h-20 w-20 border-t-4 border-b-4 border-blue-500"}),e("p",{class:"mt-4 text-white text-xl font-semibold"},"Processing...")],-1)]))):E("",!0),t[53]||(t[53]=We('<div class="p-4 border-b bg-white shadow-sm"><div class="flex items-center space-x-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg><h2 class="text-2xl font-bold text-gray-800">EC-POS</h2></div></div>',1)),e("div",pt,[e("div",mt,[e("div",vt,[t[11]||(t[11]=e("h3",{class:"font-bold text-lg mb-4 text-gray-800 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})]),ue(" MENU ")],-1)),e("div",ft,[(r(),u(T,null,F(["DISCOUNT","PARTIAL PAYMENT","REMOVE PARTIAL PAYMENT","DAILY JOURNAL","TENDER DECLARATION","PULLOUT CASHFUND","X-READ","Z-READ"],(s,d)=>e("div",{key:d,class:le(["relative group",{"opacity-50":s==="PARTIAL PAYMENT"&&n.value>=1}])},[e("button",{class:le(["w-full h-32 rounded-xl shadow-sm transition-all duration-300 group-hover:shadow-lg overflow-hidden bg-gradient-to-br from-blue-600 to-blue-700 group-hover:from-blue-700 group-hover:to-blue-800",{"cursor-not-allowed":s==="PARTIAL PAYMENT"&&n.value>=1}]),onClick:v=>s==="DISCOUNT"?(ge(),oe()):s==="PARTIAL PAYMENT"&&n.value<1?(xe(),oe()):s==="REMOVE PARTIAL PAYMENT"?(he(),oe()):s==="X-READ"?(Be(),oe()):s==="Z-READ"?(Ue(),oe()):s==="TENDER DECLARATION"?(Ke(),oe()):s==="DAILY JOURNAL"?qe():oe()},[e("div",yt,[e("div",xt,[s==="DISCOUNT"?(r(),u("svg",ht,t[3]||(t[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):s==="PARTIAL PAYMENT"?(r(),u("svg",bt,t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"},null,-1)]))):s==="REMOVE PARTIAL PAYMENT"?(r(),u("svg",wt,t[5]||(t[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 6l3 12h10l3-12M4 6l2.5-4h11L20 6M16 6l2 12"},null,-1)]))):s==="DAILY JOURNAL"?(r(),u("svg",_t,t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a2 2 0 00-2 2v14a2 2 0 002 2h18a2 2 0 002-2V6a2 2 0 00-2-2H3zm0 0h18M9 2v4m6-4v4M3 10h18M3 14h18M3 18h18"},null,-1)]))):s==="TENDER DECLARATION"?(r(),u("svg",kt,t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 10h10M7 14h10M7 18h10M12 6h0M12 6h0M12 18h0M12 6h0M12 6h0M12 18h0M12 6h0"},null,-1),e("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor","stroke-width":"2",fill:"none"},null,-1),e("text",{x:"12",y:"15","text-anchor":"middle",fill:"currentColor","font-size":"8","font-weight":"bold"},"â‚±",-1)]))):s==="PULLOUT CASHFUND"?(r(),u("svg",Pt,t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v12m0 0l4-4m-4 4l-4-4"},null,-1)]))):s==="X-READ"?(r(),u("svg",Ct,t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 2h12a2 2 0 012 2v16a2 2 0 01-2 2H6a2 2 0 01-2-2V4a2 2 0 012-2zm0 0v16m12-16v16M6 6h12M6 10h12M6 14h12M6 18h12"},null,-1)]))):s==="Z-READ"?(r(),u("svg",At,t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 2h12a2 2 0 012 2v16a2 2 0 01-2 2H6a2 2 0 01-2-2V4a2 2 0 012-2zm3 6h8m-8 4h8m-8 4h8M8 2v2m8-2v2"},null,-1)]))):E("",!0)]),e("span",Tt,l(s),1)])],10,gt)],2)),64))])])]),e("div",Et,[t[26]||(t[26]=e("h3",{class:"font-bold text-lg mb-4 text-gray-800 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),ue(" INPUT ")],-1)),e("div",$t,[h.value?(r(),u("div",It,[t[12]||(t[12]=e("h4",{class:"text-2xl font-semibold text-gray-800"},"Enter Partial Payments",-1)),e("form",{onSubmit:fe(b,["prevent"]),class:"space-y-4"},[(r(!0),u(T,null,F(f.value,s=>(r(),u("div",{key:s.itemid,class:"p-4 border rounded-md bg-gray-50 shadow-sm"},[e("label",{for:"partialPayment_"+s.itemid,class:"block text-sm font-medium text-gray-700 mb-1"},l(s.itemname)+" (Total: "+l(s.total_price-s.discamount|a.currency)+") ",9,Rt),D(e("input",{type:"number",id:"partialPayment_"+s.itemid,"onUpdate:modelValue":d=>s.partialPayment=d,class:"border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-3",placeholder:"Enter amount for "+s.itemname,required:"",min:"0",max:s.total_price,step:"0.01"},null,8,Mt),[[q,s.partialPayment]])]))),128)),e("div",Dt," Total Partial Payment: "+l(c.value|a.currency),1),e("button",{type:"submit",class:"w-full py-3 px-5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow transition duration-150 ease-in-out",disabled:!o.value}," Submit Partial Payments ",8,Ft)],32)])):E("",!0),w.value?(r(),u("div",St,[t[13]||(t[13]=e("h4",{class:"text-2xl font-semibold text-gray-800"},"Remove Partial Payments",-1)),e("form",{onSubmit:fe(A,["prevent"]),class:"space-y-4"},[(r(!0),u(T,null,F(f.value,s=>(r(),u("div",{key:s.itemid,class:"p-4 border rounded-md bg-gray-50 shadow-sm"},[e("label",{for:"removePartialPayment_"+s.itemid,class:"block text-sm font-medium text-gray-700 mb-1"},l(s.itemname)+" (Total: "+l(s.total_price|a.currency)+", Current Partial Payment: "+l(we(s.partial_payment)|a.currency)+") ",9,jt),D(e("input",{type:"number",id:"removePartialPayment_"+s.itemid,"onUpdate:modelValue":d=>s.removePartialPayment=d,class:"border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-3",placeholder:"Enter amount to remove for "+s.itemname,required:"",min:"0",max:s.partial_payment||0,step:"0.01",disabled:""},null,8,Nt),[[q,s.removePartialPayment]])]))),128)),e("div",Ot," Total Amount to Remove: "+l(we(U.value)|a.currency),1),e("button",{type:"submit",class:"w-full py-3 px-5 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg shadow transition duration-150 ease-in-out",disabled:!ae.value}," Remove Partial Payments ",8,Bt)],32)])):E("",!0),$.value.length>0?(r(),u("div",Vt,[e("div",Lt,[D(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>H.value=s),placeholder:"Search discounts...",class:"w-full pl-10 pr-4 py-3 text-gray-700 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ease-in-out"},null,512),[[q,H.value]]),t[14]||(t[14]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400 absolute left-3 top-2.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),e("div",Ut,[(r(!0),u(T,null,F(pe.value,s=>(r(),u("div",{key:s.id,class:le(["mb-4 p-4 border rounded-lg cursor-pointer transition-colors duration-200 ease-in-out hover:bg-gray-100",{"bg-blue-100":x.value&&x.value.id===s.id}]),onClick:d=>Ne(s)},[e("h4",Yt,l(s.DISCOFFERNAME),1),e("p",Ht,[t[15]||(t[15]=e("strong",null,"Parameter:",-1)),ue(" "+l(s.PARAMETER),1)]),e("p",zt,[t[16]||(t[16]=e("strong",null,"Discount Type:",-1)),ue(" "+l(s.DISCOUNTTYPE),1)])],10,qt))),128))])])):E("",!0),L.value?(r(),u("div",Gt,[e("div",Zt,[D(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>z.value=s),placeholder:"Search transactions...",class:"text-black w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ease-in-out"},null,512),[[q,z.value]]),t[17]||(t[17]=e("span",{class:"absolute right-3 top-2.5 text-gray-400 text-xl"}," ðŸ” ",-1))]),e("div",Kt,[(r(!0),u(T,null,F(me.value,s=>(r(),u("div",{key:s.transactionid,class:"mb-4 p-4 border rounded-lg cursor-pointer hover:bg-gray-100 transition duration-200 ease-in-out",onClick:d=>Ye(s)},[e("h4",Qt,"Receipt ID: "+l(s.receiptid),1),e("p",Jt,"Total Gross: "+l(P(s.grossamount)),1),e("p",Wt,"Date: "+l(Ae(s.createddate)),1)],8,Xt))),128))])])):E("",!0),Z.value?(r(),u(T,{key:4},[t[25]||(t[25]=e("h4",{class:"font-semibold text-black mb-4 text-lg"},"Tender Declaration",-1)),e("form",{onSubmit:fe(Xe,["prevent"]),class:"space-y-6"},[e("div",es,[t[18]||(t[18]=e("h5",{class:"font-medium text-gray-700"},"Bills",-1)),e("div",ts,[(r(),u(T,null,F(_,s=>e("div",{key:"bill-"+s,class:"space-y-2"},[e("label",{for:"bill-"+s,class:"block text-sm font-medium text-gray-700"}," â‚±"+l(s),9,ss),e("div",as,[D(e("input",{type:"number",id:"bill-"+s,"onUpdate:modelValue":d=>k.value.bills[s]=d,class:"w-full px-3 py-2 border border-gray-300 text-gray-700 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"0",onInput:ve},null,40,os),[[q,k.value.bills[s]]]),e("span",ls," = â‚±"+l((s*(k.value.bills[s]||0)).toFixed(2)),1)])])),64))])]),e("div",ns,[t[19]||(t[19]=e("h5",{class:"font-medium text-gray-700"},"Coins",-1)),e("div",rs,[(r(),u(T,null,F(K,s=>e("div",{key:"coin-"+s,class:"space-y-2"},[e("label",{for:"coin-"+s,class:"block text-sm font-medium text-gray-700"}," â‚±"+l(s),9,is),e("div",us,[D(e("input",{type:"number",id:"coin-"+s,"onUpdate:modelValue":d=>k.value.coins[s]=d,class:"w-full px-3 py-2 border border-gray-300 text-gray-700 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"0",onInput:ve},null,40,ds),[[q,k.value.coins[s]]]),e("span",cs," = â‚±"+l((s*(k.value.coins[s]||0)).toFixed(2)),1)])])),64))])]),e("div",ps,[t[20]||(t[20]=e("h5",{class:"font-medium text-gray-700"},"Alternative Methods",-1)),e("div",ms,[(r(),u(T,null,F(Q,s=>e("div",{key:"ar-"+s,class:"space-y-2"},[e("label",{for:"ar-"+s,class:"block text-sm font-medium text-gray-700"},l(s),9,vs),e("div",fs,[D(e("input",{type:"number",id:"ar-"+s,"onUpdate:modelValue":d=>k.value.ar[s]=d,class:"w-full px-3 py-2 border border-gray-300 text-gray-700 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"0",onInput:ve},null,40,gs),[[q,k.value.ar[s]]]),e("span",ys," = â‚±"+l((k.value.ar[s]||0).toFixed(2)),1)])])),64))])]),e("div",xs,[e("div",hs,[t[21]||(t[21]=e("span",{class:"font-medium"},"Total Bills:",-1)),e("span",bs,"â‚±"+l(O.value.toFixed(2)),1)]),e("div",ws,[t[22]||(t[22]=e("span",{class:"font-medium text-gray-700"},"Total Coins:",-1)),e("span",_s,"â‚±"+l(ne.value.toFixed(2)),1)]),e("div",ks,[t[23]||(t[23]=e("span",{class:"font-medium text-gray-700"},"Total Coins:",-1)),e("span",Ps,"â‚±"+l(W.value.toFixed(2)),1)]),e("div",Cs,[t[24]||(t[24]=e("span",{class:"text-gray-700"},"Grand Total:",-1)),e("span",As,"â‚±"+l(ee.value.toFixed(2)),1)])]),e("button",{type:"submit",class:"w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 transition duration-200",disabled:te.value},l(te.value?"Submitting...":"Submit Declaration"),9,Ts)],32)],64)):E("",!0)])]),e("div",Es,[t[47]||(t[47]=e("h3",{class:"font-bold text-lg mb-4 text-gray-800 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})]),ue(" Selected Items ")],-1)),e("div",$s,[(r(!0),u(T,null,F(f.value,s=>{var d,v,g;return r(),u("div",{key:s.itemid,class:"mb-4 p-4 border rounded"},[e("h4",Is,l(s.itemname||"Unnamed Item"),1),e("p",Rs,[t[27]||(t[27]=e("strong",null,"Item ID:",-1)),ue(" "+l(s.itemid),1)]),e("div",Ms,[t[28]||(t[28]=e("strong",null,"Price per unit:",-1)),e("span",Ds," (Original: P "+l((d=s.total_price)==null?void 0:d.toFixed(2))+") ",1),e("div",Fs,[D(e("input",{type:"number","onUpdate:modelValue":C=>s.price=C,onInput:C=>be(s),class:"bg-gray-50 border border-gray-300 text-black text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",min:"0",step:"0.01",required:""},null,40,Ss),[[q,s.price,void 0,{number:!0}]])])]),e("div",js,[t[29]||(t[29]=e("strong",null,"Quantity:",-1)),e("span",Ns," (Original: "+l(s.total_qty)+") ",1),e("div",Os,[D(e("input",{type:"number","onUpdate:modelValue":C=>s.qty=C,onInput:C=>be(s),class:"bg-gray-50 border border-gray-300 text-black text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",min:"0",required:""},null,40,Bs),[[q,s.qty,void 0,{number:!0}]])])]),e("p",Vs,[t[30]||(t[30]=e("strong",null,"Total Price:",-1)),e("span",null,"P "+l((v=s.total_price)==null?void 0:v.toFixed(2)),1),e("span",Ls," (Original Total: P "+l((g=s.original_total)==null?void 0:g.toFixed(2))+") ",1)])])}),128)),p.value?(r(),u("div",Us,[e("div",qs,[t[31]||(t[31]=e("h2",{class:"text-xl font-bold text-gray-900"},"ORDER | CART",-1)),e("p",Ys,l(p.value.receiptid),1)]),e("div",Hs,[e("table",zs,[t[33]||(t[33]=e("thead",null,[e("tr",{class:"border-b"},[e("th",{class:"py-2 px-4 text-left text-sm font-medium text-gray-900"},"Select"),e("th",{class:"py-2 px-4 text-left text-sm font-medium text-gray-900"},"Item"),e("th",{class:"py-2 px-4 text-right text-sm font-medium text-gray-900"},"Price"),e("th",{class:"py-2 px-4 text-center text-sm font-medium text-gray-900"},"Qty"),e("th",{class:"py-2 px-4 text-right text-sm font-medium text-gray-900"},"Discount"),e("th",{class:"py-2 px-4 text-right text-sm font-medium text-gray-900"},"Total")])],-1)),e("tbody",null,[(r(!0),u(T,null,F(N.value,s=>(r(),u("tr",{key:`${s.transactionid}-${s.linenum}`,class:"border-b"},[e("td",Gs,[e("input",{type:"checkbox",checked:V.value.includes(s.linenum),onChange:d=>Ge(s.linenum)},null,40,Zs)]),e("td",Ks,l(s.itemname),1),e("td",Xs,l(P(s.price)),1),e("td",Qs,l(s.qty),1),e("td",Js,[s.discamount>0?(r(),u(T,{key:0},[e("span",Ws,"-"+l(P(s.discamount)),1),t[32]||(t[32]=e("br",null,null,-1)),e("span",ea,"("+l(ie(s))+"%)",1)],64)):(r(),u("span",ta,"-"))]),e("td",sa,l(P(ye(s))),1)]))),128))])])]),e("div",aa,[e("div",oa,[t[34]||(t[34]=e("span",{class:"text-gray-600"},"Gross Amount",-1)),e("span",la,l(P(p.value.grossamount)),1)]),e("div",na,[t[35]||(t[35]=e("span",{class:"text-gray-600"},"Discount",-1)),e("span",ra,l(P(p.value.discamount)),1)]),e("div",ia,[t[36]||(t[36]=e("span",{class:"text-gray-600"},"VAT (12%)",-1)),e("span",ua,l(P(p.value.netamount/1.12*.12)),1)]),e("div",da,[t[37]||(t[37]=e("span",{class:"text-gray-600"},"Partial Payment",-1)),e("span",ca,l(P(p.value.partialpayment||0)),1)]),e("div",pa,[t[38]||(t[38]=e("span",{class:"text-gray-600"},"Net Amount",-1)),e("span",ma,l(P(p.value.netamount)),1)]),e("div",va,[t[44]||(t[44]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Payment Details",-1)),e("div",fa,[p.value.cash?(r(),u("div",ga,[t[39]||(t[39]=e("span",{class:"text-gray-600"},"Cash",-1)),e("span",ya,l(P(p.value.cash)),1)])):E("",!0),p.value.gcash?(r(),u("div",xa,[t[40]||(t[40]=e("span",{class:"text-gray-600"},"GCash",-1)),e("span",ha,l(P(p.value.gcash)),1)])):E("",!0),p.value.paymaya?(r(),u("div",ba,[t[41]||(t[41]=e("span",{class:"text-gray-600"},"PayMaya",-1)),e("span",wa,l(P(p.value.paymaya)),1)])):E("",!0),p.value.card?(r(),u("div",_a,[t[42]||(t[42]=e("span",{class:"text-gray-600"},"Card",-1)),e("span",ka,l(P(p.value.card)),1)])):E("",!0),p.value.loyaltycard?(r(),u("div",Pa,[t[43]||(t[43]=e("span",{class:"text-gray-600"},"Loyalty Card",-1)),e("span",Ca,l(P(p.value.loyaltycard)),1)])):E("",!0)])])]),e("div",{class:"mt-6 grid grid-cols-2 gap-4"},[e("button",{onClick:ze,class:"flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},t[45]||(t[45]=[e("i",{class:"fas fa-print h-4 w-4"},null,-1),e("span",{class:"text-sm font-medium"},"Reprint Receipt",-1)])),e("button",{onClick:Ze,class:"flex items-center justify-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},t[46]||(t[46]=[e("i",{class:"fas fa-undo h-4 w-4"},null,-1),e("span",{class:"text-sm font-medium"},"Return Transaction",-1)]))])])):E("",!0)])])]),e("div",Aa,[e("form",{onSubmit:fe(Qe,["prevent"]),class:"flex space-x-4"},[e("button",{type:"submit",disabled:m.value,class:le(["btn flex items-center px-6 py-2 text-white rounded-lg transition-colors shadow-sm",[m.value?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"]])},[m.value?(r(),u(T,{key:0},[t[48]||(t[48]=e("svg",{class:"animate-spin h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),t[49]||(t[49]=e("span",null,"SAVING...",-1))],64)):(r(),u(T,{key:1},[t[50]||(t[50]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1)),t[51]||(t[51]=e("span",null,"SAVE PRICE & QTY",-1))],64))],10,Ta),e("button",{type:"button",onClick:re,disabled:m.value,class:le(["btn flex items-center px-6 py-2 text-white rounded-lg transition-colors shadow-sm",[m.value?"bg-gray-400 cursor-not-allowed":"bg-gray-600 hover:bg-gray-700"]])},t[52]||(t[52]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),e("span",null,"Close",-1)]),10,Ea)],32)])])],512)]))}},Ia={},Ra={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#000000"};function Ma(B,S){return r(),u("svg",Ra,S[0]||(S[0]=[e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("g",{id:"SVGRepo_iconCarrier"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.47995 6.50359C1.53691 8.13698 2.09246 10.2103 3.20356 14.357C4.31466 18.5037 4.87021 20.577 6.50359 21.5201C8.13698 22.4631 10.2103 21.9075 14.357 20.7964C18.5037 19.6853 20.577 19.1298 21.5201 17.4964C22.4631 15.863 21.9075 13.7897 20.7964 9.643C19.6853 5.49632 19.1298 3.42298 17.4964 2.47995C15.863 1.53691 13.7897 2.09246 9.643 3.20356C5.49632 4.31466 3.42298 4.87021 2.47995 6.50359ZM8.18526 15.7507C8.28596 15.3489 8.69331 15.1049 9.09509 15.2056C10.2254 15.4889 11.5234 15.4924 12.8412 15.1393C14.1589 14.7862 15.2813 14.1341 16.1185 13.3236C16.4161 13.0355 16.8909 13.0432 17.179 13.3408C17.4671 13.6384 17.4594 14.1133 17.1618 14.4014C16.8143 14.7378 16.4298 15.0492 16.0128 15.3302L16.1708 15.6519C16.5395 16.403 16.2223 17.3105 15.4661 17.6684C14.7249 18.0193 13.8393 17.7099 13.478 16.9737L13.2818 16.574L13.2294 16.5881C11.674 17.0049 10.1168 17.008 8.73041 16.6606C8.32863 16.5598 8.08455 16.1525 8.18526 15.7507ZM15.4755 9.51583C15.6899 10.316 15.4312 11.0806 14.8978 11.2235C14.3643 11.3665 13.758 10.8337 13.5436 10.0335C13.3292 9.23327 13.5879 8.46871 14.1213 8.32577C14.6548 8.18282 15.2611 8.71564 15.4755 9.51583ZM9.10222 12.7765C9.63569 12.6335 9.89433 11.8689 9.67992 11.0687C9.46551 10.2685 8.85923 9.73574 8.32577 9.87868C7.7923 10.0216 7.53366 10.7862 7.74807 11.5864C7.96248 12.3866 8.56876 12.9194 9.10222 12.7765Z",fill:"#ffffff"})],-1)]))}const Da=je(Ia,[["render",Ma]]),Fa={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Sa={class:"bg-white p-6 rounded-lg shadow-lg w-96"},ja={class:"mb-4 space-y-2"},Na={class:"flex justify-between"},Oa={class:"font-bold text-black"},Ba={class:"flex justify-between"},Va={class:"font-bold text-black"},La={class:"flex justify-between text-blue-600"},Ua={class:"font-bold"},qa={class:"flex justify-between border-t pt-2"},Ya={class:"font-bold text-black"},Ha={key:0,class:"flex justify-between"},za={class:"font-bold text-green-600"},Ga={key:1,class:"flex justify-between"},Za={class:"font-bold text-blue-600"},Ka=["readonly"],Xa={key:0,class:"text-red-500 mb-2"},Qa={__name:"submitpayment",props:{isOpen:Boolean,totalAmount:{type:Number,default:0},totalPartial:{type:Number,default:0},selectedAR:{type:String,required:!0,default:"CASH"},selectedCustomer:{type:String,required:!0,default:""}},emits:["close","submit"],setup(B,{emit:S}){const R=B,$=S,x=i(""),M=i(""),f=i(!1),m=I(()=>R.totalAmount-R.totalPartial),h=I(()=>R.selectedAR==="CASH"),w=I(()=>{const y=parseFloat(x.value);return h.value&&!isNaN(y)&&y>=m.value}),H=I(()=>{const y=parseFloat(x.value);return isNaN(y)?0:y-m.value}),z=I({get:()=>{var y;return h.value?x.value:((y=m.value)==null?void 0:y.toFixed(2))||""},set:y=>{h.value&&(x.value=y,console.log("Amount entered:",y))}}),V=()=>{f.value&&p()},L=()=>{console.log("Input changed:",{currentAmount:x.value,remainingAmount:m.value,paymentMethod:R.selectedAR}),h.value?X():f.value=!0},X=()=>{const y=parseFloat(x.value);isNaN(y)||y<0?(M.value="Please enter a valid amount.",f.value=!1):y<m.value?(M.value="Amount must be greater than or equal to remaining amount.",f.value=!1):(M.value="",f.value=!0)},p=()=>{const y=h.value?parseFloat(x.value):m.value;$("submit",y),G()},N=()=>{$("close"),G()},G=()=>{x.value="",M.value="",f.value=!1};return de(()=>R.selectedAR,y=>{console.log("Payment method changed:",y),h.value||(G(),f.value=!0)}),de(()=>R.isOpen,y=>{console.log("Modal opened:",y),y&&(G(),h.value||(f.value=!0))}),(y,_)=>{var K,Q;return B.isOpen?(r(),u("div",Fa,[e("div",Sa,[_[7]||(_[7]=e("h2",{class:"text-xl font-bold mb-4 text-black"},"Enter Cash Amount",-1)),e("div",ja,[e("div",Na,[_[1]||(_[1]=e("span",{class:"text-gray-700"},"Customer:",-1)),e("span",Oa,l(B.selectedCustomer||"Not Selected"),1)]),e("div",Ba,[_[2]||(_[2]=e("span",{class:"text-gray-700"},"Net Total:",-1)),e("span",Va,"â‚± "+l(((K=B.totalAmount)==null?void 0:K.toFixed(2))||"0.00"),1)]),e("div",La,[_[3]||(_[3]=e("span",{class:"text-gray-700"},"Partial Payment:",-1)),e("span",Ua,"â‚± "+l(((Q=B.totalPartial)==null?void 0:Q.toFixed(2))||"0.00"),1)]),e("div",qa,[_[4]||(_[4]=e("span",{class:"text-gray-700 font-bold"},"Amount Due:",-1)),e("span",Ya,"â‚± "+l(m.value.toFixed(2)),1)]),x.value&&h.value?(r(),u("div",Ha,[_[5]||(_[5]=e("span",{class:"text-gray-700"},"Cash Received: ",-1)),e("span",za,"â‚± "+l(parseFloat(x.value).toFixed(2)),1)])):E("",!0),x.value&&h.value&&w.value?(r(),u("div",Ga,[_[6]||(_[6]=e("span",{class:"text-gray-700"},"Change Due: ",-1)),e("span",Za,"â‚± "+l(H.value.toFixed(2)),1)])):E("",!0)]),D(e("input",{"onUpdate:modelValue":_[0]||(_[0]=Z=>z.value=Z),type:"number",placeholder:"Enter cash amount",class:le(["w-full p-2 border rounded mb-4 text-black",{"bg-gray-100":!h.value}]),onInput:L,onKeyup:et(V,["enter"]),readonly:!h.value},null,42,Ka),[[q,z.value]]),M.value?(r(),u("div",Xa,l(M.value),1)):E("",!0),e("div",{class:"flex justify-end"},[e("button",{onClick:N,class:"px-4 py-2 bg-gray-300 rounded mr-2"},"Cancel"),e("button",{onClick:p,class:"px-4 py-2 bg-blue-500 text-white rounded"}," Submit ")])])])):E("",!0)}}},Ja={class:"relative w-full h-full"},Wa={class:"absolute top-0 bottom-0 left-0 w-4/6 lg:w-4/6 p-2"},eo={class:"flex justify-between items-center gap-2"},to={class:"flex items-center"},so={class:"w-full lg:w-48 xl:w-64 mb-2 lg:mb-0 sm:mr-1 md:mr-1"},ao=["value"],oo={class:"w-full lg:w-48 xl:w-64 mb-2 lg:mb-0 lg:ml-2"},lo=["value"],no={class:"input input-bordered flex items-center gap-2 w-3/5 lg:w-3/5"},ro={class:"relative px-10 mt-4"},io={class:"flex overflow-x-auto"},uo={class:"flex flex-nowrap text-xs lg:text-sm lg:ml-10 lg:w-[80%] md:h-[13vh] lg:h-[8vh]"},co={class:"flex items-center justify-center rounded-lg p-2 font-bold italic cursor-pointer transition-colors duration-300 h-10 mt-2"},po={class:"flex-none p-2 w-48"},mo=["onClick"],vo={class:"absolute top-[20vh] bottom-0 left-0 w-9/12 ml-[-50px] md:w-[72%] lg:w-[72%] lg:top-35 md:mt-10 lg:mt-0"},fo={class:"relative w-full h-full"},go={class:"left-0 top-5 overflow-y-auto h-[70vh] w-full ml-10 justify-center gap-x-5 gap-y-4 p-2 lg:gap-x-20 lg:ml-20"},yo={class:"flex flex-wrap"},xo={class:"font-bold text-base text-nowrap overflow-hidden"},ho=["onClick"],bo={class:"text-xs text-gray-400 font-thin"},wo={class:"text-md text-gray-600 font-bold"},_o={class:"text-end text-sm text-gray-600 font-bold"},ko={class:"absolute top-0 right-0 h-9 w-9 bg-blue-400 rounded-full flex items-center justify-center"},Po={class:"text-sm text-white"},Co={class:"absolute top-0 bottom-0 right-0 w-[42%] lg:w-2/6"},Ao={class:"relative bg-white border-s border-gray-400 shadow-md shadow-gray-600 w-full h-full lg:w-full lg:h-full max-w-sm lg:max-w-full"},To={class:"absolute left-0 right-0 top-0 h-10 bg-white text-black flex justify-center items-center text-xl font-bold p-3"},Eo={class:"ml-auto flex items-center"},$o=["disabled"],Io={class:"absolute top-7 bottom-12 left-0 right-0 my-2 px-2 overflow-y-auto"},Ro={class:"h-5/6 relative z-10"},Mo={class:"h-full w-full overflow-y-auto bg-transparent p-3 top-0 right-0 left-0 m-0"},Do={class:"grid grid-cols-4 text-md font-bold lg:grid-cols-4 bg-violet-900 text-white rounded sticky top-0 z-20"},Fo={class:"p-2 flex justify-center"},So={class:"inline-flex items-center"},jo={class:"p-2 flex justify-center"},No={class:"inline-flex items-center"},Oo=["value"],Bo={class:"p-2 overflow-hidden flex flex-col"},Vo={class:"whitespace-no-wrap"},Lo={key:0,class:"text-xs text-green-600 mt-1"},Uo={class:"p-2 flex flex-col items-center"},qo={class:"font-bold text-xs"},Yo={key:0,class:"text-xs text-green-600 mt-1"},Ho={class:"p-2 flex justify-center"},zo={class:"font-bold text-xs mx-2"},Go={class:"p-2 bg-gray-100 text-gray-600 relative z-10"},Zo={class:"flex text-sm font-bold justify-between items-center px-1"},Ko={class:"flex text-sm font-bold justify-between items-center px-1"},Xo={class:"flex text-sm font-bold justify-between items-center px-1"},Qo={class:"flex text-sm font-bold justify-between items-center px-1"},Jo={class:"flex text-sm font-bold justify-between items-center px-1"},Wo={class:"absolute left-0 right-0 bottom-0 h-14 text-white bg-navy flex justify-between items-center border-t border-gray-900 shadow-sm shadow-gray-900"},el={class:"flex flex-col justify-start ps-1 tracking-wider w-[100%]"},tl={class:"font-extrabold text-xl md:text-lg ml-2"},sl={class:"skeleton ml-48 w-1/6 h-10 bg-blue-900 flex justify-center items-center cursor-pointer font-bold text-white text-xs md:text-sm lg:text-base"},al=.12,ol={__name:"Index",props:{category:{type:Array,required:!0},items:{type:Array,required:!0},ar:{type:Array,required:!0},customers:{type:Array,required:!0},windowId:{type:String,required:!0},windowDesc:{type:String,required:!0}},setup(B){const S=i(""),R=i(""),$=i("CASH"),x=i("WALK-IN"),M=i(""),f=i(null),m=i([]),h=i(0),w=i([]),H=i(!1),z=i([]);i([]),i(null);let V;const L=i("");i("");const X=i(!1);i(""),i("");const p=i(null),N=B,G=I(()=>{let c=N.items;if(S.value&&(c=c.filter(o=>o.itemgroup===S.value)),R.value){const o=R.value.toLowerCase();c=c.filter(n=>n.itemname.toLowerCase().includes(o)||n.barcode.toLowerCase().includes(o))}return c.map(o=>({...o,category:o.itemgroup||S.value||""}))}),y=c=>{S.value=c===S.value?null:c},_=async c=>{try{const o=Number(N.windowId);if(!o)return M.value="Invalid window ID",!1;const n=await fetch(`/windows/menu/addtocart/${c}/${o}/${$.value}/${x.value}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const b=await n.json();return b.success?(M.value=b.message,await K(),!0):(M.value=b.message||"Failed to add item to cart",!1)}catch(o){return console.error("Error adding item to cart:",o),M.value="Failed to add item to cart. Please try again.",!1}},K=async()=>{try{const c=Number(N.windowId);if(!c)return M.value="Invalid window ID",!1;const o=await fetch(`/api/cart/${c}`,{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});if(!o.ok){const b=await o.text();throw new Error(`HTTP error ${o.status}: ${b}`)}const n=await o.json();m.value=n.items.map(b=>({...b,total_price:parseFloat(b.total_price),total_qty:parseFloat(b.total_qty)})),Q()}catch(c){console.error("Error fetching cart data:",c),M.value=c.message}},Q=()=>{h.value=m.value.reduce((c,o)=>c+o.total_price,0)},Z=async()=>{if(w.value.length!==0)try{(await fetch("/api/cart/delete-multiple",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:w.value})})).ok?(m.value=m.value.filter(o=>!w.value.includes(o.itemname)),w.value=[],H.value=!1,Q(),location.reload()):console.error("Failed to delete items")}catch(c){console.error("Error deleting selected items:",c)}},k=()=>{H.value?w.value=m.value.map(c=>c.itemname):w.value=[]},O=c=>typeof c=="number"?c.toFixed(2):"0.00";I(()=>O(h.value));const ne=()=>{if(p.value){const c=m.value.filter(o=>w.value.includes(o.itemname));c.some(o=>o.discamount>0),w.value.length,z.value=c.map(o=>({...o,itemid:o.itemid||o.itemId||"No ID"})),console.log("Items being sent to modal:",z.value),p.value.showModal(z.value)}},W=I(()=>te()/1.12*al);I(()=>me()+W.value);const ee=()=>m.value.reduce((c,o)=>c+o.total_price,0),te=()=>m.value.reduce((c,o)=>c+o.netamount,0),ce=()=>m.value.reduce((c,o)=>c+o.discamount,0),pe=()=>m.value.reduce((c,o)=>c+o.partial_payment,0),me=()=>ee()-ce();let se=null;const re=c=>{const o=c.target.value;R.value=o,se&&clearTimeout(se),se=setTimeout(()=>{ge(o)},300)},ge=async c=>{const o=N.items.find(n=>n.barcode===c);o?await _(o.itemid)?(console.log("Item added to cart:",o.itemname),R.value=""):console.log("Failed to add item to cart"):console.log("Item not found for barcode:",c)},ie=i(!1),ye=()=>{ie.value=!0},xe=async c=>{console.log("Cash Amount Input:",c);const o=parseFloat(c);if(isNaN(o)||o<0){await Y.fire({icon:"error",title:"Invalid Input",text:"Please enter a valid cash amount.",confirmButtonText:"OK",position:"center"});return}const b=me()-pe();if(x.value!=="WALK-IN"){if(o!==b){await Y.fire({icon:"error",title:"Invalid Input",text:"This is Account Receivable, Please input Exact Amount",confirmButtonText:"OK",position:"center"});return}}else if(o<b){await Y.fire({icon:"warning",title:"Insufficient Cash",text:`Cash amount must be equal to or greater than the total amount (${b.toFixed(2)}).`,confirmButtonText:"OK",position:"center"});return}if(o<b){await Y.fire({icon:"warning",title:"Insufficient Cash",text:`Cash amount must be equal to or greater than the total amount (${b.toFixed(2)}).`,confirmButtonText:"OK",position:"center"});return}try{X.value=!0;const U={cashAmount:o,cartItems:m.value.map(A=>({note:L.value,itemid:A.itemid,itemname:A.itemname,itemgroup:A.itemgroup,discofferid:A.discofferid,price:parseFloat(A.price),total_qty:parseFloat(A.total_qty),total_price:parseFloat(A.total_price)||0,total_netprice:parseFloat(A.total_netprice)||0,discamount:parseFloat(A.discamount)||0,costamount:parseFloat(A.costamount)||0,unit:A.unit||"PCS",wintransid:A.wintransid||"PCS",taxinclinprice:parseFloat(A.taxinclinprice)||0,netamountnotincltax:parseFloat(A.netamountnotincltax)||0,partialpayment:parseFloat(A.partialpayment)||0})),totalAmount:b,selectedAR:$.value,selectedCustomer:x.value,store:"ANCHETA",staff:"ANCHETA",partialpayment:he(),note:L.value};console.log("Order Data:",U);const ae=await axios.post("/submit-order",U);if(ae.data.success){ie.value=!1,L.value="";const A=o-b;await Y.fire({icon:"success",title:`Cash Change: <br>${A.toFixed(2)}`,confirmButtonText:"OK",position:"center"})}else throw new Error(ae.data.message||"Failed to submit order")}catch(U){if(console.error("Error submitting order:",U),U.response&&U.response.data&&U.response.data.errors){const ae=Object.values(U.response.data.errors).flat().join(`
`);await Y.fire({icon:"error",title:"Submission Failed",text:`Please correct the following errors:

${ae}`,confirmButtonText:"OK",position:"center"})}else await Y.fire({icon:"error",title:"Submission Failed",text:`Error: ${U.message}`,confirmButtonText:"OK",position:"center"})}finally{X.value=!1}},he=()=>m.value.reduce((c,o)=>c+(parseFloat(o.partial_payment)||0),0);return de($,c=>{console.log("Selected payment method changed:",c)}),Me(()=>{se&&clearTimeout(se)}),Se(()=>{K(),V=setInterval(K,5e3)}),Me(()=>{clearInterval(V)}),(c,o)=>(r(),tt(it,{"active-tab":"POS"},{main:st(()=>[e("div",Ja,[e("div",Wa,[e("div",eo,[e("div",to,[e("div",so,[D(e("select",{"onUpdate:modelValue":o[0]||(o[0]=n=>$.value=n),id:"payment-options",class:"block w-full p-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-500"},[o[8]||(o[8]=e("option",{value:"",disabled:""},"Payment Method",-1)),(r(!0),u(T,null,F(B.ar,n=>(r(),u("option",{key:n.ID,value:n.ar},l(n.ar),9,ao))),128))],512),[[De,$.value]])]),e("div",oo,[D(e("select",{"onUpdate:modelValue":o[1]||(o[1]=n=>x.value=n),id:"customer-options",class:"block w-full p-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-500"},[o[9]||(o[9]=e("option",{value:"",disabled:""},"CUSTOMER",-1)),(r(!0),u(T,null,F(B.customers,n=>(r(),u("option",{key:n.ID,value:n.name},l(n.name),9,lo))),128))],512),[[De,x.value]])])]),e("label",no,[D(e("input",{"onUpdate:modelValue":o[2]||(o[2]=n=>R.value=n),onInput:re,type:"text",class:"grow text-sm",placeholder:"Barcode / Item"},null,544),[[q,R.value]]),o[10]||(o[10]=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:"w-4 h-4 opacity-70"},[e("path",{"fill-rule":"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z","clip-rule":"evenodd"})],-1))])]),e("div",ro,[e("div",io,[e("div",uo,[e("div",co,[J(rt)]),o[11]||(o[11]=e("div",{class:"flex items-center bg-red-900 justify-center text-white rounded-lg p-5 font-bold italic cursor-pointer transition-colors duration-300 h-10 mt-2"},[e("a",{href:"/partycakes"},"DETAILS")],-1)),(r(!0),u(T,null,F(B.category,n=>(r(),u("div",{key:n.name},[e("div",po,[e("div",{onClick:b=>y(n.name),class:le([{"bg-blue-500 text-white":S.value===n.name,"bg-gray-200":S.value!==n.name},"flex items-center justify-center rounded-lg p-2 font-bold italic cursor-pointer transition-colors duration-300 h-full"])},l(n.name),11,mo)])]))),128))])]),J(at,{class:"w-6 h-6 absolute left-0 top-1/2 -translate-y-1/2 transform"}),J(ot,{class:"w-6 h-6 absolute right-0 top-1/2 transform -translate-y-1/2"})])]),e("div",vo,[e("div",fo,[e("div",go,[e("div",yo,[(r(!0),u(T,null,F(G.value,n=>(r(),u("div",{key:n.itemid,class:"relative flex flex-col justify-center w-full sm:w-1/4 lg:w-1/6 min-h-20 bg-white shadow-md shadow-gray-200 py-4 px-2 rounded-lg cursor-pointer m-2 hover:shadow-lg transition-shadow duration-300"},[e("span",xo,[e("figure",{onClick:b=>_(n.itemid)},o[12]||(o[12]=[e("img",{src:lt,alt:"Product"},null,-1)]),8,ho)]),e("span",bo,l(n.barcode),1),e("span",wo,l(n.itemname),1),e("span",_o,"Php "+l(n.price)+".00",1),e("span",ko,[e("div",Po,l(n.quantity),1)])]))),128))])])])]),e("div",Co,[e("div",Ao,[e("div",To,[o[13]||(o[13]=e("p",{class:"tracking-widest"},"ORDER | CART",-1)),e("div",Eo,[e("button",{onClick:Z,class:"mr-2 px-2 py-1 bg-white text-white rounded text-xs",disabled:w.value.length===0},[J(nt,{class:"w-7 h-7"})],8,$o)])]),e("div",Io,[o[24]||(o[24]=e("div",{class:"absolute inset-4 bg-cover bg-center bg-no-repeat duration-300",style:{"background-image":"url('/images/ec2.webp')","z-index":"0"}},null,-1)),e("section",Ro,[e("div",Mo,[e("ul",Do,[e("li",Fo,[e("label",So,[D(e("input",{type:"checkbox","onUpdate:modelValue":o[3]||(o[3]=n=>H.value=n),onChange:k,class:"form-checkbox h-4 w-4 text-blue-600 rounded-full"},null,544),[[Fe,H.value]]),o[14]||(o[14]=e("span",{class:"ml-2"},"All",-1))])]),o[15]||(o[15]=e("li",{class:"p-2 flex justify-center"},"Item",-1)),o[16]||(o[16]=e("li",{class:"p-2 flex justify-center"},"Price",-1)),o[17]||(o[17]=e("li",{class:"p-2 flex justify-center"},"Qty",-1))]),(r(!0),u(T,null,F(m.value,n=>(r(),u("ul",{key:n.itemid,class:"grid grid-cols-4 text-sm lg:grid-cols-4 items-center mb-4 border-b pb-2 bg-white-200"},[e("li",jo,[e("label",No,[D(e("input",{type:"checkbox",value:n.itemname,"onUpdate:modelValue":o[4]||(o[4]=b=>w.value=b),class:"form-checkbox h-4 w-4 text-blue-600 rounded-full"},null,8,Oo),[[Fe,w.value]])])]),e("li",Bo,[e("span",Vo,l(n.itemname),1),n.discamount>0?(r(),u("span",Lo," Discount: -"+l(O(n.discamount)),1)):E("",!0)]),e("li",Uo,[e("span",qo,l(O(n.total_price)),1),n.discamount>0?(r(),u("span",Yo,l(n.discofferid),1)):E("",!0)]),e("li",Ho,[e("span",zo,l(n.total_qty)+" PCS",1)])]))),128))])]),e("section",Go,[e("div",Zo,[o[18]||(o[18]=e("p",null,"GROSS",-1)),e("p",null,l(O(ee())),1)]),e("div",Ko,[o[19]||(o[19]=e("p",null,"DISCOUNT",-1)),e("p",null,l(O(ce())),1)]),e("div",Xo,[o[20]||(o[20]=e("p",null,"VAT (12%)",-1)),e("p",null,l(O(W.value)),1)]),e("div",Qo,[o[21]||(o[21]=e("p",null,"PARTIAL PAYMENT",-1)),e("p",null,l(O(pe())),1)]),e("div",Jo,[o[22]||(o[22]=e("p",{class:"pr-5"},"NOTE: ",-1)),D(e("input",{"onUpdate:modelValue":o[5]||(o[5]=n=>L.value=n),id:"note",name:"note",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[q,L.value]])]),o[23]||(o[23]=e("p",{class:"border-b border-b-gray-300 pt-3"},null,-1))])]),e("div",Wo,[e("div",el,[e("p",tl,[e("b",null,"PHP "+l(O(te())),1)])]),e("div",sl,[e("button",{class:"",onClick:o[6]||(o[6]=n=>ne(f.value))},[J(Da,{class:"w-10 p-2 lg:p-1"})]),J($a,{ref_key:"modalRef",ref:p},null,512)]),e("div",{class:"skeleton w-1/4 h-10 bg-violet-600 m-2 flex justify-center items-center cursor-pointer font-bold text-white tracking-wider text-xs md:text-sm lg:text-base",onClick:ye},[J(ut,{class:"w-10 p-2 lg:p-1"})]),J(Qa,{"is-open":ie.value,"total-amount":me(),"total-partial":pe(),"selected-ar":$.value,"selected-customer":x.value,onClose:o[7]||(o[7]=n=>ie.value=!1),onSubmit:xe},null,8,["is-open","total-amount","total-partial","selected-ar","selected-customer"])])])])])]),_:1}))}},xl=je(ol,[["__scopeId","data-v-94169a33"]]);export{xl as default};

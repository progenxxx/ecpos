import{q as f,T as Q,d as T,e as l,b as y,u as o,c as Z,w as h,B as W,F as Y,o as n,Z as J,a as e,y as E,t as r,f as d,g as m,n as A,i as K,j as D,v as I,s as ee,h as te,N as se}from"./app-CzESy9Lv.js";import{_ as oe}from"./AdminPanel-CV7lwGts.js";import{_ as ne}from"./Main-B2ZCzBDe.js";import"./RetailGroup-CerRlS__.js";import"./Logout-D0Up-vhm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                             */import"./Modal-Cu8sf7v_.js";import"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-tx95LcV3.js";import"./RetailItems-BLW14K2q.js";import"./Attendance-BoQw81K6.js";import"./PartyCake143-CJZ7IykR.js";const le={class:"min-h-screen bg-gray-50"},re={class:"lg:hidden sticky top-0 z-30 bg-white border-b border-gray-200 px-4 py-3 sm:px-6"},ie={class:"flex items-center justify-between"},de={class:"flex items-center space-x-3"},ae={class:"text-xs text-gray-600 truncate max-w-[200px]"},ue={class:"flex items-center space-x-2"},ce={key:0,class:"w-3 h-3 bg-orange-500 rounded-full animate-pulse"},me={class:"hidden lg:block p-6 bg-white rounded-lg shadow-sm mb-6"},xe={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},ge={class:"flex items-start space-x-4"},fe={class:"flex-1"},be={class:"flex items-center space-x-3 mb-2"},ve={key:0,class:"flex items-center space-x-2 px-3 py-1 bg-orange-100 border border-orange-200 rounded-full"},pe={class:"text-gray-600 mb-1"},ye={class:"flex items-center space-x-2 text-sm text-gray-500"},he={class:"flex items-center space-x-3"},we={class:"flex items-center"},Ee={key:0,class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},ke={key:1,class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},Ce={class:"text-sm font-medium"},Te={key:1,class:"lg:hidden mx-4 mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg"},Ae={class:"p-4 lg:p-0"},De={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-8"},Me={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden lg:order-1"},Ne={class:"p-4 lg:p-6"},Pe={key:0,class:"mt-2 text-sm text-red-600"},Re=["value"],Ie={key:0,class:"mt-2 text-sm text-red-600"},Se={key:1,class:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg"},Fe={class:"text-sm text-blue-800"},Oe={key:0},_e={for:"parameter",class:"block text-sm font-medium text-gray-700 mb-2"},je={class:"relative"},Ue=["max","placeholder"],Ve={key:0,class:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none"},Ye={key:1,class:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none"},ze={key:0,class:"mt-2 text-sm text-red-600"},Be={key:1,class:"mt-2 text-sm text-red-600"},Le={key:1,class:"lg:hidden p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200"},He={class:"space-y-2 text-sm"},Xe={class:"flex justify-between"},Ge={class:"font-medium"},$e={class:"flex justify-between"},qe={class:"font-medium text-red-600"},Qe={class:"flex justify-between border-t pt-2"},Ze={class:"font-bold text-green-600"},We={class:"bg-gray-50 px-4 py-4 lg:px-6 border-t border-gray-200"},Je={class:"flex flex-col-reverse sm:flex-row space-y-reverse space-y-3 sm:space-y-0 sm:space-x-3"},Ke=["disabled"],et={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},tt={class:"hidden lg:block space-y-6 lg:order-2"},st={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},ot={key:0,class:"text-center py-8 text-gray-500"},nt={key:1,class:"space-y-4"},lt={key:0,class:"space-y-3 p-4 bg-gradient-to-br from-blue-50 via-green-50 to-purple-50 rounded-lg border-2 border-blue-200"},rt={class:"flex justify-between items-center"},it={class:"text-lg font-semibold text-gray-900"},dt={class:"flex justify-between items-center"},at={class:"text-lg font-semibold text-red-600"},ut={class:"flex justify-between items-center"},ct={class:"text-2xl font-bold text-green-600"},mt={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},xt={class:"space-y-4"},gt={class:"p-4 bg-gray-50 rounded-lg border"},ft={class:"space-y-2 text-sm"},bt={class:"flex justify-between"},vt={class:"font-medium"},pt={class:"flex justify-between"},yt={class:"font-medium"},ht={class:"flex justify-between"},wt={class:"font-medium"},Et={class:"p-4 bg-blue-50 rounded-lg border border-blue-200"},kt={class:"space-y-2 text-sm"},Ct={class:"flex justify-between"},Tt={class:"font-medium text-blue-900"},At={class:"flex justify-between"},Dt={class:"font-medium text-blue-900"},Mt={class:"flex justify-between"},Nt={class:"font-medium text-blue-900"},Pt={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Rt={class:"space-y-3"},It={class:"lg:hidden fixed bottom-6 right-6 z-40"},St={key:0,class:"absolute bottom-16 right-0 bg-white rounded-lg shadow-lg border border-gray-200 py-2 w-56 transform transition-all duration-200 ease-out"},Ft={class:"px-4 py-2"},Ot={class:"text-xs text-gray-500 mb-2"},_t={key:0,class:"absolute -top-1 -right-1 w-4 h-4 bg-orange-500 rounded-full animate-pulse border-2 border-white"},jt={key:1,class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ut={key:2,class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Vt={key:2,class:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end sm:items-center justify-center p-4"},Yt={class:"bg-white rounded-t-xl sm:rounded-xl w-full max-w-md max-h-[80vh] overflow-y-auto"},zt={class:"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 rounded-t-xl"},Bt={class:"flex items-center justify-between"},Lt={class:"p-6 space-y-6"},Ht={key:0,class:"space-y-3 p-5 bg-gradient-to-br from-blue-50 via-green-50 to-purple-50 rounded-lg border-2 border-blue-200"},Xt={class:"flex justify-between items-center"},Gt={class:"text-lg font-semibold text-gray-900"},$t={class:"flex justify-between items-center"},qt={class:"text-lg font-semibold text-red-600"},Qt={class:"flex justify-between items-center"},Zt={class:"text-2xl font-bold text-green-600"},Wt={key:3,class:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end sm:items-center justify-center p-4"},Jt={class:"bg-white rounded-t-xl sm:rounded-xl w-full max-w-md max-h-[80vh] overflow-y-auto"},Kt={class:"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 rounded-t-xl"},es={class:"flex items-center justify-between"},ts={class:"p-6 space-y-6"},ss={class:"p-4 bg-gray-50 rounded-lg border"},os={class:"space-y-2 text-sm"},ns={class:"flex justify-between"},ls={class:"font-medium"},rs={class:"flex justify-between"},is={class:"font-medium"},ds={class:"flex justify-between"},as={class:"font-medium"},us={class:"p-4 bg-blue-50 rounded-lg border border-blue-200"},cs={class:"space-y-2 text-sm"},ms={class:"flex justify-between"},xs={class:"font-medium text-blue-900"},gs={class:"flex justify-between"},fs={class:"font-medium text-blue-900"},bs={class:"flex justify-between"},vs={class:"font-medium text-blue-900"},ps={key:4,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"},ys={class:"bg-white rounded-xl w-full max-w-md p-6"},hs={class:"text-center"},ws={class:"mb-4"},Es={class:"p-3 bg-gray-50 rounded-lg border text-left"},ks={class:"font-medium text-gray-900"},Cs={class:"text-sm text-gray-600"},Ts={class:"flex space-x-3"},Us={__name:"Edit",props:{discount:{type:Object,required:!0},auth:{type:Object,required:!0,default:()=>({})},flash:{type:Object,default:()=>({})}},setup(a){const c=a,z=f(()=>{var i;return((i=c.auth)==null?void 0:i.user)||{}}),O=f(()=>{var i;return((i=z.value)==null?void 0:i.role)||""}),B=f(()=>O.value==="STORE"?ne:oe),_=f(()=>["SUPERADMIN","ADMIN","OPIC"].includes(O.value)),s=Q({DISCOFFERNAME:c.discount.DISCOFFERNAME||"",PARAMETER:c.discount.PARAMETER||"",DISCOUNTTYPE:c.discount.DISCOUNTTYPE||""}),j=[{value:"FIXED",label:"Fixed Amount",description:"Fixed amount off per item (cannot exceed item price)"},{value:"FIXEDTOTAL",label:"Fixed Total",description:"Fixed amount off the total bill"},{value:"PERCENTAGE",label:"Percentage",description:"Percentage off the total amount"}],w=T(100),p=T(!1),M=T(!1),C=T(!1),N=T(!1),U=f(()=>s.DISCOUNTTYPE==="PERCENTAGE"),L=f(()=>{switch(s.DISCOUNTTYPE){case"PERCENTAGE":return"Percentage (%)";case"FIXED":case"FIXEDTOTAL":return"Amount (₱)";default:return"Value"}}),H=f(()=>{switch(s.DISCOUNTTYPE){case"PERCENTAGE":return"Enter percentage (e.g., 10 for 10%)";case"FIXED":return"Enter fixed amount per item (e.g., 50.00)";case"FIXEDTOTAL":return"Enter fixed amount off total (e.g., 100.00)";default:return"Enter value"}}),x=f(()=>{if(!s.PARAMETER||!s.DISCOUNTTYPE||!w.value)return null;const i=w.value,t=parseFloat(s.PARAMETER);let g=0,u=i;switch(s.DISCOUNTTYPE){case"FIXED":g=Math.min(t,i),u=i-g;break;case"FIXEDTOTAL":g=t,u=Math.max(0,i-g);break;case"PERCENTAGE":g=i*t/100,u=i-g;break}return{originalAmount:i,discountAmount:g.toFixed(2),finalAmount:u.toFixed(2)}}),b=f(()=>s.DISCOFFERNAME!==c.discount.DISCOFFERNAME||s.PARAMETER!=c.discount.PARAMETER||s.DISCOUNTTYPE!==c.discount.DISCOUNTTYPE),P=f(()=>{if(!s.PARAMETER)return null;const i=parseFloat(s.PARAMETER);return isNaN(i)||i<0?"Value must be a positive number":s.DISCOUNTTYPE==="PERCENTAGE"&&i>100?"Percentage cannot exceed 100%":null}),S=()=>{s.put(route("discountsv2.update",c.discount.id),{preserveScroll:!0,onSuccess:()=>{}})},F=()=>{s.DISCOFFERNAME=c.discount.DISCOFFERNAME,s.PARAMETER=c.discount.PARAMETER,s.DISCOUNTTYPE=c.discount.DISCOUNTTYPE,s.clearErrors(),k()},v=i=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(i),R=i=>{if(!i)return"";switch(i.DISCOUNTTYPE){case"PERCENTAGE":return`${i.PARAMETER}%`;case"FIXED":case"FIXEDTOTAL":return`₱${Number(i.PARAMETER).toFixed(2)}`;default:return i.PARAMETER}},X=()=>{p.value=!p.value},k=()=>{p.value=!1},G=()=>{M.value=!M.value,k()},$=()=>{N.value=!N.value,k()},V=()=>{C.value=!0,k()},q=()=>{se.delete(route("discountsv2.destroy",c.discount.id),{preserveScroll:!0,onSuccess:()=>{C.value=!1},onError:()=>{C.value=!1}})};return(i,t)=>(n(),l(Y,null,[y(o(J),{title:`Edit ${a.discount.DISCOFFERNAME}`},null,8,["title"]),(n(),Z(W(B.value),{"active-tab":"DISCOUNTS"},{main:h(()=>{var g;return[e("div",le,[e("div",re,[e("div",ie,[e("div",de,[y(o(E),{href:i.route("discountsv2.index"),class:"text-gray-600 hover:text-gray-900 transition-colors"},{default:h(()=>t[8]||(t[8]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])),_:1},8,["href"]),e("div",null,[t[9]||(t[9]=e("h1",{class:"text-lg font-semibold text-gray-900"},"Edit Discount",-1)),e("p",ae,r(a.discount.DISCOFFERNAME),1)])]),e("div",ue,[b.value?(n(),l("div",ce)):d("",!0),y(o(E),{href:i.route("discountsv2.show",a.discount.id),class:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors"},{default:h(()=>t[10]||(t[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 616 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])),_:1},8,["href"])])])]),e("div",me,[e("div",xe,[e("div",ge,[t[14]||(t[14]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])])],-1)),e("div",fe,[e("div",be,[t[12]||(t[12]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Edit Discount",-1)),b.value?(n(),l("div",ve,t[11]||(t[11]=[e("div",{class:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"},null,-1),e("span",{class:"text-xs font-medium text-orange-700"},"Unsaved Changes",-1)]))):d("",!0)]),e("p",pe,r(a.discount.DISCOFFERNAME),1),e("div",ye,[e("span",null,"ID: #"+r(a.discount.id),1),t[13]||(t[13]=e("span",null,"•",-1)),e("span",null,r(R(a.discount)),1)])])]),e("div",he,[y(o(E),{href:i.route("discountsv2.show",a.discount.id),class:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors"},{default:h(()=>t[15]||(t[15]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 616 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),m(" View Details ")])),_:1},8,["href"]),y(o(E),{href:i.route("discountsv2.index"),class:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors"},{default:h(()=>t[16]||(t[16]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),m(" Back to Discounts ")])),_:1},8,["href"])])])]),a.flash.message?(n(),l("div",{key:0,class:A(["mb-4 lg:mb-6 px-4 py-3 rounded-lg mx-4 lg:mx-0",a.flash.isSuccess?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"])},[e("div",we,[a.flash.isSuccess?(n(),l("svg",Ee,t[17]||(t[17]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)]))):(n(),l("svg",ke,t[18]||(t[18]=[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)]))),e("span",Ce,r(a.flash.message),1)])],2)):d("",!0),b.value?(n(),l("div",Te,t[19]||(t[19]=[e("div",{class:"flex items-start"},[e("svg",{class:"h-5 w-5 text-yellow-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L5.082 16.5c-.77.833.192 2.5 1.732 2.5z"})]),e("div",null,[e("h3",{class:"text-sm font-medium text-yellow-800"},"Unsaved Changes"),e("p",{class:"text-sm text-yellow-700 mt-1"},"You have unsaved changes. Don't forget to save your updates.")])],-1)]))):d("",!0),e("div",Ae,[e("div",De,[e("div",Me,[e("div",Ne,[t[29]||(t[29]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4 lg:mb-6"},"Discount Information",-1)),e("form",{onSubmit:K(S,["prevent"]),class:"space-y-4 lg:space-y-6"},[e("div",null,[t[20]||(t[20]=e("label",{for:"discountName",class:"block text-sm font-medium text-gray-700 mb-2"}," Discount Name * ",-1)),D(e("input",{id:"discountName","onUpdate:modelValue":t[0]||(t[0]=u=>o(s).DISCOFFERNAME=u),type:"text",placeholder:"e.g., SENIOR CITIZEN, STUDENT DISCOUNT",class:A(["w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 ring-red-500":o(s).errors.DISCOFFERNAME}]),required:""},null,2),[[I,o(s).DISCOFFERNAME]]),o(s).errors.DISCOFFERNAME?(n(),l("p",Pe,r(o(s).errors.DISCOFFERNAME),1)):d("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{for:"discountType",class:"block text-sm font-medium text-gray-700 mb-2"}," Discount Type * ",-1)),D(e("select",{id:"discountType","onUpdate:modelValue":t[1]||(t[1]=u=>o(s).DISCOUNTTYPE=u),class:A(["w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 ring-red-500":o(s).errors.DISCOUNTTYPE}]),required:""},[t[21]||(t[21]=e("option",{value:""},"Select discount type",-1)),(n(),l(Y,null,te(j,u=>e("option",{key:u.value,value:u.value},r(u.label),9,Re)),64))],2),[[ee,o(s).DISCOUNTTYPE]]),o(s).errors.DISCOUNTTYPE?(n(),l("p",Ie,r(o(s).errors.DISCOUNTTYPE),1)):d("",!0),o(s).DISCOUNTTYPE?(n(),l("div",Se,[e("p",Fe,r((g=j.find(u=>u.value===o(s).DISCOUNTTYPE))==null?void 0:g.description),1)])):d("",!0)]),o(s).DISCOUNTTYPE?(n(),l("div",Oe,[e("label",_e,r(L.value)+" * ",1),e("div",je,[D(e("input",{id:"parameter","onUpdate:modelValue":t[2]||(t[2]=u=>o(s).PARAMETER=u),type:"number",step:"0.01",min:"0",max:U.value?100:void 0,placeholder:H.value,class:A(["w-full px-4 py-3 pr-12 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 ring-red-500":o(s).errors.PARAMETER||P.value}]),required:""},null,10,Ue),[[I,o(s).PARAMETER]]),U.value?(n(),l("div",Ve,t[23]||(t[23]=[e("span",{class:"text-gray-500 text-base font-medium"},"%",-1)]))):o(s).DISCOUNTTYPE?(n(),l("div",Ye,t[24]||(t[24]=[e("span",{class:"text-gray-500 text-base font-medium"},"₱",-1)]))):d("",!0)]),o(s).errors.PARAMETER?(n(),l("p",ze,r(o(s).errors.PARAMETER),1)):P.value?(n(),l("p",Be,r(P.value),1)):d("",!0)])):d("",!0),o(s).DISCOUNTTYPE&&o(s).PARAMETER&&x.value?(n(),l("div",Le,[t[28]||(t[28]=e("h3",{class:"text-sm font-medium text-gray-900 mb-3"},"Quick Preview",-1)),e("div",He,[e("div",Xe,[t[25]||(t[25]=e("span",{class:"text-gray-600"},"Test Amount:",-1)),e("span",Ge,r(v(w.value)),1)]),e("div",$e,[t[26]||(t[26]=e("span",{class:"text-gray-600"},"Discount:",-1)),e("span",qe,"-"+r(v(x.value.discountAmount)),1)]),e("div",Qe,[t[27]||(t[27]=e("span",{class:"font-medium text-gray-900"},"Final Amount:",-1)),e("span",Ze,r(v(x.value.finalAmount)),1)])])])):d("",!0)],32)]),e("div",We,[e("div",Je,[b.value?(n(),l("button",{key:0,onClick:F,type:"button",class:"w-full sm:w-auto inline-flex justify-center items-center px-4 py-3 bg-white border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors"}," Reset ")):d("",!0),y(o(E),{href:i.route("discountsv2.index"),class:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 bg-white border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors"},{default:h(()=>t[30]||(t[30]=[m(" Cancel ")])),_:1},8,["href"]),e("button",{onClick:S,disabled:o(s).processing||P.value||!o(s).DISCOFFERNAME||!o(s).DISCOUNTTYPE||!o(s).PARAMETER||!b.value,class:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[o(s).processing?(n(),l("svg",et,t[31]||(t[31]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):d("",!0),m(" "+r(o(s).processing?"Updating...":"Update Discount"),1)],8,Ke)])])]),e("div",tt,[e("div",st,[t[38]||(t[38]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Live Preview",-1)),o(s).DISCOUNTTYPE?(n(),l("div",nt,[e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Test Amount (₱) ",-1)),D(e("input",{"onUpdate:modelValue":t[3]||(t[3]=u=>w.value=u),type:"number",step:"0.01",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount to test discount"},null,512),[[I,w.value,void 0,{number:!0}]])]),x.value?(n(),l("div",lt,[e("div",rt,[t[34]||(t[34]=e("span",{class:"text-sm font-medium text-gray-700"},"Original Amount:",-1)),e("span",it,r(v(x.value.originalAmount)),1)]),e("div",dt,[t[35]||(t[35]=e("span",{class:"text-sm font-medium text-gray-700"},"Discount Amount:",-1)),e("span",at,"-"+r(v(x.value.discountAmount)),1)]),t[37]||(t[37]=e("hr",{class:"border-gray-300"},null,-1)),e("div",ut,[t[36]||(t[36]=e("span",{class:"text-base font-bold text-gray-900"},"Customer Pays:",-1)),e("span",ct,r(v(x.value.finalAmount)),1)])])):d("",!0)])):(n(),l("div",ot,t[32]||(t[32]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 616 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),e("p",{class:"text-base"},"Configure discount to see preview",-1)])))]),b.value?(n(),l("div",mt,[t[47]||(t[47]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Changes Summary",-1)),e("div",xt,[e("div",gt,[t[42]||(t[42]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Original Values",-1)),e("div",ft,[e("div",bt,[t[39]||(t[39]=e("span",{class:"text-gray-600"},"Name:",-1)),e("span",vt,r(a.discount.DISCOFFERNAME),1)]),e("div",pt,[t[40]||(t[40]=e("span",{class:"text-gray-600"},"Type:",-1)),e("span",yt,r(a.discount.DISCOUNTTYPE),1)]),e("div",ht,[t[41]||(t[41]=e("span",{class:"text-gray-600"},"Value:",-1)),e("span",wt,r(R(a.discount)),1)])])]),e("div",Et,[t[46]||(t[46]=e("h4",{class:"text-sm font-medium text-blue-700 mb-3"},"New Values",-1)),e("div",kt,[e("div",Ct,[t[43]||(t[43]=e("span",{class:"text-blue-600"},"Name:",-1)),e("span",Tt,r(o(s).DISCOFFERNAME),1)]),e("div",At,[t[44]||(t[44]=e("span",{class:"text-blue-600"},"Type:",-1)),e("span",Dt,r(o(s).DISCOUNTTYPE),1)]),e("div",Mt,[t[45]||(t[45]=e("span",{class:"text-blue-600"},"Value:",-1)),e("span",Nt,r(o(s).DISCOUNTTYPE==="PERCENTAGE"?o(s).PARAMETER+"%":"₱"+Number(o(s).PARAMETER).toFixed(2)),1)])])])])])):d("",!0),e("div",Pt,[t[50]||(t[50]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Quick Actions",-1)),e("div",Rt,[y(o(E),{href:i.route("discountsv2.show",a.discount.id),class:"w-full inline-flex items-center justify-center px-4 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 font-medium rounded-lg transition-colors"},{default:h(()=>t[48]||(t[48]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 616 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),m(" View Discount Details ")])),_:1},8,["href"]),_.value?(n(),l("button",{key:0,onClick:V,class:"w-full inline-flex items-center justify-center px-4 py-2 bg-red-50 hover:bg-red-100 text-red-700 font-medium rounded-lg transition-colors"},t[49]||(t[49]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),m(" Delete Discount ")]))):d("",!0)])])])])]),e("div",It,[p.value?(n(),l("div",St,[o(s).DISCOUNTTYPE?(n(),l("button",{key:0,onClick:G,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center transition-colors"},t[51]||(t[51]=[e("svg",{class:"h-4 w-4 mr-3 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 616 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),m(" Preview Calculator ")]))):d("",!0),b.value?(n(),l("button",{key:1,onClick:$,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center transition-colors"},t[52]||(t[52]=[e("svg",{class:"h-4 w-4 mr-3 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),m(" View Changes "),e("span",{class:"ml-auto w-2 h-2 bg-orange-500 rounded-full animate-pulse"},null,-1)]))):d("",!0),b.value?(n(),l("button",{key:2,onClick:F,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center transition-colors"},t[53]||(t[53]=[e("svg",{class:"h-4 w-4 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),m(" Reset Changes ")]))):d("",!0),y(o(E),{href:i.route("discountsv2.show",a.discount.id),onClick:k,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center transition-colors"},{default:h(()=>t[54]||(t[54]=[e("svg",{class:"h-4 w-4 mr-3 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 616 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),m(" View Details ")])),_:1},8,["href"]),_.value?(n(),l("button",{key:3,onClick:V,class:"w-full px-4 py-3 text-left text-sm text-red-600 hover:bg-red-50 flex items-center transition-colors"},t[55]||(t[55]=[e("svg",{class:"h-4 w-4 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),m(" Delete Discount ")]))):d("",!0),t[57]||(t[57]=e("div",{class:"border-t border-gray-200 my-2"},null,-1)),e("div",Ft,[e("p",Ot,"Discount ID: #"+r(a.discount.id),1),t[56]||(t[56]=e("p",{class:"text-xs text-gray-600 leading-relaxed"}," Make sure to save your changes before leaving this page. ",-1))])])):d("",!0),e("button",{onClick:X,class:A(["bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg transition-all duration-200 ease-out transform hover:scale-105 relative",{"rotate-45":p.value}])},[b.value&&!p.value?(n(),l("div",_t)):d("",!0),p.value?(n(),l("svg",Ut,t[59]||(t[59]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):(n(),l("svg",jt,t[58]||(t[58]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"},null,-1)])))],2)]),M.value?(n(),l("div",Vt,[e("div",Yt,[e("div",zt,[e("div",Bt,[t[61]||(t[61]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Discount Calculator",-1)),e("button",{onClick:t[4]||(t[4]=u=>M.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},t[60]||(t[60]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("div",Lt,[e("div",null,[t[62]||(t[62]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Test Amount (₱) ",-1)),D(e("input",{"onUpdate:modelValue":t[5]||(t[5]=u=>w.value=u),type:"number",step:"0.01",min:"0",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount to test discount"},null,512),[[I,w.value,void 0,{number:!0}]])]),x.value?(n(),l("div",Ht,[e("div",Xt,[t[63]||(t[63]=e("span",{class:"text-sm font-medium text-gray-700"},"Original Amount:",-1)),e("span",Gt,r(v(x.value.originalAmount)),1)]),e("div",$t,[t[64]||(t[64]=e("span",{class:"text-sm font-medium text-gray-700"},"Discount Amount:",-1)),e("span",qt,"-"+r(v(x.value.discountAmount)),1)]),t[66]||(t[66]=e("hr",{class:"border-gray-300"},null,-1)),e("div",Qt,[t[65]||(t[65]=e("span",{class:"text-base font-bold text-gray-900"},"Customer Pays:",-1)),e("span",Zt,r(v(x.value.finalAmount)),1)])])):d("",!0)])])])):d("",!0),N.value?(n(),l("div",Wt,[e("div",Jt,[e("div",Kt,[e("div",es,[t[68]||(t[68]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Changes Summary",-1)),e("button",{onClick:t[6]||(t[6]=u=>N.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},t[67]||(t[67]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("div",ts,[e("div",ss,[t[72]||(t[72]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Original Values",-1)),e("div",os,[e("div",ns,[t[69]||(t[69]=e("span",{class:"text-gray-600"},"Name:",-1)),e("span",ls,r(a.discount.DISCOFFERNAME),1)]),e("div",rs,[t[70]||(t[70]=e("span",{class:"text-gray-600"},"Type:",-1)),e("span",is,r(a.discount.DISCOUNTTYPE),1)]),e("div",ds,[t[71]||(t[71]=e("span",{class:"text-gray-600"},"Value:",-1)),e("span",as,r(R(a.discount)),1)])])]),e("div",us,[t[76]||(t[76]=e("h4",{class:"text-sm font-medium text-blue-700 mb-3"},"New Values",-1)),e("div",cs,[e("div",ms,[t[73]||(t[73]=e("span",{class:"text-blue-600"},"Name:",-1)),e("span",xs,r(o(s).DISCOFFERNAME),1)]),e("div",gs,[t[74]||(t[74]=e("span",{class:"text-blue-600"},"Type:",-1)),e("span",fs,r(o(s).DISCOUNTTYPE),1)]),e("div",bs,[t[75]||(t[75]=e("span",{class:"text-blue-600"},"Value:",-1)),e("span",vs,r(o(s).DISCOUNTTYPE==="PERCENTAGE"?o(s).PARAMETER+"%":"₱"+Number(o(s).PARAMETER).toFixed(2)),1)])])]),e("div",{class:"flex space-x-3"},[e("button",{onClick:F,class:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors"}," Reset Changes "),e("button",{onClick:S,class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," Save Changes ")])])])])):d("",!0),C.value?(n(),l("div",ps,[e("div",ys,[e("div",hs,[t[79]||(t[79]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L5.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t[80]||(t[80]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Delete Discount",-1)),e("div",ws,[t[77]||(t[77]=e("p",{class:"text-sm text-gray-500 mb-2"}," Are you sure you want to delete this discount? ",-1)),e("div",Es,[e("p",ks,r(a.discount.DISCOFFERNAME),1),e("p",Cs,r(R(a.discount)),1)]),t[78]||(t[78]=e("p",{class:"text-xs text-red-600 mt-3"},[e("strong",null,"Warning:"),m(" This action cannot be undone. ")],-1))]),e("div",Ts,[e("button",{onClick:t[7]||(t[7]=u=>C.value=!1),class:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors"}," Cancel "),e("button",{onClick:q,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Delete ")])])])])):d("",!0),p.value?(n(),l("div",{key:5,onClick:k,class:"lg:hidden fixed inset-0 bg-black bg-opacity-25 z-30"})):d("",!0)])]}),_:1}))],64))}};export{Us as default};

import{H as C,T as S,o as _,e as M,a as e,i as U,j as a,v as p,x as V,u as w,t as D,f as T,l as E,d as c,c as H,w as b,b as d}from"./app-C52hVfJY.js";import{_ as P}from"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-B_t0RILE.js";import{_ as k}from"./TransparentButton-D2Se8iNg.js";import{_ as L}from"./AdminPanel-Lz0a11Ng.js";import{A as z}from"./Add-CKTOHYKd.js";import{e as O}from"./editblue-BSww0R_h.js";import{T as X}from"./TableContainer-DDO88sOS.js";import{P as $,D as Y}from"./dataTables-QVPD_hK-.js";import"./RetailGroup-B-ZKk-7u.js";import"./Logout-DjX50YFP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                             */import"./Modal-Bw9dwv6a.js";import"./RetailItems-sFnzHpqc.js";import"./Attendance-DKYwb2tw.js";const G={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},J={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},K={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Q={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},W={class:"sm:flex sm:items-start"},Z={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},ee={class:"mt-4"},se={class:"mb-4"},te={class:"mb-4"},oe={class:"mb-4"},le={class:"mb-4"},re={class:"mb-4"},ie={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},ne=["disabled"],ae={__name:"Create",props:{showModal:{type:Boolean,default:!1}},emits:["toggle-active"],setup(x,{emit:y}){const r=y,o=C({name:"",passcode:"",role:"",userid:"",image:""}),t=S({}),m=()=>{t.post("/staff",{data:o,onSuccess:()=>{g(),u()},onError:n=>{console.error("Create staff errors:",n)}})},g=()=>{r("toggle-active")},u=()=>{o.name="",o.passcode="",o.role="",o.userid="",o.image=""};return(n,s)=>x.showModal?(_(),M("div",G,[e("div",J,[s[12]||(s[12]=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"},null,-1)),s[13]||(s[13]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",K,[e("div",Q,[e("div",W,[e("div",Z,[s[11]||(s[11]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"}," Add New Staff Member ",-1)),e("div",ee,[e("form",{onSubmit:U(m,["prevent"])},[e("div",se,[s[5]||(s[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Name",-1)),a(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>o.name=l),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[p,o.name]])]),e("div",te,[s[6]||(s[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Passcode",-1)),a(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>o.passcode=l),type:"password",required:"",minlength:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[p,o.passcode]])]),e("div",oe,[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Role",-1)),a(e("select",{"onUpdate:modelValue":s[2]||(s[2]=l=>o.role=l),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},s[7]||(s[7]=[e("option",{value:""},"Select Role",-1),e("option",{value:"ST"},"Staff (ST)",-1),e("option",{value:"SV"},"Supervisor (SV)",-1)]),512),[[V,o.role]])]),e("div",le,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"User ID",-1)),a(e("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>o.userid=l),type:"number",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[p,o.userid]])]),e("div",re,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Image URL (Optional)",-1)),a(e("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>o.image=l),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[p,o.image]])]),e("div",ie,[e("button",{type:"submit",disabled:w(t).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},D(w(t).processing?"Creating...":"Create Staff"),9,ne),e("button",{type:"button",onClick:g,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])])])])])):T("",!0)}},de={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},me={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ue={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},fe={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ce={class:"sm:flex sm:items-start"},pe={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},ge={class:"mt-4"},be={class:"mb-4"},xe={class:"mb-4"},ye={class:"mb-4"},ve={class:"mb-4"},we={class:"mb-4"},he={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Se=["disabled"],_e={__name:"Update",props:{showModal:{type:Boolean,default:!1},staffId:{type:[String,Number],default:null},name:{type:String,default:""},passcode:{type:String,default:""},role:{type:String,default:""},userid:{type:[String,Number],default:""},image:{type:String,default:""}},emits:["toggle-active"],setup(x,{emit:y}){const r=x,o=y,t=C({name:"",passcode:"",role:"",userid:"",image:""}),m=S({});E(()=>r.showModal,n=>{n&&(t.name=r.name,t.passcode=r.passcode,t.role=r.role,t.userid=r.userid,t.image=r.image||"")});const g=()=>{m.put(`/staff/${r.staffId}`,{data:t,onSuccess:()=>{u()},onError:n=>{console.error("Update staff errors:",n)}})},u=()=>{o("toggle-active")};return(n,s)=>x.showModal?(_(),M("div",de,[e("div",me,[s[12]||(s[12]=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"},null,-1)),s[13]||(s[13]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",ue,[e("div",fe,[e("div",ce,[e("div",pe,[s[11]||(s[11]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"}," Edit Staff Member ",-1)),e("div",ge,[e("form",{onSubmit:U(g,["prevent"])},[e("div",be,[s[5]||(s[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Name",-1)),a(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>t.name=l),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[p,t.name]])]),e("div",xe,[s[6]||(s[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Passcode",-1)),a(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>t.passcode=l),type:"password",required:"",minlength:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[p,t.passcode]])]),e("div",ye,[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Role",-1)),a(e("select",{"onUpdate:modelValue":s[2]||(s[2]=l=>t.role=l),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},s[7]||(s[7]=[e("option",{value:""},"Select Role",-1),e("option",{value:"ST"},"Staff (ST)",-1),e("option",{value:"SV"},"Supervisor (SV)",-1)]),512),[[V,t.role]])]),e("div",ve,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"User ID",-1)),a(e("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>t.userid=l),type:"number",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[p,t.userid]])]),e("div",we,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Image URL (Optional)",-1)),a(e("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>t.image=l),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[p,t.image]])]),e("div",he,[e("button",{type:"submit",disabled:w(m).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},D(w(m).processing?"Updating...":"Update Staff"),9,Se),e("button",{type:"button",onClick:u,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])])])])])):T("",!0)}},ke={class:"absolute adjust"},$e={class:"flex justify-start items-center"},Ce={class:"flex justify-start"},Pe={__name:"Index",props:{staff:{type:Array,required:!0}},setup(x){$.use(Y);const y=c(""),r=c(""),o=c(""),t=c(""),m=c(""),g=c(""),u=c(!1),n=c(!1),s=[{data:"id",title:"ID"},{data:"name",title:"Name"},{data:"role",title:"Role",render:function(f){return f==="ST"?"Staff":f==="SV"?"Supervisor":f}},{data:"passcode",title:"Passcode",render:function(){return"••••"}},{data:"storeid",title:"Store"},{data:null,render:"#action",title:"Actions"}],l={paging:!1,scrollX:!0,scrollY:"60vh",scrollCollapse:!0},j=(f,v,i,h,B,R)=>{y.value=f,r.value=v,o.value=i,t.value=h,m.value=B,g.value=R||"",u.value=!0},A=()=>{n.value=!0},q=()=>{u.value=!1},N=()=>{n.value=!1},F=S({}),I=(f,v)=>{confirm(`Are you sure you want to delete ${v}?`)&&F.delete(`/staff/${f}`,{onSuccess:()=>{},onError:i=>{console.error("Delete staff errors:",i),alert("Error deleting staff member")}})};return(f,v)=>(_(),H(L,{"active-tab":"STAFF"},{modals:b(()=>[d(ae,{"show-modal":n.value,onToggleActive:N},null,8,["show-modal"]),d(_e,{"show-modal":u.value,"staff-id":y.value,name:r.value,passcode:o.value,role:t.value,userid:m.value,image:g.value,onToggleActive:q},null,8,["show-modal","staff-id","name","passcode","role","userid","image"])]),main:b(()=>[d(X,null,{default:b(()=>[e("div",ke,[e("div",$e,[d(P,{type:"button",onClick:A,class:"m-6 bg-navy"},{default:b(()=>[d(z,{class:"h-4"})]),_:1})])]),d(w($),{data:x.staff,columns:s,class:"w-full relative display",options:l},{action:b(i=>[e("div",Ce,[d(k,{type:"button",onClick:h=>j(i.cellData.id,i.cellData.name,i.cellData.passcode,i.cellData.role,i.cellData.userid,i.cellData.image),class:"me-1"},{default:b(()=>[d(O,{class:"h-4"})]),_:2},1032,["onClick"]),d(k,{type:"button",onClick:h=>I(i.cellData.id,i.cellData.name),class:"me-1 text-red-600 hover:text-red-800"},{default:b(()=>v[0]||(v[0]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])),_:2},1032,["onClick"])])]),_:1},8,["data"])]),_:1})]),_:1}))}};export{Pe as default};

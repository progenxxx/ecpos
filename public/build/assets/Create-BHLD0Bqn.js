import{s as b,T as ie,d as M,l as ue,e as n,b as D,u as l,c as de,w as O,C as me,F as k,o as r,Z as ce,a as e,z as L,n as m,f as u,g as f,t as a,i as pe,j as E,v as C,x as Y,h as w}from"./app-CfytZ6uy.js";import{_ as xe}from"./AdminPanel-CL6jLfvg.js";import{_ as ge}from"./Main-O7zX48KL.js";import"./RetailGroup-2HMR2ftQ.js";import"./Logout-z3St95b0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                             */import"./Modal-BPjbBi2X.js";import"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-B1wW2mpq.js";import"./RetailItems-DVr2J4Jb.js";/* empty css                                                                */import"./Attendance-DXy5Tht_.js";import"./PartyCake143-CbFWaXlu.js";const be={class:"min-h-screen bg-gray-50"},fe={class:"lg:hidden sticky top-0 z-30 bg-white border-b border-gray-200 px-4 py-3"},ve={class:"flex items-center justify-between"},ye={class:"flex items-center space-x-3"},ke={class:"flex items-center space-x-2"},Ee={class:"hidden lg:block p-6 bg-white rounded-lg shadow-sm mb-6"},Ae={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},he={key:0,class:"mt-2 flex items-center"},we={class:"p-4 lg:p-0"},Pe={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-8"},Te={class:"bg-white rounded-lg shadow-sm p-4 lg:p-6"},Re={key:0,class:"mt-1 text-sm text-red-600"},Ce=["value"],_e={key:0,class:"mt-1 text-sm text-red-600"},Me={key:1,class:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-md"},De={class:"text-sm text-blue-800"},Oe={key:0},Ne={for:"parameter",class:"block text-sm font-medium text-gray-700 mb-2"},Fe={class:"relative"},Ie=["max","placeholder"],Se={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},Ue={key:1,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},je={key:0,class:"mt-1 text-sm text-red-600"},Ve={key:1,class:"mt-1 text-sm text-red-600"},Le={key:1,class:"hidden lg:block"},Be={class:"grid grid-cols-1 gap-3"},Ye=["for"],Ge={class:"relative"},ze=["id","onUpdate:modelValue","max","placeholder"],Xe={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},$e={key:1,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},He={key:0,class:"mt-1 text-xs text-red-600"},qe={key:1,class:"mt-1 text-xs text-red-600"},Qe={key:2,class:"lg:hidden p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200"},Ze={class:"text-sm font-medium text-gray-900 mb-3 flex items-center justify-between"},We={class:"space-y-2 text-sm"},Je={class:"flex justify-between"},Ke={class:"font-medium"},et={class:"flex justify-between"},tt={class:"font-medium text-red-600"},st={class:"flex justify-between border-t pt-2"},ot={class:"font-bold text-green-600"},lt={class:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4 lg:pt-6"},rt=["disabled"],nt={class:"hidden lg:block space-y-6"},at={class:"bg-white rounded-lg shadow-sm p-6"},it={key:0,class:"text-center py-8 text-gray-500"},ut={key:1,class:"space-y-4"},dt=["value"],mt={key:0,class:"space-y-3 p-4 bg-gray-50 rounded-md"},ct={class:"flex items-center justify-between mb-2"},pt={class:"flex justify-between items-center"},xt={class:"text-sm text-gray-900"},gt={class:"flex justify-between items-center"},bt={class:"text-sm text-red-600"},ft={class:"flex justify-between items-center"},vt={class:"text-sm text-gray-900"},yt={class:"flex justify-between items-center"},kt={class:"text-lg font-bold text-green-600"},Et={class:"bg-white rounded-lg shadow-sm p-6"},At={class:"space-y-4"},ht={class:"flex items-center space-x-3"},wt={class:"text-sm font-medium text-gray-900"},Pt={class:"text-sm text-gray-600"},Tt={class:"bg-white rounded-lg shadow-sm p-6"},Rt={class:"space-y-4"},Ct={class:"font-medium text-gray-900 mb-2"},_t={class:"text-sm text-gray-600 mb-3"},Mt={class:"text-xs text-gray-500"},Dt={key:0,class:"mt-1"},Ot={key:1,class:"mt-1"},Nt={key:2,class:"mt-1"},Ft={class:"lg:hidden fixed bottom-6 right-6 z-40"},It={key:0,class:"absolute bottom-16 right-0 bg-white rounded-lg shadow-lg border border-gray-200 py-2 w-56 transform transition-all duration-200 ease-out"},St={key:0,class:"ml-auto w-2 h-2 bg-purple-500 rounded-full"},Ut={key:0,class:"absolute -top-1 -right-1 w-4 h-4 bg-purple-500 rounded-full animate-pulse border-2 border-white"},jt={key:1,class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Vt={key:2,class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Lt={key:1,class:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end justify-center p-4"},Bt={class:"bg-white rounded-t-xl w-full max-w-md max-h-[80vh] overflow-y-auto"},Yt={class:"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 rounded-t-xl"},Gt={class:"flex items-center justify-between"},zt={class:"p-6 space-y-6"},Xt={class:"space-y-4"},$t=["for"],Ht={class:"relative"},qt=["id","onUpdate:modelValue","max","placeholder"],Qt={key:0,class:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none"},Zt={key:1,class:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none"},Wt={key:0,class:"mt-1 text-sm text-red-600"},Jt={key:1,class:"mt-1 text-sm text-red-600"},Kt={key:2,class:"mt-1 text-xs text-gray-500"},es={key:2,class:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end justify-center p-4"},ts={class:"bg-white rounded-t-xl w-full max-w-md max-h-[80vh] overflow-y-auto"},ss={class:"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 rounded-t-xl"},os={class:"flex items-center justify-between"},ls={class:"p-6 space-y-6"},rs=["value"],ns={key:0,class:"space-y-3 p-5 bg-gradient-to-br from-blue-50 via-green-50 to-purple-50 rounded-lg border-2 border-blue-200"},as={class:"flex items-center justify-between mb-3"},is={class:"flex justify-between items-center"},us={class:"text-lg font-semibold text-gray-900"},ds={class:"flex justify-between items-center"},ms={class:"text-lg font-semibold text-red-600"},cs={class:"flex justify-between items-center"},ps={class:"text-sm font-medium text-gray-900"},xs={class:"flex justify-between items-center"},gs={class:"text-2xl font-bold text-green-600"},bs={class:"grid grid-cols-2 gap-2"},fs=["onClick"],Ds={__name:"Create",props:{auth:{type:Object,required:!0,default:()=>({})},flash:{type:Object,default:()=>({})}},setup(N){const J=N,K=b(()=>{var i;return((i=J.auth)==null?void 0:i.user)||{}}),ee=b(()=>{var i;return((i=K.value)==null?void 0:i.role)||""}),te=b(()=>ee.value==="STORE"?ge:xe),o=ie({DISCOFFERNAME:"",PARAMETER:"",DISCOUNTTYPE:"",GRABFOOD_PARAMETER:"",FOODPANDA_PARAMETER:"",FOODPANDAMALL_PARAMETER:"",GRABFOODMALL_PARAMETER:"",MANILAPRICE_PARAMETER:"",MALLPRICE_PARAMETER:""}),B=[{value:"FIXED",label:"Fixed Amount",description:"Fixed amount off per item (cannot exceed item price)"},{value:"FIXEDTOTAL",label:"Fixed Total",description:"Fixed amount off the total bill"},{value:"PERCENTAGE",label:"Percentage",description:"Percentage off the total amount"}],A=[{key:"GRABFOOD_PARAMETER",label:"GrabFood",color:"green"},{key:"FOODPANDA_PARAMETER",label:"Foodpanda",color:"pink"},{key:"FOODPANDAMALL_PARAMETER",label:"Foodpanda Mall",color:"purple"},{key:"GRABFOODMALL_PARAMETER",label:"GrabFood Mall",color:"blue"},{key:"MANILAPRICE_PARAMETER",label:"Manila Price",color:"yellow"},{key:"MALLPRICE_PARAMETER",label:"Mall Price",color:"indigo"}],P=M(100),c=M("default"),h=M(!1),F=M(!1),I=M(!1),v=b(()=>o.DISCOUNTTYPE==="PERCENTAGE"),se=b(()=>{switch(o.DISCOUNTTYPE){case"PERCENTAGE":return"Percentage (%)";case"FIXED":case"FIXEDTOTAL":return"Amount (â‚±)";default:return"Value"}}),oe=b(()=>{switch(o.DISCOUNTTYPE){case"PERCENTAGE":return"Enter percentage (e.g., 10 for 10%)";case"FIXED":return"Enter fixed amount per item (e.g., 50.00)";case"FIXEDTOTAL":return"Enter fixed amount off total (e.g., 100.00)";default:return"Enter value"}}),le=i=>{switch(i){case"grabfood":return o.GRABFOOD_PARAMETER||o.PARAMETER;case"foodpanda":return o.FOODPANDA_PARAMETER||o.PARAMETER;case"foodpandamall":return o.FOODPANDAMALL_PARAMETER||o.PARAMETER;case"grabfoodmall":return o.GRABFOODMALL_PARAMETER||o.PARAMETER;case"manila":return o.MANILAPRICE_PARAMETER||o.PARAMETER;case"mall":return o.MALLPRICE_PARAMETER||o.PARAMETER;default:return o.PARAMETER}},d=b(()=>{const i=le(c.value);if(!i||!o.DISCOUNTTYPE||!P.value)return null;const t=P.value,p=parseFloat(i);let g=0,T=t;switch(o.DISCOUNTTYPE){case"FIXED":g=Math.min(p,t),T=t-g;break;case"FIXEDTOTAL":g=p,T=Math.max(0,t-g);break;case"PERCENTAGE":g=t*p/100,T=t-g;break}return{originalAmount:t,discountAmount:g.toFixed(2),finalAmount:T.toFixed(2),platform:c.value,parameterUsed:p}}),y=b(()=>{const i=[{value:"default",label:"Default",color:"gray"}];return A.forEach(t=>{const p=t.key.replace("_PARAMETER","").toLowerCase();i.push({value:p,label:t.label,color:t.color})}),i}),G=(i,t)=>{if(!t)return null;const p=parseFloat(t);return isNaN(p)||p<0?"Value must be a positive number":o.DISCOUNTTYPE==="PERCENTAGE"&&p>100?"Percentage cannot exceed 100%":null},S=b(()=>G("PARAMETER",o.PARAMETER)),R=i=>G(i,o[i]),U=b(()=>A.some(i=>o[i.key]&&o[i.key]!==""));ue(()=>o.DISCOUNTTYPE,()=>{o.PARAMETER="",A.forEach(i=>{o[i.key]=""})});const re=()=>{o.post(route("discountsv2.store"),{preserveScroll:!0,onSuccess:()=>{}})},x=i=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(i),ne=()=>{h.value=!h.value},_=()=>{h.value=!1},z=()=>{F.value=!F.value,_()},X=()=>{I.value=!I.value,_()},ae=()=>{o.reset(),o.clearErrors(),_()},$=()=>{o.PARAMETER&&A.forEach(i=>{o[i.key]=o.PARAMETER})},H=()=>{A.forEach(i=>{o[i.key]=""})},j=i=>{const t={green:"bg-green-100 text-green-800 border-green-200",pink:"bg-pink-100 text-pink-800 border-pink-200",purple:"bg-purple-100 text-purple-800 border-purple-200",blue:"bg-blue-100 text-blue-800 border-blue-200",yellow:"bg-yellow-100 text-yellow-800 border-yellow-200",indigo:"bg-indigo-100 text-indigo-800 border-indigo-200",gray:"bg-gray-100 text-gray-800 border-gray-200"};return t[i]||t.gray};return(i,t)=>(r(),n(k,null,[D(l(ce),{title:"Create New Discount"}),(r(),de(me(te.value),{"active-tab":"DISCOUNTS"},{main:O(()=>{var p,g,T,q,Q,Z,W;return[e("div",be,[e("div",fe,[e("div",ve,[e("div",ye,[D(l(L),{href:i.route("discountsv2.index"),class:"text-gray-600 hover:text-gray-900 transition-colors"},{default:O(()=>t[9]||(t[9]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])),_:1},8,["href"]),t[10]||(t[10]=e("div",null,[e("h1",{class:"text-lg font-semibold text-gray-900"},"Create Discount"),e("p",{class:"text-xs text-gray-600"},"Add new promotional offer")],-1))]),e("div",ke,[l(o).DISCOUNTTYPE?(r(),n("button",{key:0,onClick:X,class:m(["p-2 text-purple-600 hover:bg-purple-50 rounded-full transition-colors",{"bg-purple-100":U.value}])},t[11]||(t[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})],-1)]),2)):u("",!0),l(o).DISCOUNTTYPE?(r(),n("button",{key:1,onClick:z,class:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors"},t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]))):u("",!0)])])]),e("div",Ee,[e("div",Ae,[e("div",null,[t[14]||(t[14]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Create New Discount",-1)),t[15]||(t[15]=e("p",{class:"mt-1 text-sm text-gray-600"}," Add a new discount offer for your store with platform-specific pricing ",-1)),U.value?(r(),n("div",he,t[13]||(t[13]=[e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})]),f(" Platform-specific values configured ")],-1)]))):u("",!0)]),D(l(L),{href:i.route("discountsv2.index"),class:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-md transition-colors"},{default:O(()=>t[16]||(t[16]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),f(" Back to Discounts ")])),_:1},8,["href"])])]),N.flash.message?(r(),n("div",{key:0,class:m(["mb-4 lg:mb-6 px-4 py-2 rounded-md mx-4 lg:mx-0",N.flash.isSuccess?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},a(N.flash.message),3)):u("",!0),e("div",we,[e("div",Pe,[e("div",Te,[t[31]||(t[31]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4 lg:mb-6"},"Discount Information",-1)),e("form",{onSubmit:pe(re,["prevent"]),class:"space-y-4 lg:space-y-6"},[e("div",null,[t[17]||(t[17]=e("label",{for:"discountName",class:"block text-sm font-medium text-gray-700 mb-2"}," Discount Name * ",-1)),E(e("input",{id:"discountName","onUpdate:modelValue":t[0]||(t[0]=s=>l(o).DISCOFFERNAME=s),type:"text",placeholder:"Enter discount name (e.g., SENIOR CITIZEN, STUDENT DISCOUNT)",class:m(["w-full px-3 py-2 text-sm lg:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":l(o).errors.DISCOFFERNAME}]),required:""},null,2),[[C,l(o).DISCOFFERNAME]]),l(o).errors.DISCOFFERNAME?(r(),n("p",Re,a(l(o).errors.DISCOFFERNAME),1)):u("",!0)]),e("div",null,[t[19]||(t[19]=e("label",{for:"discountType",class:"block text-sm font-medium text-gray-700 mb-2"}," Discount Type * ",-1)),E(e("select",{id:"discountType","onUpdate:modelValue":t[1]||(t[1]=s=>l(o).DISCOUNTTYPE=s),class:m(["w-full px-3 py-2 text-sm lg:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":l(o).errors.DISCOUNTTYPE}]),required:""},[t[18]||(t[18]=e("option",{value:""},"Select discount type",-1)),(r(),n(k,null,w(B,s=>e("option",{key:s.value,value:s.value},a(s.label),9,Ce)),64))],2),[[Y,l(o).DISCOUNTTYPE]]),l(o).errors.DISCOUNTTYPE?(r(),n("p",_e,a(l(o).errors.DISCOUNTTYPE),1)):u("",!0),l(o).DISCOUNTTYPE?(r(),n("div",Me,[e("p",De,a((p=B.find(s=>s.value===l(o).DISCOUNTTYPE))==null?void 0:p.description),1)])):u("",!0)]),l(o).DISCOUNTTYPE?(r(),n("div",Oe,[e("label",Ne," Default "+a(se.value)+" * ",1),e("div",Fe,[E(e("input",{id:"parameter","onUpdate:modelValue":t[2]||(t[2]=s=>l(o).PARAMETER=s),type:"number",step:"0.01",min:"0",max:v.value?100:void 0,placeholder:oe.value,class:m(["w-full px-3 py-2 text-sm lg:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":l(o).errors.PARAMETER||S.value}]),required:""},null,10,Ie),[[C,l(o).PARAMETER]]),v.value?(r(),n("div",Se,t[20]||(t[20]=[e("span",{class:"text-gray-500 text-sm"},"%",-1)]))):l(o).DISCOUNTTYPE?(r(),n("div",Ue,t[21]||(t[21]=[e("span",{class:"text-gray-500 text-sm"},"â‚±",-1)]))):u("",!0)]),l(o).errors.PARAMETER?(r(),n("p",je,a(l(o).errors.PARAMETER),1)):S.value?(r(),n("p",Ve,a(S.value),1)):u("",!0),t[22]||(t[22]=e("p",{class:"mt-1 text-xs text-gray-500"}," This will be used as the fallback value for all platforms ",-1))])):u("",!0),l(o).DISCOUNTTYPE&&l(o).PARAMETER?(r(),n("div",Le,[e("div",{class:"flex items-center justify-between mb-3"},[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700"}," Platform-Specific Values (Optional) ",-1)),e("div",{class:"flex space-x-2"},[e("button",{type:"button",onClick:$,class:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors"}," Copy Default "),e("button",{type:"button",onClick:H,class:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors"}," Clear All ")])]),e("div",Be,[(r(),n(k,null,w(A,s=>e("div",{key:s.key,class:"relative"},[e("label",{for:s.key,class:"block text-xs font-medium text-gray-600 mb-1"},a(s.label),9,Ye),e("div",Ge,[E(e("input",{id:s.key,"onUpdate:modelValue":V=>l(o)[s.key]=V,type:"number",step:"0.01",min:"0",max:v.value?100:void 0,placeholder:`Override for ${s.label}`,class:m(["w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":l(o).errors[s.key]||R(s.key)}])},null,10,ze),[[C,l(o)[s.key]]]),v.value?(r(),n("div",Xe,t[24]||(t[24]=[e("span",{class:"text-gray-500 text-xs"},"%",-1)]))):(r(),n("div",$e,t[25]||(t[25]=[e("span",{class:"text-gray-500 text-xs"},"â‚±",-1)])))]),l(o).errors[s.key]?(r(),n("p",He,a(l(o).errors[s.key]),1)):R(s.key)?(r(),n("p",qe,a(R(s.key)),1)):u("",!0)])),64))])])):u("",!0),l(o).DISCOUNTTYPE&&l(o).PARAMETER&&d.value?(r(),n("div",Qe,[e("h3",Ze,[t[26]||(t[26]=f(" Quick Preview ")),e("span",{class:m(["px-2 py-1 text-xs font-medium rounded-full",j(((g=y.value.find(s=>s.value===c.value))==null?void 0:g.color)||"gray")])},a(((T=y.value.find(s=>s.value===c.value))==null?void 0:T.label)||"Default"),3)]),e("div",We,[e("div",Je,[t[27]||(t[27]=e("span",{class:"text-gray-600"},"Test Amount:",-1)),e("span",Ke,a(x(P.value)),1)]),e("div",et,[t[28]||(t[28]=e("span",{class:"text-gray-600"},"Discount:",-1)),e("span",tt,"-"+a(x(d.value.discountAmount)),1)]),e("div",st,[t[29]||(t[29]=e("span",{class:"font-medium text-gray-900"},"Final Amount:",-1)),e("span",ot,a(x(d.value.finalAmount)),1)])])])):u("",!0),e("div",lt,[D(l(L),{href:i.route("discountsv2.index"),class:"w-full sm:w-auto px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium rounded-md transition-colors text-center"},{default:O(()=>t[30]||(t[30]=[f(" Cancel ")])),_:1},8,["href"]),e("button",{type:"submit",disabled:l(o).processing||S.value||!l(o).DISCOFFERNAME||!l(o).DISCOUNTTYPE||!l(o).PARAMETER,class:"w-full sm:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},a(l(o).processing?"Creating...":"Create Discount"),9,rt)])],32)]),e("div",nt,[e("div",at,[t[41]||(t[41]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Discount Preview",-1)),l(o).DISCOUNTTYPE?(r(),n("div",ut,[e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Preview Platform ",-1)),E(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>c.value=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},[(r(!0),n(k,null,w(y.value,s=>(r(),n("option",{key:s.value,value:s.value},a(s.label),9,dt))),128))],512),[[Y,c.value]])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Test Amount (â‚±) ",-1)),E(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>P.value=s),type:"number",step:"0.01",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount to test discount"},null,512),[[C,P.value,void 0,{number:!0}]])]),d.value?(r(),n("div",mt,[e("div",ct,[t[35]||(t[35]=e("span",{class:"text-sm font-medium text-gray-700"},"Platform:",-1)),e("span",{class:m(["px-2 py-1 text-xs font-medium rounded-full",j(((q=y.value.find(s=>s.value===c.value))==null?void 0:q.color)||"gray")])},a(((Q=y.value.find(s=>s.value===c.value))==null?void 0:Q.label)||"Default"),3)]),e("div",pt,[t[36]||(t[36]=e("span",{class:"text-sm font-medium text-gray-700"},"Original Amount:",-1)),e("span",xt,a(x(d.value.originalAmount)),1)]),e("div",gt,[t[37]||(t[37]=e("span",{class:"text-sm font-medium text-gray-700"},"Discount Amount:",-1)),e("span",bt,"-"+a(x(d.value.discountAmount)),1)]),e("div",ft,[t[38]||(t[38]=e("span",{class:"text-sm font-medium text-gray-700"},"Using Value:",-1)),e("span",vt,a(v.value?d.value.parameterUsed+"%":x(d.value.parameterUsed)),1)]),t[40]||(t[40]=e("hr",{class:"border-gray-300"},null,-1)),e("div",yt,[t[39]||(t[39]=e("span",{class:"text-sm font-bold text-gray-900"},"Final Amount:",-1)),e("span",kt,a(x(d.value.finalAmount)),1)])])):u("",!0)])):(r(),n("div",it,t[32]||(t[32]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"text-base"},"Select a discount type to see preview",-1)])))]),e("div",Et,[t[42]||(t[42]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Platform Configuration",-1)),e("div",At,[(r(),n(k,null,w(A,s=>e("div",{key:s.key,class:m(["flex items-center justify-between p-3 border rounded-md",l(o)[s.key]?"border-blue-200 bg-blue-50":"border-gray-200"])},[e("div",ht,[e("span",{class:m(["inline-block w-3 h-3 rounded-full",l(o)[s.key]?"bg-blue-500":"bg-gray-300"])},null,2),e("span",wt,a(s.label),1)]),e("span",Pt,a(l(o)[s.key]?v.value?l(o)[s.key]+"%":"â‚±"+Number(l(o)[s.key]).toFixed(2):"Using default"),1)],2)),64))]),t[43]||(t[43]=e("div",{class:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md"},[e("p",{class:"text-xs text-yellow-800"},[e("strong",null,"Note:"),f(" Platform-specific values override the default value. If not set, the default value will be used for that platform. ")])],-1))]),e("div",Tt,[t[45]||(t[45]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Discount Types Guide",-1)),e("div",Rt,[(r(),n(k,null,w(B,s=>e("div",{key:s.value,class:m(["p-4 border rounded-md",l(o).DISCOUNTTYPE===s.value?"border-blue-500 bg-blue-50":"border-gray-200"])},[e("h3",Ct,a(s.label),1),e("p",_t,a(s.description),1),e("div",Mt,[t[44]||(t[44]=e("strong",null,"Example:",-1)),s.value==="FIXED"?(r(),n("div",Dt," â‚±10 off per item â†’ Item costs â‚±50, customer pays â‚±40 ")):s.value==="FIXEDTOTAL"?(r(),n("div",Ot," â‚±100 off total â†’ Bill is â‚±500, customer pays â‚±400 ")):s.value==="PERCENTAGE"?(r(),n("div",Nt," 20% off â†’ Bill is â‚±500, customer pays â‚±400 ")):u("",!0)])],2)),64))])])])])]),e("div",Ft,[h.value?(r(),n("div",It,[l(o).DISCOUNTTYPE&&l(o).PARAMETER?(r(),n("button",{key:0,onClick:X,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center transition-colors"},[t[46]||(t[46]=e("svg",{class:"h-4 w-4 mr-3 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})],-1)),t[47]||(t[47]=f(" Platform Settings ")),U.value?(r(),n("span",St)):u("",!0)])):u("",!0),l(o).DISCOUNTTYPE?(r(),n("button",{key:1,onClick:z,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center transition-colors"},t[48]||(t[48]=[e("svg",{class:"h-4 w-4 mr-3 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 616 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),f(" Preview Calculator ")]))):u("",!0),e("button",{onClick:ae,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center transition-colors"},t[49]||(t[49]=[e("svg",{class:"h-4 w-4 mr-3 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),f(" Reset Form ")])),D(l(L),{href:i.route("discountsv2.index"),onClick:_,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center transition-colors"},{default:O(()=>t[50]||(t[50]=[e("svg",{class:"h-4 w-4 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),f(" View All Discounts ")])),_:1},8,["href"]),t[51]||(t[51]=e("div",{class:"border-t border-gray-200 my-2"},null,-1)),t[52]||(t[52]=e("div",{class:"px-4 py-2"},[e("p",{class:"text-xs text-gray-500 mb-2"},"Need Help?"),e("p",{class:"text-xs text-gray-600 leading-relaxed"}," Configure platform-specific pricing to offer different discounts across delivery platforms. ")],-1))])):u("",!0),e("button",{onClick:ne,class:m(["bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg transition-all duration-200 ease-out transform hover:scale-105 relative",{"rotate-45":h.value}])},[U.value&&!h.value?(r(),n("div",Ut)):u("",!0),h.value?(r(),n("svg",Vt,t[54]||(t[54]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):(r(),n("svg",jt,t[53]||(t[53]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},null,-1)])))],2)]),I.value?(r(),n("div",Lt,[e("div",Bt,[e("div",Yt,[e("div",Gt,[t[56]||(t[56]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Platform Settings",-1)),e("button",{onClick:t[5]||(t[5]=s=>I.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},t[55]||(t[55]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("div",zt,[e("div",{class:"flex space-x-2"},[e("button",{onClick:$,class:"flex-1 px-3 py-2 bg-blue-100 text-blue-700 text-sm rounded-lg hover:bg-blue-200 transition-colors"}," Copy Default to All "),e("button",{onClick:H,class:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 transition-colors"}," Clear All ")]),e("div",Xt,[(r(),n(k,null,w(A,s=>e("div",{key:s.key},[e("label",{for:`mobile-${s.key}`,class:"block text-sm font-medium text-gray-700 mb-2"},a(s.label),9,$t),e("div",Ht,[E(e("input",{id:`mobile-${s.key}`,"onUpdate:modelValue":V=>l(o)[s.key]=V,type:"number",step:"0.01",min:"0",max:v.value?100:void 0,placeholder:`Override for ${s.label}`,class:m(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":l(o).errors[s.key]||R(s.key)}])},null,10,qt),[[C,l(o)[s.key]]]),v.value?(r(),n("div",Qt,t[57]||(t[57]=[e("span",{class:"text-gray-500 text-base"},"%",-1)]))):(r(),n("div",Zt,t[58]||(t[58]=[e("span",{class:"text-gray-500 text-base"},"â‚±",-1)])))]),l(o).errors[s.key]?(r(),n("p",Wt,a(l(o).errors[s.key]),1)):R(s.key)?(r(),n("p",Jt,a(R(s.key)),1)):(r(),n("p",Kt,a(l(o)[s.key]?"Custom value set":"Will use default value"),1))])),64))]),t[59]||(t[59]=e("div",{class:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg"},[e("p",{class:"text-xs text-yellow-800"},[e("strong",null,"Note:"),f(" Platform-specific values override the default value. Leave empty to use the default value for that platform. ")])],-1))])])])):u("",!0),F.value?(r(),n("div",es,[e("div",ts,[e("div",ss,[e("div",os,[t[61]||(t[61]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Discount Calculator",-1)),e("button",{onClick:t[6]||(t[6]=s=>F.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},t[60]||(t[60]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("div",ls,[e("div",null,[t[62]||(t[62]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Preview Platform ",-1)),E(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>c.value=s),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},[(r(!0),n(k,null,w(y.value,s=>(r(),n("option",{key:s.value,value:s.value},a(s.label),9,rs))),128))],512),[[Y,c.value]])]),e("div",null,[t[63]||(t[63]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Test Amount (â‚±) ",-1)),E(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>P.value=s),type:"number",step:"0.01",min:"0",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount to test discount"},null,512),[[C,P.value,void 0,{number:!0}]])]),d.value?(r(),n("div",ns,[e("div",as,[t[64]||(t[64]=e("span",{class:"text-sm font-medium text-gray-700"},"Testing Platform:",-1)),e("span",{class:m(["px-3 py-1 text-xs font-medium rounded-full",j(((Z=y.value.find(s=>s.value===c.value))==null?void 0:Z.color)||"gray")])},a(((W=y.value.find(s=>s.value===c.value))==null?void 0:W.label)||"Default"),3)]),e("div",is,[t[65]||(t[65]=e("span",{class:"text-sm font-medium text-gray-700"},"Original Amount:",-1)),e("span",us,a(x(d.value.originalAmount)),1)]),e("div",ds,[t[66]||(t[66]=e("span",{class:"text-sm font-medium text-gray-700"},"Discount Amount:",-1)),e("span",ms,"-"+a(x(d.value.discountAmount)),1)]),e("div",cs,[t[67]||(t[67]=e("span",{class:"text-sm font-medium text-gray-700"},"Using Value:",-1)),e("span",ps,a(v.value?d.value.parameterUsed+"%":x(d.value.parameterUsed)),1)]),t[69]||(t[69]=e("hr",{class:"border-gray-300"},null,-1)),e("div",xs,[t[68]||(t[68]=e("span",{class:"text-base font-bold text-gray-900"},"Customer Pays:",-1)),e("span",gs,a(x(d.value.finalAmount)),1)])])):u("",!0),e("div",null,[t[70]||(t[70]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Quick Platform Switch",-1)),e("div",bs,[(r(!0),n(k,null,w(y.value.slice(0,6),s=>(r(),n("button",{key:s.value,onClick:V=>c.value=s.value,class:m(["px-3 py-2 text-xs rounded-lg transition-colors border",c.value===s.value?j(s.color)+" border-current":"bg-gray-100 text-gray-700 border-gray-200 hover:bg-gray-200"])},a(s.label),11,fs))),128))])])])])])):u("",!0),h.value?(r(),n("div",{key:3,onClick:_,class:"lg:hidden fixed inset-0 bg-black bg-opacity-25 z-30"})):u("",!0)])]}),_:1}))],64))}};export{Ds as default};

import{u as P}from"./vue-router-Gt7YD1qj.js";import{T as h,o as b,c as y,w as n,b as e,i as E,a as r,u as s,j as M,s as C,e as k,F,h as O,t as j,n as N,g as $,k as H,l as T,d as _,p as L,f as z}from"./app-DIsI2h6N.js";import{M as q}from"./DaisyModal-BYmrtLkj.js";import{_ as V}from"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-BHRlHpU4.js";import{_ as d,a as w,b as u}from"./InputError-CQ9k2kyq.js";import{F as B}from"./FormComponent-C5C7769U.js";import{_ as G}from"./AdminPanel-4mme3aov.js";import{_ as W}from"./Excel-Bo7UWziy.js";import{A as X}from"./Add-DQTJFhMd.js";import{e as Y}from"./editblue-I502SMJn.js";import{T as J}from"./TableContainer-BvhjGUIg.js";import{P as U,D as K}from"./dataTables-CYg83-KT.js";import"./Modal-DKCN2m9N.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                   */import"./RetailGroup-g15s03XT.js";import"./Logout-CSswU4gJ.js";/* empty css                                                             */import"./RetailItems-BxtVv693.js";import"./FileSaver.min-Bn9BTt4h.js";import"./exceljs.min-BCSGA5zn.js";import"./SuccessButton-C3nHCW3W.js";import"./Excel-upFWTmjf.js";const Q={class:"grid grid-cols-4"},Z={class:"col-span-2"},ee={class:"col-span-2 ml-2"},se={class:"col-span-2"},oe={class:"col-span-2 ml-2"},ae=["value"],le={class:"col-span-2"},te={class:"col-span-2 ml-2"},re={__name:"Create",props:{showModal:{type:Boolean,default:!1},rbostoretables:{type:Array,required:!0}},setup(f){const o=h({name:"",role:"",email:"",storeid:"",password:""}),c=m=>{o.storeid=m},a=()=>{o.post("/signup",{preserveScroll:!0,onSuccess:()=>{o.reset()},onError:m=>{console.error(m)},data:{...o.data,selectStore:o.storeid}}),location.reload()};return(m,l)=>(b(),y(q,{title:"CREATE NEW USERS",onToggleActive:m.toggleActive,"show-modal":f.showModal},{content:n(()=>[e(B,{onSubmit:E(a,["prevent"])},{default:n(()=>[r("div",Q,[r("div",Z,[e(d,{for:"name",value:"Name"}),e(w,{id:"name",modelValue:s(o).name,"onUpdate:modelValue":l[0]||(l[0]=t=>s(o).name=t),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),e(u,{class:"mt-2",message:s(o).errors.name},null,8,["message"])]),r("div",ee,[e(d,{for:"email",value:"Email"}),e(w,{id:"email",modelValue:s(o).email,"onUpdate:modelValue":l[1]||(l[1]=t=>s(o).email=t),type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),e(u,{class:"mt-2",message:s(o).errors.email},null,8,["message"])]),r("div",se,[e(d,{for:"Role",value:"Role"}),M(r("select",{id:"role","onUpdate:modelValue":l[2]||(l[2]=t=>s(o).role=t),className:"select select-bordered w-full"},l[7]||(l[7]=[r("option",{value:"ADMIN"}," ADMIN ",-1),r("option",{value:"STORE"}," STORE ",-1),r("option",{value:"OPIC"}," OPIC ",-1)]),512),[[C,s(o).role]]),e(u,{class:"mt-2",message:s(o).errors.role},null,8,["message"])]),r("div",oe,[e(d,{for:"StoreName",value:"StoreName"}),M(r("select",{id:"storeid","onUpdate:modelValue":l[3]||(l[3]=t=>s(o).storeid=t),class:"select select-bordered w-full",onChange:l[4]||(l[4]=t=>c(s(o).storeid))},[(b(!0),k(F,null,O(f.rbostoretables,t=>(b(),k("option",{key:t.storeid,value:t.NAME},j(t.NAME),9,ae))),128))],544),[[C,s(o).storeid]]),e(u,{class:"mt-2",message:s(o).errors.storeid},null,8,["message"])]),r("div",le,[e(d,{for:"password",value:"Password"}),e(w,{id:"password",modelValue:s(o).password,"onUpdate:modelValue":l[5]||(l[5]=t=>s(o).password=t),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"new-password"},null,8,["modelValue"]),e(u,{class:"mt-2",message:s(o).errors.password},null,8,["message"])]),r("div",te,[e(d,{for:"password_confirmation",value:"Confirm Password"}),e(w,{id:"password_confirmation",modelValue:s(o).password_confirmation,"onUpdate:modelValue":l[6]||(l[6]=t=>s(o).password_confirmation=t),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"new-password"},null,8,["modelValue"]),e(u,{class:"mt-2",message:s(o).errors.password_confirmation},null,8,["message"])])])]),_:1})]),buttons:n(()=>[e(V,{type:"submit",onClick:a,disabled:s(o).processing,class:N({"opacity-25":s(o).processing})},{default:n(()=>l[8]||(l[8]=[$(" SUBMIT ")])),_:1},8,["disabled","class"])]),_:1},8,["onToggleActive","show-modal"]))}},ne={class:"col-span-6 sm:col-span-4"},me={class:"col-span-6 sm:col-span-4"},ie={class:"col-span-6 sm:col-span-4"},de={class:"col-span-6 sm:col-span-4"},ue={__name:"Update",props:{name:{type:[String,Number],required:!0},email:{type:[String,Number],required:!0},showModal:{type:Boolean,default:!1}},setup(f,{emit:o}){const c=f,a=h({name:"",email:"",password:"",password_confirmation:""}),m=()=>{a.patch("/signup/patch",{preserveScroll:!0}),location.reload()},l=o,t=()=>{l("toggleActive")};return H(()=>{a.name=c.name,a.email=c.email,T(()=>c.name,v=>{a.name=v}),T(()=>c.email,v=>{a.email=v})}),(v,i)=>(b(),y(q,{title:"Update Form",onToggleActive:t,"show-modal":f.showModal},{content:n(()=>[e(B,{onSubmit:E(m,["prevent"])},{default:n(()=>[r("div",ne,[e(d,{for:"name",value:"name"}),e(w,{id:"name",modelValue:s(a).name,"onUpdate:modelValue":i[0]||(i[0]=p=>s(a).name=p),type:"text",class:"mt-1 block w-full bg-blue-50","is-error":!!s(a).errors.name,disabled:""},null,8,["modelValue","is-error"]),e(u,{message:s(a).errors.name,class:"mt-2"},null,8,["message"])]),r("div",me,[e(d,{for:"email",value:"email",class:"pt-4"}),e(w,{id:"email",modelValue:s(a).email,"onUpdate:modelValue":i[1]||(i[1]=p=>s(a).email=p),"is-error":!!s(a).errors.email,type:"text",class:"mt-1 block w-full"},null,8,["modelValue","is-error"]),e(u,{message:s(a).errors.email,class:"mt-2"},null,8,["message"])]),r("div",ie,[e(d,{for:"password",value:"Password"}),e(w,{id:"password",modelValue:s(a).password,"onUpdate:modelValue":i[2]||(i[2]=p=>s(a).password=p),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"new-password"},null,8,["modelValue"]),e(u,{class:"mt-2",message:s(a).errors.password},null,8,["message"])]),r("div",de,[e(d,{for:"password_confirmation",value:"Confirm Password"}),e(w,{id:"password_confirmation",modelValue:s(a).password_confirmation,"onUpdate:modelValue":i[3]||(i[3]=p=>s(a).password_confirmation=p),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"new-password"},null,8,["modelValue"]),e(u,{class:"mt-2",message:s(a).errors.password_confirmation},null,8,["message"])])]),_:1})]),buttons:n(()=>[e(V,{type:"submit",onClick:m,disabled:s(a).processing,class:N({"opacity-25":s(a).processing})},{default:n(()=>i[4]||(i[4]=[$(" UPDATE ")])),_:1},8,["disabled","class"])]),_:1},8,["show-modal"]))}},ce={class:"absolute adjust"},pe={class:"flex justify-start items-center"},fe={class:"flex justify-start"},Pe={__name:"signup",props:{Users:{type:Array,required:!0},rbostoretables:{type:Array,required:!0}},setup(f){U.use(K),_("");const o=_(""),c=_(""),a=_(!1),m=_(!1),l=f,t=[{data:"name",title:"Name"},{data:"email",title:"Email"},{data:"storeid",title:"StoreBranch"},{data:null,render:"#action",title:"Actions"}],v={paging:!1,scrollX:!0,scrollY:"60vh",scrollCollapse:!0},i=(g,S)=>{o.value=g,c.value=S,a.value=!0},p=()=>{m.value=!0},R=()=>{a.value=!1},D=()=>{m.value=!1},x=g=>{console.log("Selected rbostoretables:",g)};return P(),(g,S)=>{const I=L("TransparentButton");return b(),y(G,{"active-tab":"REGISTER"},{modals:n(()=>[e(re,{"show-modal":m.value,onToggleActive:D,rbostoretables:l.rbostoretables,onSelectItem:x},null,8,["show-modal","rbostoretables"]),e(ue,{"show-modal":a.value,name:o.value,email:c.value,onToggleActive:R},null,8,["show-modal","name","email"])]),main:n(()=>[e(J,null,{default:n(()=>[r("div",ce,[r("div",pe,[g.isAdmin?(b(),y(W,{key:0,data:g.items,headers:["STORENAME","EMAIL"],"row-name-props":["storeid","email"],class:"mt-4 sm:mt-0 sm:ml-4 relative display"},null,8,["data"])):z("",!0),e(V,{type:"button",onClick:p,class:"m-6 bg-navy"},{default:n(()=>[e(X,{class:"h-4"})]),_:1})])]),e(s(U),{data:f.Users,columns:t,class:"w-full relative display",options:v},{action:n(A=>[r("div",fe,[e(I,{type:"button",onClick:we=>i(A.cellData.name,A.cellData.email),class:"me-1"},{default:n(()=>[e(Y,{class:"h-6 cursor-pointer"})]),_:2},1032,["onClick"])])]),_:1},8,["data"])]),_:1})]),_:1})}}};export{Pe as default};

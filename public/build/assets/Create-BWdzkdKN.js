import{T as U,d,q as L,k as O,l as R,o as u,c as x,w as c,a as r,i as J,b as a,u as o,j as M,v as V,e as p,F as k,h as q,t as C,f as T,n as S,g as B}from"./app-CzESy9Lv.js";import{M as E}from"./Modal-Cu8sf7v_.js";import{_ as $}from"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-tx95LcV3.js";import{_ as f,a as y,b as v}from"./InputError-B0SuAqe_.js";/* empty css                                                               */import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"grid grid-cols-3 gap-4 h-full"},Q={class:"col-span-3"},j={class:"col-span-3"},Y={key:0,class:"absolute w-full mt-1 !bg-white border rounded-md shadow-lg max-h-60 overflow-auto z-10"},G=["onMousedown"],H={class:"col-span-3"},K={__name:"Create",props:{showModal:Boolean,JOURNALID:String,items:{type:Array,required:!0}},emits:["toggleActive"],setup(g,{emit:_}){const b=_,m=g,e=U({JOURNALID:"",itemname:"",qty:"",unitid:""}),n=d(""),i=d(!1),I=d(null),h=L(()=>m.items.filter(l=>l.itemname.toLowerCase().includes(n.value.toLowerCase())));function A(l){I.value=l,n.value=l.itemname,e.itemname=l.itemid,i.value=!1}function N(){setTimeout(()=>{i.value=!1},100)}const w=()=>{e.post("/ItemOrders",{preserveScroll:!0,onSuccess:()=>{e.reset(),location.reload()}})},D=()=>{b("toggleActive")};return O(()=>{e.JOURNALID=m.JOURNALID,R(()=>m.JOURNALID,l=>{e.JOURNALID=l})}),(l,s)=>(u(),x(E,{title:"ORDER ENTRIES",onToggleActive:D,"show-modal":g.showModal},{content:c(()=>[r("form",{onSubmit:J(w,["prevent"]),class:"px-2 py-3 max-h-[50vh] lg:max-h-[70vh] overflow-y-auto"},[r("div",z,[r("div",Q,[a(f,{for:"JOURNALID",value:"JOURNALID"}),a(y,{id:"JOURNALID",modelValue:o(e).JOURNALID,"onUpdate:modelValue":s[0]||(s[0]=t=>o(e).JOURNALID=t),type:"text",class:"mt-1 block w-full input !bg-white !text-black","is-error":!!o(e).errors.JOURNALID,autofocus:"",disabled:""},null,8,["modelValue","is-error"]),a(v,{message:o(e).errors.JOURNALID,class:"mt-2"},null,8,["message"])]),r("div",j,[a(f,{for:"itemname",value:"ITEMNAME"}),M(r("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=t=>n.value=t),onFocus:s[2]||(s[2]=t=>i.value=!0),onBlur:N,placeholder:"Search items...",class:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[V,n.value]]),i.value?(u(),p("div",Y,[(u(!0),p(k,null,q(h.value,t=>(u(),p("div",{key:t.itemid,onMousedown:P=>A(t),class:"px-4 py-2 cursor-pointer hover:bg-gray-100"},C(t.itemname),41,G))),128))])):T("",!0),a(v,{message:o(e).errors.itemname,class:"mt-2"},null,8,["message"])]),r("div",H,[a(f,{for:"qty",value:"QTY"}),a(y,{id:"qty",modelValue:o(e).qty,"onUpdate:modelValue":s[3]||(s[3]=t=>o(e).qty=t),type:"number",class:"mt-1 block w-full",required:"",autocomplete:"qty"},null,8,["modelValue"]),a(v,{message:o(e).errors.qty,class:"mt-2"},null,8,["message"])])])],32)]),buttons:c(()=>[a($,{type:"submit",onClick:w,disabled:o(e).processing,class:S({"opacity-25":o(e).processing})},{default:c(()=>s[4]||(s[4]=[B(" SUBMIT ")])),_:1},8,["disabled","class"])]),_:1},8,["show-modal"]))}},oe=F(K,[["__scopeId","data-v-c00bc7d4"]]);export{oe as C};

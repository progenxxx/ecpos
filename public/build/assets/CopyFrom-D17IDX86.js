import{T as h,d as m,s as N,k as O,l as R,o as b,c as _,w as c,a as o,i as J,b as t,u as s,j as V,v as E,e as L,F as B,h as F,t as M,f as C,n as x,g as T}from"./app-PtKpDxL3.js";import{M as S}from"./Modal-B0NwKHOQ.js";import{_ as k}from"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-DMiA-fcE.js";import{_ as A,a as U,b as y}from"./InputError-dzOUU8D2.js";import{_ as W}from"./SelectOption-DoJD07ek.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"grid grid-cols-3 gap-4 h-full"},z={class:"col-span-3"},P={class:"col-span-3"},j={key:0,class:"absolute w-full mt-1 !bg-white border rounded-md shadow-lg max-h-60 overflow-auto z-10"},H=["onMousedown"],Q={class:"col-span-3"},Y={class:"col-span-3"},K={__name:"Create",props:{showModal:Boolean,JOURNALID:String,items:{type:Array,required:!0}},emits:["toggleActive"],setup(g,{emit:I}){const w=I,d=g,e=h({JOURNALID:"",itemname:"",reason:"",qty:"",unitid:""}),f=m(""),r=m(!1),v=m(null),a=N(()=>d.items.filter(p=>p.itemname.toLowerCase().includes(f.value.toLowerCase())));function l(p){v.value=p,f.value=p.itemname,e.itemname=p.itemid,e.unitid=p.unitid,r.value=!1}function i(){setTimeout(()=>{r.value=!1},100)}const D=()=>{e.post("/WasteItem",{preserveScroll:!0,onSuccess:()=>{e.reset(),location.reload()}})},q=()=>{w("toggleActive")};return O(()=>{e.JOURNALID=d.JOURNALID,R(()=>d.JOURNALID,p=>{e.JOURNALID=p})}),(p,n)=>(b(),_(S,{title:"WASTE ENTRIES",onToggleActive:q,"show-modal":g.showModal},{content:c(()=>[o("form",{onSubmit:J(D,["prevent"]),class:"px-2 py-3 max-h-[50vh] lg:max-h-[70vh] overflow-y-auto"},[o("div",G,[o("div",z,[t(A,{for:"JOURNALID",value:"JOURNALID"}),t(U,{id:"JOURNALID",modelValue:s(e).JOURNALID,"onUpdate:modelValue":n[0]||(n[0]=u=>s(e).JOURNALID=u),type:"text",class:"mt-1 block w-full input !bg-white !text-black","is-error":!!s(e).errors.JOURNALID,autofocus:"",disabled:""},null,8,["modelValue","is-error"]),t(y,{message:s(e).errors.JOURNALID,class:"mt-2"},null,8,["message"])]),o("div",P,[t(A,{for:"itemname",value:"ITEMNAME"}),V(o("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=u=>f.value=u),onFocus:n[2]||(n[2]=u=>r.value=!0),onBlur:i,placeholder:"Search items...",class:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[E,f.value]]),r.value?(b(),L("div",j,[(b(!0),L(B,null,F(a.value,u=>(b(),L("div",{key:u.itemid,onMousedown:ne=>l(u),class:"px-4 py-2 cursor-pointer hover:bg-gray-100"},M(u.itemname),41,H))),128))])):C("",!0),t(y,{message:s(e).errors.itemname,class:"mt-2"},null,8,["message"])]),o("div",Q,[t(A,{for:"Waste Type",value:"Waste Type"}),t(W,{id:"reason",modelValue:s(e).reason,"onUpdate:modelValue":n[3]||(n[3]=u=>s(e).reason=u),"is-error":!!s(e).errors.reason,class:"mt-1 block w-full !bg-white"},{default:c(()=>n[5]||(n[5]=[o("option",{disabled:"",value:""},"Select an option",-1),o("option",null,"THROW AWAY",-1),o("option",null,"EARLY MOLDS",-1),o("option",null,"PULL OUT",-1),o("option",null,"RAT BITES",-1),o("option",null,"ANT BITES",-1)])),_:1},8,["modelValue","is-error"]),t(y,{message:s(e).errors.reason,class:"mt-2"},null,8,["message"])]),o("div",Y,[t(A,{for:"qty",value:"QTY"}),t(U,{id:"qty",modelValue:s(e).qty,"onUpdate:modelValue":n[4]||(n[4]=u=>s(e).qty=u),type:"number",class:"mt-1 block w-full",required:"",autocomplete:"qty"},null,8,["modelValue"]),t(y,{message:s(e).errors.qty,class:"mt-2"},null,8,["message"])])])],32)]),buttons:c(()=>[t(k,{type:"submit",onClick:D,disabled:s(e).processing,class:x({"opacity-25":s(e).processing})},{default:c(()=>n[6]||(n[6]=[T(" SUBMIT ")])),_:1},8,["disabled","class"])]),_:1},8,["show-modal"]))}},ge=$(K,[["__scopeId","data-v-84cfaae0"]]),X={key:0,class:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 z-50"},Z={class:"grid grid-cols-3 gap-4 h-full"},ee={class:"col-span-3"},se={__name:"GetBWP",props:{showModal:Boolean,inventjournaltransrepos:{type:Array,required:!1},JOURNALID:String,items:{type:Array,required:!0}},emits:["toggleActive"],setup(g,{emit:I}){const w=I,d=g,e=h({JOURNALID:"",itemname:"",qty:"",unitid:""}),f=m("");m(!1),m(null);const r=m(!1);N(()=>d.items.filter(l=>l.itemname.toLowerCase().includes(f.value.toLowerCase())));const v=()=>{console.log("Submitting form..."),r.value=!0,e.patch("/WasteItem/getbwproducts",{preserveScroll:!0,onSuccess:()=>{console.log("Form submission successful."),r.value=!1,a()},onError:l=>{console.error("Form submission error:",l),r.value=!1}})},a=()=>{w("toggleActive")};return O(()=>{e.JOURNALID=d.JOURNALID,R(()=>d.JOURNALID,l=>{e.JOURNALID=l})}),(l,i)=>(b(),_(S,{title:"GET BW PRODUCTS",onToggleActive:a,"show-modal":g.showModal},{content:c(()=>[o("form",{onSubmit:J(v,["prevent"]),class:"px-2 py-3 max-h-[50vh] lg:max-h-[70vh] overflow-y-auto"},[r.value?(b(),L("div",X,i[1]||(i[1]=[o("div",{class:"spinner"},null,-1)]))):C("",!0),o("div",Z,[o("div",ee,[t(A,{for:"INFO",value:"Generate ID NO:"}),t(U,{id:"JOURNALID",modelValue:s(e).JOURNALID,"onUpdate:modelValue":i[0]||(i[0]=D=>s(e).JOURNALID=D),type:"text",class:"mt-1 block w-full input !bg-gray-100 !text-black","is-error":!!s(e).errors.JOURNALID,autofocus:"",disabled:""},null,8,["modelValue","is-error"]),t(y,{message:s(e).errors.JOURNALID,class:"mt-2"},null,8,["message"])])])],32)]),buttons:c(()=>[t(k,{type:"submit",onClick:v,disabled:s(e).processing||r.value,class:x({"opacity-25":s(e).processing||r.value})},{default:c(()=>[T(M(r.value?"Loading...":"GET ITEMS"),1)]),_:1},8,["disabled","class"])]),_:1},8,["show-modal"]))}},fe=$(se,[["__scopeId","data-v-fae11916"]]),oe={class:"grid grid-cols-3 gap-4 h-full"},te={class:"col-span-3"},le={class:"col-span-3"},re={class:"relative"},ae=["placeholder"],ve={__name:"CopyFrom",props:{showModal:Boolean,inventjournaltransrepos:{type:Array,required:!1},JOURNALID:String,items:{type:Array,required:!0}},emits:["toggleActive"],setup(g,{emit:I}){const w=I,d=g,e=h({JOURNALID:"",itemname:"",qty:"",unitid:"",EndDate:""}),f=m("");m(!1),m(null),N(()=>d.items.filter(a=>a.itemname.toLowerCase().includes(f.value.toLowerCase())));const r=()=>{console.log("Submitting form..."),e.patch("/ItemOrders/getbwproducts",{preserveScroll:!0,onSuccess:()=>{console.log("Form submission successful."),v()},onError:a=>{console.error("Form submission error:",a)}})},v=()=>{w("toggleActive")};return O(()=>{e.JOURNALID=d.JOURNALID,R(()=>d.JOURNALID,a=>{e.JOURNALID=a})}),(a,l)=>(b(),_(S,{title:"GET BW PRODUCTS",onToggleActive:v,"show-modal":g.showModal},{content:c(()=>[o("form",{onSubmit:J(r,["prevent"]),class:"px-2 py-3 max-h-[50vh] lg:max-h-[70vh] overflow-y-auto"},[o("div",oe,[o("div",te,[t(A,{for:"INFO",value:"Generate ID NO:"}),t(U,{id:"JOURNALID",modelValue:s(e).JOURNALID,"onUpdate:modelValue":l[0]||(l[0]=i=>s(e).JOURNALID=i),type:"text",class:"mt-1 block w-full input","is-error":!!s(e).errors.JOURNALID,autofocus:"",disabled:""},null,8,["modelValue","is-error"]),t(y,{message:s(e).errors.JOURNALID,class:"mt-2"},null,8,["message"])]),o("div",le,[o("div",re,[l[3]||(l[3]=o("div",{class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},[o("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})])],-1)),V(o("input",{id:"EndDate",type:"date","onUpdate:modelValue":l[1]||(l[1]=i=>s(e).EndDate=i),onInput:l[2]||(l[2]=(...i)=>a.formattedDate2&&a.formattedDate2(...i)),placeholder:a.formattedDate2,class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,40,ae),[[E,s(e).EndDate]]),t(y,{message:s(e).errors.EndDate,class:"mt-2"},null,8,["message"])])])])],32)]),buttons:c(()=>[t(k,{type:"submit",onClick:r,disabled:s(e).processing,class:x({"opacity-25":s(e).processing})},{default:c(()=>l[4]||(l[4]=[T(" GET ITEMS ")])),_:1},8,["disabled","class"])]),_:1},8,["show-modal"]))}};export{ge as C,fe as G,ve as _};

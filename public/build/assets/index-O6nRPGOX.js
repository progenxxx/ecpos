import{_ as q,a as x,b as Y,G as H}from"./Group-nbYzvu_x.js";import{_ as r}from"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-BwnXT4mO.js";import{_ as C}from"./DangerButton-kShkXYJG.js";import{T as V}from"./TableContainer-CuVhNmKS.js";import{_ as j}from"./RetailPanel-DTn-dPNW.js";import{A as X}from"./Add-XrF601ot.js";import{B as z}from"./Back-CNiKmmOk.js";import{R as J}from"./Refresh-Bd0_S2uH.js";import{P as T,D as K}from"./dataTables-Re_5fNvq.js";import{d as a,s as Q,c as W,w as s,o as Z,b as l,a as b,u as ee,g as w}from"./app-BNibTCyr.js";import"./Modal-BIe7acJJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputError-BDSk7YPd.js";import"./RetailGroup-aZWFSXoe.js";import"./Logout-CW2hOaSD.js";/* empty css                                                             */import"./RetailItems-B7IK_33H.js";const te={class:"absolute adjust"},oe={class:"flex justify-start items-center"},Ce={__name:"index",props:{posperiodicdiscountlines:{type:Array,required:!0},items:{type:Array,required:!0},offerid:{type:[String,Number],required:!0},discounttype:{type:[String,Number],required:!0}},setup(m){T.use(K);const i=a(""),f=a(""),v=a([]),g=a(""),y=a(""),D=a(""),I=a(""),E=a(""),d=a(!1),u=a(!1),c=a(!1),n=m,_=e=>Number(e).toFixed(2),M=[{data:"offerid",title:"OFFERID"},{data:"linegroup",title:"LINEGROUP"},{data:"itemid",title:"ITEMID"},{data:"dealpriceordiscpct",title:"DISCOUNTPERITEM",render:function(e,t){return t==="display"?_(e):e}},{data:null,render:"#action",title:"ACTIONS"}],N={paging:!1,scrollX:!0,scrollY:"70vh",scrollCollapse:!0},P=(e,t,o,p,G,B,F)=>{i.value=e,lineid.value=t,g.value=o,y.value=p,D.value=G,I.value=B,f.value=F,d.value=!0},$=e=>{lineid.value=e,c.value=!0},R=(e,t,o)=>{i.value=e,f.value=t,v.value=o,u.value=!0},k=()=>{d.value=!1},O=()=>{u.value=!1},h=()=>{c.value=!1},A=()=>{window.location.href="/posperiodicdiscounts"},S=e=>{console.log("Redirecting to Line Group Entries:",e),window.location.href=`/POSMMMLINEGROUPS/${e}`},U=e=>{window.location.href=`/MNM/${e}`},L=a("");return Q(()=>n.items.find(e=>e.itemid===L.value)),console.log(n.items),(e,t)=>(Z(),W(j,{"active-tab":"RETAILITEMS"},{modals:s(()=>[l(q,{"show-modal":u.value,offerid:n.offerid,discounttype:n.discounttype,items:n.items,onToggleActive:O},null,8,["show-modal","offerid","discounttype","items"]),l(x,{"show-modal":d.value,offerid:i.value,lineid:e.lineid,producttype:g.value,id:y.value,dealpriceordiscpct:D.value,linegroup:I.value,disctype:E.value,onToggleActive:k},null,8,["show-modal","offerid","lineid","producttype","id","dealpriceordiscpct","linegroup","disctype"]),l(Y,{"show-modal":c.value,"item-name":"posperiodicdiscountlines",lineid:e.lineid,onToggleActive:h},null,8,["show-modal","lineid"])]),main:s(()=>[l(V,null,{default:s(()=>[b("div",te,[b("div",oe,[l(r,{type:"button",onClick:t[0]||(t[0]=o=>R(i.value,e.DISCOUNTTYPE,v.value)),class:"m-6 bg-navy"},{default:s(()=>[l(X,{class:"h-6"})]),_:1}),l(r,{type:"button",onClick:t[1]||(t[1]=o=>A("/posperiodicdiscounts")),class:"m-1 bg-navy p-10"},{default:s(()=>[l(z,{class:"h-6"})]),_:1}),l(r,{type:"button",onClick:t[2]||(t[2]=o=>S(i.value)),class:"m-1 ml-6 bg-navy p-10"},{default:s(()=>[l(H,{class:"h-6"})]),_:1}),l(C,{type:"button",onClick:t[3]||(t[3]=o=>U(i.value)),class:"m-1 bg-navy p-10 ml-6"},{default:s(()=>[l(J,{class:"h-6"})]),_:1})])]),l(ee(T),{data:m.posperiodicdiscountlines,columns:M,class:"w-full relative display",options:N},{action:s(o=>[l(r,{type:"button",onClick:p=>P(o.cellData.OFFERID,o.cellData.LINEID,o.cellData.PRODUCTTYPE,o.cellData.ID,o.cellData.DEALPRICEORDISCPCT,o.cellData.LINEGROUP,o.cellData.DISCTYPE),class:"me-1"},{default:s(()=>t[4]||(t[4]=[w(" Update ")])),_:2},1032,["onClick"]),l(C,{type:"button",onClick:p=>$(o.cellData.LINEID)},{default:s(()=>t[5]||(t[5]=[w(" Delete ")])),_:2},1032,["onClick"])]),_:1},8,["data"])]),_:1})]),_:1}))}};export{Ce as default};

import{T as E,s as T,p as k,c as S,w as i,o as I,b as n,a,i as C,j as g,v as f,u as l,n as $,g as _}from"./app-CfytZ6uy.js";import{_ as M}from"./AdminPanel-CL6jLfvg.js";import{T as O}from"./TableContainer-C_tye70S.js";import{P as b,D as V}from"./dataTables-BGy9-Y2a.js";import{_ as U}from"./SuccessButton-6z4b7x98.js";import{_ as R}from"./TransparentButton-DjGif6T8.js";import{E as j}from"./Excel-PuI2PjVP.js";import{S as F}from"./SearchColored-BpFv9lev.js";import"./RetailGroup-2HMR2ftQ.js";import"./Logout-z3St95b0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                             */import"./Modal-BPjbBi2X.js";import"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-B1wW2mpq.js";import"./RetailItems-DVr2J4Jb.js";/* empty css                                                                */import"./Attendance-DXy5Tht_.js";const N={class:"absolute adjust"},B={class:"flex justify-start items-center"},H=["value"],L={"date-rangepicker":"",class:"flex items-center"},z={class:"relative ml-5"},A=["placeholder"],P={class:"relative"},Y=["placeholder"],pt={__name:"TxtFile",props:{orders:{type:Array,required:!0}},setup(u,{emit:q}){b.use(V);const p=u,r=E({StartDate:"",EndDate:""}),c=()=>{r.get(route("orderingconso.getrange"),{preserveScroll:!0})},D={paging:!1,scrollX:!0,scrollY:"70vh",scrollCollapse:!0};T(()=>{const e=new Date,t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return`${t}${s}${o}`});const v=[{data:"STOREID",title:"STOREID"},{data:"POSTEDDATETIME",title:"POSTEDDATETIME",render:function(e,t,s){return new Date(e).toLocaleDateString()}},{data:"ITEMID",title:"ITEMID"},{data:"COUNTED",title:"COUNTED"}];function y(e,t){const s=new Blob([t],{type:"text/plain;charset=utf-8"}),o=URL.createObjectURL(s),d=document.createElement("a");d.href=o,d.download=e,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(o)}function w(){const e=p.orders[0].STOREID,t=new Date(p.orders[0].POSTEDDATETIME),s=`${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}`,o=`${e}${s}.txt`,d=`${e}|${t.toLocaleDateString()}`,h=p.orders.map(m=>`${m.ITEMID}|${Math.floor(m.COUNTED)}`),x=[d,...h].join(`
`);y(o,x)}return(e,t)=>{const s=k("InputError");return I(),S(M,{"active-tab":"SYNC"},{main:i(()=>[n(O,null,{default:i(()=>[a("div",N,[a("div",B,[a("form",{onSubmit:C(c,["prevent"]),class:"px-2 py-3 max-h-[50vh] lg:max-h-[70vh] overflow-y-auto"},[a("input",{type:"hidden",name:"_token",value:e.$page.props.csrf_token},null,8,H),a("div",L,[a("div",z,[t[4]||(t[4]=a("div",{class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},[a("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})])],-1)),g(a("input",{id:"StartDate",type:"date","onUpdate:modelValue":t[0]||(t[0]=o=>l(r).StartDate=o),onInput:t[1]||(t[1]=(...o)=>e.formattedDate1&&e.formattedDate1(...o)),placeholder:e.formattedDate1,class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,40,A),[[f,l(r).StartDate]]),n(s,{message:l(r).errors.StartDate,class:"mt-2"},null,8,["message"])]),t[6]||(t[6]=a("span",{class:"mx-4 text-gray-500"},"to",-1)),a("div",P,[t[5]||(t[5]=a("div",{class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},[a("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})])],-1)),g(a("input",{id:"EndDate",type:"date","onUpdate:modelValue":t[2]||(t[2]=o=>l(r).EndDate=o),onInput:t[3]||(t[3]=(...o)=>e.formattedDate2&&e.formattedDate2(...o)),placeholder:e.formattedDate2,class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,40,Y),[[f,l(r).EndDate]]),n(s,{message:l(r).errors.EndDate,class:"mt-2"},null,8,["message"])])])],32),n(R,{type:"submit",onClick:c,disabled:l(r).processing,class:$({"opacity-25":l(r).processing})},{default:i(()=>[n(F,{class:"h-8"})]),_:1},8,["disabled","class"]),t[7]||(t[7]=_("           ")),a("button",{onClick:w},"Generate and Download Text File"),n(U,{type:"button",onClick:e.exportToExcel,class:"m-6 bg-green"},{default:i(()=>[n(j,{class:"h-4"})]),_:1},8,["onClick"])])]),n(l(b),{data:u.orders,columns:v,class:"w-full relative display",options:D},{action:i(o=>t[8]||(t[8]=[a("div",{class:"flex justify-start"},null,-1)])),_:1},8,["data"])]),_:1})]),_:1})}}};export{pt as default};

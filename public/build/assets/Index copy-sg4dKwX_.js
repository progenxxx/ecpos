import{u as N}from"./vue-router-Bl-Oeb3-.js";import{_ as F}from"./Create-BPw4trKz.js";import{_ as H}from"./Update-OvDB-2kH.js";import{_ as q}from"./Post-fNfwcKI_.js";import{_ as V}from"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-B7C873nC.js";import{_ as Y}from"./AdminPanel-DorjMUAR.js";import"./FileSaver.min-DH4JG1OZ.js";import"./exceljs.min-DuakHjXl.js";import{A as G}from"./Add-Bu2Kywpu.js";import{e as X}from"./editblue-CH18tGfN.js";import{m as z}from"./moreblue-HGUJPm5E.js";import{P as J}from"./Post-B0phhHJ6.js";import{T as j}from"./TableContainer-CTCvRGFw.js";import{d as s,q as K,p as u,c as Q,w as n,o as W,b as e,a as i,u as y,g as Z}from"./app-DJ_ZTFbI.js";import{P as T,D as tt}from"./dataTables-Dqt6QQHC.js";import"./DaisyModal-Dd1F1hRq.js";import"./Modal-CKYSH-Ul.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                   */import"./InputError-PkxbjC5q.js";import"./FormComponent-B6ZSceH5.js";import"./RetailGroup-ReiPV-Rs.js";import"./Logout-CqZ_wKbj.js";/* empty css                                                             */import"./RetailItems-BqM3fhIp.js";const et={class:"absolute adjust"},ot={class:"flex justify-start items-center"},at={class:"flex justify-start"},nt={class:"absolute adjust"},lt={class:"flex justify-start items-center"},xt={__name:"Index copy",props:{inventjournaltables:{type:Array,required:!0},orders:{type:Array,required:!0}},setup(m){T.use(tt);const d=s(""),h=s("");s(""),s("");const p=s(!1),f=s(!1),w=s(!1),M=s(!1),v=s(!1),_=m,C=[{data:"journalid",title:"ID"},{data:"posted",title:"Posted"},{data:"description",title:"Description"},{data:"createddatetime",title:"DATE"},{data:null,render:"#action",title:"Actions"}],E={paging:!1,scrollX:!0,scrollY:"60vh",scrollCollapse:!0},$=t=>{d.value=t,v.value=!0},I=(t,o)=>{d.value=t,h.value=o,p.value=!0},S=()=>{f.value=!0},x=()=>{p.value=!1},k=()=>{f.value=!1},A=()=>{w.value=!1},O=()=>{M.value=!1},R=()=>{v.value=!1};N();const P=t=>{console.log("Redirecting to Item Order Entries for account:",t),window.location.href=`/ItemOrders/${t}`};K(()=>{const t=new Date,o=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return`${o}${r}${l}`});const U=[{data:"STOREID",title:"STOREID"},{data:"POSTEDDATETIME",title:"POSTEDDATETIME",render:function(t,o,r){return new Date(t).toLocaleDateString()}},{data:"ITEMID",title:"ITEMID"},{data:"COUNTED",title:"COUNTED"}];function B(t,o){const r=new Blob([o],{type:"text/plain;charset=utf-8"}),l=URL.createObjectURL(r),a=document.createElement("a");a.href=l,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l)}function L(){const t=_.orders[0].STOREID,o=new Date(_.orders[0].POSTEDDATETIME),r=`${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}${o.getDate().toString().padStart(2,"0")}`,l=`${t}${r}.txt`,a=`${t}|${o.toLocaleDateString()}`,D=_.orders.map(c=>`${c.ITEMID}|${Math.floor(c.COUNTED)}`),g=[a,...D].join(`
`);B(l,g)}return(t,o)=>{const r=u("Delete"),l=u("More"),a=u("TransparentButton"),D=u("ExcelIcon"),g=u("SuccessButton");return W(),Q(Y,{"active-tab":"ORDER"},{modals:n(()=>[e(F,{"show-modal":f.value,onToggleActive:k},null,8,["show-modal"]),e(H,{"show-modal":p.value,journalid:d.value,description:h.value,onToggleActive:x},null,8,["show-modal","journalid","description"]),e(r,{"show-modal":w.value,"item-name":"inventjournaltables",journalid:d.value,onToggleActive:A},null,8,["show-modal","journalid"]),e(q,{"show-modal":v.value,"item-name":"inventjournaltrans",journalid:d.value,onToggleActive:R},null,8,["show-modal","journalid"]),e(l,{"show-modal":M.value,accountnum:t.accountnum,onToggleActive:O},null,8,["show-modal","accountnum"])]),main:n(()=>[e(j,null,{default:n(()=>[i("div",et,[i("div",ot,[e(V,{type:"button",onClick:S,class:"m-6 bg-navy"},{default:n(()=>[e(G,{class:"h-4"})]),_:1})])]),e(y(T),{data:m.inventjournaltables,columns:C,class:"w-full relative display",options:E},{action:n(c=>[i("div",at,[e(a,{type:"button",onClick:b=>I(c.cellData.journalid,c.cellData.description),class:"me-1"},{default:n(()=>[e(X,{class:"h-6 cursor-pointer"})]),_:2},1032,["onClick"]),e(a,{class:"ml-5 cursor-pointer",onClick:b=>P(c.cellData.journalid)},{default:n(()=>[e(z,{class:"h-6"})]),_:2},1032,["onClick"]),e(a,{class:"ml-5 cursor-pointer",onClick:b=>$(c.cellData.journalid)},{default:n(()=>[e(J,{class:"h-6 w-6"})]),_:2},1032,["onClick"])])]),_:1},8,["data"])]),_:1}),e(j,null,{default:n(()=>[i("div",nt,[i("div",lt,[o[0]||(o[0]=Z("           ")),i("button",{onClick:L},"Generate and Download Text File"),e(g,{type:"button",onClick:t.exportToExcel,class:"m-6 bg-green"},{default:n(()=>[e(D,{class:"h-4"})]),_:1},8,["onClick"])])]),e(y(T),{data:m.orders,columns:U,class:"w-full relative display",options:E},{action:n(c=>o[1]||(o[1]=[i("div",{class:"flex justify-start"},null,-1)])),_:1},8,["data"])]),_:1})]),_:1})}}};export{xt as default};

import{d as g,l as pt,q as E,k as xt,E as yt,c as R,w as Y,B as gt,o as i,a as t,g as c,e as d,t as n,j as L,v as P,i as $,F as Q,h as J,f as m,b as ft,u as bt,n as ht,z as vt}from"./app-DIsI2h6N.js";import{_ as kt}from"./AdminPanel-4mme3aov.js";import{_ as wt}from"./Main-BuhnLEuc.js";import{T as _t}from"./TableContainer-BvhjGUIg.js";import"./buttons.print-0974EdRm.js";import{P as K,D as X}from"./dataTables-CYg83-KT.js";import{S as Z}from"./sweetalert2.esm.all-IRYXxR_Z.js";import{E as Nt}from"./exceljs.min-BCSGA5zn.js";import{M as Ft,C as Ct}from"./Close-DWDqPpWR.js";import{_ as St}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./RetailGroup-g15s03XT.js";import"./Logout-CSswU4gJ.js";/* empty css                                                             */import"./Modal-DKCN2m9N.js";import"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-BHRlHpU4.js";import"./RetailItems-BxtVv693.js";import"./PartyCake143-D_7hneaj.js";const Tt={class:"mb-6 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden"},Mt={class:"p-6"},Dt={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},At={key:0,class:"store-dropdown-container relative"},jt={class:"relative"},Et={key:0,class:"text-gray-500"},Rt={key:1,class:"text-gray-900"},Vt={key:2,class:"text-gray-900"},Ot={key:0,class:"absolute z-50 w-full mt-2 bg-white border border-gray-300 rounded-lg shadow-xl max-h-72 overflow-hidden"},It={class:"p-3 border-b border-gray-200 bg-gray-50"},Bt={class:"max-h-48 overflow-y-auto"},Lt=["checked","onChange"],Pt={class:"text-sm text-gray-700"},zt={key:0,class:"p-4 text-sm text-gray-500 text-center"},qt={key:0,class:"mb-6 bg-white rounded-xl shadow-lg p-6"},Ht={key:0,class:"flex justify-center items-center py-8"},Ut={key:1,class:"grid grid-cols-2 gap-4 text-sm"},Gt={class:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg"},Wt={class:"text-xl font-bold text-blue-800"},Yt={class:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg"},$t={class:"text-xl font-bold text-green-800"},Qt={class:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg"},Jt={class:"text-xl font-bold text-purple-800"},Kt={class:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg"},Xt={class:"text-xl font-bold text-orange-800"},Zt={class:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden"},te={class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},ee={class:"flex justify-between items-center"},se={class:"text-sm text-gray-500"},ae={key:0,class:"flex justify-center items-center py-16"},oe={key:1,class:"overflow-hidden"},re={class:"max-h-96 overflow-y-auto"},ne=["onTouchstart"],le={class:"space-y-3"},ie={class:"flex justify-between items-start"},de={class:"flex-1 min-w-0"},ue={class:"font-medium text-gray-900 truncate"},me={class:"text-sm text-gray-500 flex items-center"},ce={class:"text-right"},pe={class:"text-sm text-gray-500"},xe={class:"text-xs text-gray-400"},ye={class:"grid grid-cols-2 gap-3"},ge={class:"bg-green-50 p-3 rounded-lg"},fe={class:"text-lg font-bold text-green-800"},be={class:"bg-orange-50 p-3 rounded-lg"},he={class:"text-lg font-bold text-orange-800"},ve={class:"grid grid-cols-2 gap-2 text-sm"},ke={class:"font-medium ml-1"},we={class:"font-medium ml-1"},_e={class:"font-medium ml-1"},Ne={class:"font-medium ml-1"},Fe={key:0,class:"text-center py-12 text-gray-500"},Ce={key:2,class:"overflow-hidden"},Se={key:1,class:"text-center py-12 text-gray-500"},Te={key:1,class:"fixed bottom-6 right-6 z-40"},Me={key:0,class:"absolute bottom-16 right-0 bg-white rounded-lg shadow-xl border border-gray-200 py-2 w-56 transform transition-all duration-200 ease-out"},De={class:"p-6"},Ae={class:"space-y-6"},je={class:"bg-gray-50 rounded-lg p-4"},Ee={class:"space-y-2 text-sm"},Re={class:"flex justify-between"},Ve={class:"text-gray-900"},Oe={class:"flex justify-between"},Ie={class:"text-gray-900"},Be={class:"flex justify-between"},Le={class:"text-gray-900"},Pe={class:"flex justify-between"},ze={class:"text-gray-900"},qe={class:"bg-blue-50 rounded-lg p-4"},He={class:"space-y-2 text-sm"},Ue={class:"flex justify-between"},Ge={class:"text-gray-900"},We={class:"flex justify-between"},Ye={class:"text-gray-900"},$e={class:"flex justify-between"},Qe={class:"text-gray-900"},Je={class:"flex justify-between"},Ke={class:"text-gray-900"},Xe={class:"flex justify-between"},Ze={class:"text-gray-900"},ts={class:"flex justify-between"},es={class:"text-gray-900"},ss={class:"bg-green-50 rounded-lg p-4"},as={class:"space-y-2 text-sm"},os={class:"flex justify-between"},rs={class:"text-gray-900"},ns={class:"flex justify-between"},ls={class:"text-gray-900"},is={class:"flex justify-between"},ds={class:"text-gray-900"},us={class:"flex justify-between"},ms={class:"text-gray-900"},cs={class:"flex justify-between border-t border-green-200 pt-2"},ps={class:"font-bold text-green-700"},xs={class:"flex justify-between border-t border-green-200 pt-2"},ys={class:"font-bold text-orange-600"},gs={class:"flex justify-between"},fs={class:"text-gray-900"},bs={class:"flex justify-between"},hs={class:"text-gray-900"},vs={class:"bg-purple-50 rounded-lg p-4"},ks={class:"grid grid-cols-2 gap-2 text-sm"},ws={key:0,class:"flex justify-between"},_s={class:"text-gray-900"},Ns={key:1,class:"flex justify-between"},Fs={class:"text-gray-900"},Cs={key:2,class:"flex justify-between"},Ss={class:"text-gray-900"},Ts={key:3,class:"flex justify-between"},Ms={class:"text-gray-900"},Ds={key:4,class:"flex justify-between"},As={class:"text-gray-900"},js={key:5,class:"flex justify-between"},Es={class:"text-gray-900"},Rs={key:6,class:"flex justify-between"},Vs={class:"text-gray-900"},Os={key:7,class:"flex justify-between"},Is={class:"text-gray-900"},Bs={key:8,class:"flex justify-between"},Ls={class:"text-gray-900"},Ps={key:9,class:"flex justify-between"},zs={class:"text-gray-900"},qs={key:10,class:"flex justify-between"},Hs={class:"text-gray-900"},Us={key:0,class:"bg-yellow-50 rounded-lg p-4"},Gs={class:"space-y-2 text-sm"},Ws={key:0,class:"flex justify-between"},Ys={class:"text-gray-900"},$s={key:1,class:"flex justify-between"},Qs={class:"text-gray-900"},Js={key:2,class:"flex justify-between"},Ks={class:"text-gray-900"},Xs={key:1,class:"bg-gray-50 rounded-lg p-4"},Zs={class:"text-sm text-gray-600 bg-white p-3 rounded border"},ta={__name:"TSales",props:{ec:{type:Array,required:!0},auth:{type:Object,required:!0},stores:{type:Array,required:!0},userRole:{type:String,required:!0},filters:{type:Object,required:!0,default:()=>({startDate:"",endDate:"",selectedStores:[]})}},setup(V){K.use(X);const y=g([]),_=g(""),N=g("");g(!1);const F=g(!0),k=g(!1),M=g(!1),O=g(!1),r=g(null),C=g(null),b=g(""),h=g(!1),I=g(null),tt=()=>{b.value=b.value};pt(h,s=>{s?vt(()=>{I.value&&I.value.focus()}):b.value=""});const v=V,et=E(()=>v.userRole.toUpperCase()==="STORE"?wt:kt),st=(s,e)=>{e.preventDefault();const a=e.currentTarget;a.classList.add("touching","long-press-indicator","pressing"),C.value=setTimeout(()=>{r.value=s,O.value=!0,a.classList.remove("touching","pressing"),navigator.vibrate&&navigator.vibrate([50,30,50])},500)},z=s=>{C.value&&(clearTimeout(C.value),C.value=null),s&&s.currentTarget&&s.currentTarget.classList.remove("touching","long-press-indicator","pressing")},q=()=>{O.value=!1,r.value=null},H=E(()=>{let s=[];if(Array.isArray(v.stores)&&(s=v.stores.map(a=>{if(typeof a=="string")return a;if(typeof a=="object"&&a!==null){if(a.NAME)return a.NAME;if(a.name)return a.name;if(a.storename)return a.storename;if(a.store_name)return a.store_name;const x=JSON.stringify(a),p=x.match(/"NAME"\s*:\s*"([^"]+)"/);return p?p[1]:x.replace(/[{}":]/g,"").replace(/STOREID[^,]*,?\s*/g,"").replace(/NAME/g,"").trim()||"Unknown Store"}return String(a)})),s=[...new Set(s)].sort(),!b.value||b.value.trim()==="")return s;const e=b.value.toLowerCase().trim();return s.filter(a=>a.toLowerCase().includes(e))}),at=s=>{const e=y.value.indexOf(s);e>-1?y.value.splice(e,1):y.value.push(s)},ot=s=>y.value.includes(s),rt=()=>{y.value=[],h.value=!1},nt=()=>{const s=v.stores.map(e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e!==null){if(e.NAME)return e.NAME;if(e.name)return e.name;if(e.storename)return e.storename;if(e.store_name)return e.store_name;const a=JSON.stringify(e),x=a.match(/"NAME"\s*:\s*"([^"]+)"/);return x?x[1]:a.replace(/[{}":]/g,"").replace(/STOREID[^,]*,?\s*/g,"").replace(/NAME/g,"").trim()||"Unknown Store"}return String(e)});y.value=[...new Set(s)],h.value=!1},B=()=>{M.value=window.innerWidth<768},lt=()=>{k.value=!k.value},S=()=>{k.value=!1},U=()=>{y.value=[],_.value="",N.value="",S()};xt(()=>{y.value=v.filters.selectedStores||[],_.value=v.filters.startDate||"",N.value=v.filters.endDate||"",window.addEventListener("resize",B),document.addEventListener("click",G),B(),setTimeout(()=>{F.value=!1},500)});const G=s=>{h.value&&!s.target.closest(".store-dropdown-container")&&(h.value=!1)};yt(()=>{document.removeEventListener("click",G),window.removeEventListener("resize",B),C.value&&clearTimeout(C.value)});const w=E(()=>{let s=[...v.ec];return y.value.length>0&&(s=s.filter(e=>y.value.includes(e.storename))),_.value&&N.value&&(s=s.filter(e=>{const a=new Date(e.createddate),x=new Date(_.value),p=new Date(N.value);return a>=x&&a<=p})),s}),j=E(()=>w.value.reduce((s,e)=>(s.total_discamount+=parseFloat(e.total_discamount)||0,s.total_costprice+=parseFloat(e.total_costprice)||0,s.total_netamount+=parseFloat(e.total_netamount)||0,s.vatablesales+=parseFloat(e.vatablesales)||0,s.vat+=parseFloat(e.vat)||0,s.total_grossamount+=parseFloat(e.total_grossamount)||0,s.total_costamount+=parseFloat(e.total_costamount)||0,s.total_qty+=Math.round(e.qty||0),s.commission+=parseFloat(e.commission)||0,s.cash+=parseFloat(e.cash)||0,s.charge+=parseFloat(e.charge)||0,s.representation+=parseFloat(e.representation)||0,s.gcash+=parseFloat(e.gcash)||0,s.paymaya+=parseFloat(e.paymaya)||0,s.card+=parseFloat(e.card)||0,s.loyaltycard+=parseFloat(e.loyaltycard)||0,s.foodpanda+=parseFloat(e.foodpanda)||0,s.grabfood+=parseFloat(e.grabfood)||0,s.mrktgdisc+=parseFloat(e.mrktgdisc)||0,s.rddisc+=parseFloat(e.rddisc)||0,s.bw_products+=parseFloat(e.bw_products)||0,s.merchandise+=parseFloat(e.merchandise)||0,s.partycakes+=parseFloat(e.partycakes)||0,s),{total_qty:0,total_discamount:0,total_costprice:0,total_netamount:0,vatablesales:0,vat:0,total_grossamount:0,total_costamount:0,commission:0,cash:0,charge:0,representation:0,gcash:0,paymaya:0,card:0,loyaltycard:0,foodpanda:0,grabfood:0,mrktgdisc:0,rddisc:0,bw_products:0,merchandise:0,partycakes:0})),it=[{data:"storename",title:"Store",footer:"Grand Total",className:"min-w-[100px] max-w-[120px] font-medium"},{data:"staff",title:"Staff",footer:"",className:"min-w-[100px] max-w-[140px]"},{data:"createddate",title:"Date",footer:"",className:"min-w-[85px] max-w-[100px] text-center"},{data:"timeonly",title:"Time",footer:"",className:"min-w-[70px] max-w-[80px] text-center"},{data:"transactionid",title:"Transaction ID",footer:"",className:"min-w-[120px] max-w-[140px] font-mono text-sm"},{data:"receiptid",title:"Receipt ID",footer:"",className:"min-w-[100px] max-w-[120px] font-mono text-sm"},{data:"custaccount",title:"Customer",footer:"",className:"min-w-[120px] max-w-[150px]"},{data:"itemname",title:"Item Name",footer:"",className:"min-w-[150px] max-w-[200px] font-medium"},{data:"itemgroup",title:"Item Group",footer:"",className:"min-w-[100px] max-w-[120px]"},{data:"discofferid",title:"PROMO",footer:"",className:"min-w-[100px] max-w-[200px] text-sm"},{data:"qty",title:"Qty",render:s=>Math.round(s||0),footer:"",className:"text-right min-w-[60px] max-w-[80px] font-semibold"},{data:"total_costprice",title:"Cost Price",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[90px] max-w-[110px]"},{data:"total_grossamount",title:"Gross Amount",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px] font-semibold"},{data:"total_costamount",title:"Cost Amount",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px]"},{data:"total_discamount",title:"Discount Amount",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[110px] max-w-[130px] text-red-600"},{data:"total_netamount",title:"Net Amount",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px] font-bold text-green-600"},{data:"commission",title:"Commission",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px] font-bold text-orange-600"},{data:"vatablesales",title:"Vatable Sales",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px]"},{data:"vat",title:"VAT",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px]"},{data:"cash",title:"Cash",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px]"},{data:"charge",title:"Charge",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px]"},{data:"representation",title:"Representation",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px]"},{data:"gcash",title:"GCash",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px]"},{data:"paymaya",title:"PayMaya",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px]"},{data:"card",title:"Card",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px]"},{data:"loyaltycard",title:"Loyalty Card",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[90px] max-w-[110px]"},{data:"foodpanda",title:"FoodPanda",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[90px] max-w-[110px]"},{data:"grabfood",title:"GrabFood",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[90px] max-w-[110px]"},{data:"mrktgdisc",title:"Mktg Disc",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px] text-purple-600"},{data:"rddisc",title:"RD Disc",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[80px] max-w-[100px] text-blue-600"},{data:"bw_products",title:"BW PRODUCTS",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px]"},{data:"merchandise",title:"MERCHANDISE",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px]"},{data:"partycakes",title:"PARTYCAKES",render:s=>(parseFloat(s)||0).toFixed(2),footer:"",className:"text-right min-w-[100px] max-w-[120px]"},{data:"remarks",title:"NOTE",footer:"",className:"min-w-[120px] max-w-[150px] text-sm"}],dt={responsive:!0,order:[[0,"asc"]],pageLength:25,dom:"Bfrtip",scrollX:!0,scrollY:"60vh",autoWidth:!1,columnDefs:[{targets:[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],className:"text-right"},{targets:[2],className:"text-center"},{targets:[3],className:"text-center"}],buttons:[{text:'<i class="fas fa-copy"></i> Copy',extend:"copy",className:"btn-export btn-copy"},{text:'<i class="fas fa-file-excel"></i> Excel',action:function(s,e,a,x){W(e)},className:"btn-export btn-excel"},{text:'<i class="fas fa-file-pdf"></i> PDF',extend:"pdf",className:"btn-export btn-pdf"},{text:'<i class="fas fa-print"></i> Print',extend:"print",className:"btn-export btn-print"}],drawCallback:function(s){const e=new X.Api(s);F.value=!1;const a={total_qty:0,total_costprice:0,total_grossamount:0,total_costamount:0,total_discamount:0,total_netamount:0,commission:0,vatablesales:0,vat:0,cash:0,charge:0,representation:0,gcash:0,paymaya:0,card:0,loyaltycard:0,foodpanda:0,grabfood:0,mrktgdisc:0,rddisc:0,bw_products:0,merchandise:0,partycakes:0};e.rows({search:"applied"}).every(function(f){const l=this.data();a.total_qty+=Math.round(Number(l.qty)||0),a.total_costprice+=Number(l.total_costprice)||0,a.total_grossamount+=Number(l.total_grossamount)||0,a.total_costamount+=Number(l.total_costamount)||0,a.total_discamount+=Number(l.total_discamount)||0,a.total_netamount+=Number(l.total_netamount)||0,a.commission+=Number(l.commission)||0,a.vatablesales+=Number(l.vatablesales)||0,a.vat+=Number(l.vat)||0,a.cash+=Number(l.cash)||0,a.charge+=Number(l.charge)||0,a.representation+=Number(l.representation)||0,a.gcash+=Number(l.gcash)||0,a.paymaya+=Number(l.paymaya)||0,a.card+=Number(l.card)||0,a.loyaltycard+=Number(l.loyaltycard)||0,a.foodpanda+=Number(l.foodpanda)||0,a.grabfood+=Number(l.grabfood)||0,a.mrktgdisc+=Number(l.mrktgdisc)||0,a.rddisc+=Number(l.rddisc)||0,a.bw_products+=Number(l.bw_products)||0,a.merchandise+=Number(l.merchandise)||0,a.partycakes+=Number(l.partycakes)||0});function x(f,l=!1){return l?Math.round(f).toLocaleString("en-US"):f.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}const p=e.table().footer();if(p){const f=p.querySelectorAll("td, th");[{index:10,key:"total_qty",round:!0},{index:11,key:"total_costprice"},{index:12,key:"total_grossamount"},{index:13,key:"total_costamount"},{index:14,key:"total_discamount"},{index:15,key:"total_netamount"},{index:16,key:"commission"},{index:17,key:"vatablesales"},{index:18,key:"vat"},{index:19,key:"cash"},{index:20,key:"charge"},{index:21,key:"representation"},{index:22,key:"gcash"},{index:23,key:"paymaya"},{index:24,key:"card"},{index:25,key:"loyaltycard"},{index:26,key:"foodpanda"},{index:27,key:"grabfood"},{index:28,key:"mrktgdisc"},{index:29,key:"rddisc"},{index:30,key:"bw_products"},{index:31,key:"merchandise"},{index:32,key:"partycakes"}].forEach(({index:D,key:o,round:u})=>{const T=a[o];f[D]&&(f[D].textContent=x(T,u))})}}},ut=()=>{if(window.DataTable){const s=window.DataTable.tables()[0];s&&s.button(".buttons-csv").trigger()}S()},W=s=>{const e=new Nt.Workbook,a=e.addWorksheet("Transaction Sales Data"),x=[{header:"STORE",key:"storename",width:20},{header:"STAFF",key:"staff",width:15},{header:"DATE",key:"createddate",width:12},{header:"TIME",key:"timeonly",width:10},{header:"TRANSACTION ID",key:"transactionid",width:15},{header:"RECEIPT ID",key:"receiptid",width:15},{header:"CUSTOMER",key:"custaccount",width:20},{header:"ITEM NAME",key:"itemname",width:25},{header:"ITEM GROUP",key:"itemgroup",width:15},{header:"PROMO",key:"discofferid",width:15},{header:"QTY",key:"qty",width:10},{header:"COST PRICE",key:"total_costprice",width:12,style:{numFmt:"#,##0.00"}},{header:"GROSS AMOUNT",key:"total_grossamount",width:15,style:{numFmt:"#,##0.00"}},{header:"COST AMOUNT",key:"total_costamount",width:15,style:{numFmt:"#,##0.00"}},{header:"DISCOUNT AMOUNT",key:"total_discamount",width:12,style:{numFmt:"#,##0.00"}},{header:"NET AMOUNT",key:"total_netamount",width:15,style:{numFmt:"#,##0.00"}},{header:"COMMISSION",key:"commission",width:12,style:{numFmt:"#,##0.00"}},{header:"VATABLE SALES",key:"vatablesales",width:15,style:{numFmt:"#,##0.00"}},{header:"VAT",key:"vat",width:12,style:{numFmt:"#,##0.00"}},{header:"CASH",key:"cash",width:12,style:{numFmt:"#,##0.00"}},{header:"CHARGE",key:"charge",width:12,style:{numFmt:"#,##0.00"}},{header:"REPRESENTATION",key:"representation",width:15,style:{numFmt:"#,##0.00"}},{header:"GCASH",key:"gcash",width:12,style:{numFmt:"#,##0.00"}},{header:"PAYMAYA",key:"paymaya",width:12,style:{numFmt:"#,##0.00"}},{header:"CARD",key:"card",width:12,style:{numFmt:"#,##0.00"}},{header:"LOYALTY CARD",key:"loyaltycard",width:15,style:{numFmt:"#,##0.00"}},{header:"FOODPANDA",key:"foodpanda",width:12,style:{numFmt:"#,##0.00"}},{header:"GRABFOOD",key:"grabfood",width:12,style:{numFmt:"#,##0.00"}},{header:"MKTG DISC",key:"mrktgdisc",width:12,style:{numFmt:"#,##0.00"}},{header:"RD DISC",key:"rddisc",width:12,style:{numFmt:"#,##0.00"}},{header:"BW PRODUCTS",key:"bw_products",width:15,style:{numFmt:"#,##0.00"}},{header:"MERCHANDISE",key:"merchandise",width:15,style:{numFmt:"#,##0.00"}},{header:"PARTY CAKES",key:"partycakes",width:15,style:{numFmt:"#,##0.00"}},{header:"NOTE",key:"remarks",width:20}];a.columns=x;const p=a.getRow(1);p.font={bold:!0,color:{argb:"FFFFFFFF"}},p.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF4F46E5"}};let f=w.value;s&&(f=s.rows({search:"applied"}).data().toArray()),f.forEach(o=>{a.addRow({storename:o.storename||"",staff:o.staff||"",createddate:o.createddate?new Date(o.createddate):null,timeonly:o.timeonly||"",transactionid:o.transactionid||"",receiptid:o.receiptid||"",custaccount:o.custaccount||"",itemname:o.itemname||"",itemgroup:o.itemgroup||"",discofferid:o.discofferid||"",qty:Math.round(Number(o.qty)||0),total_costprice:Number(o.total_costprice)||0,total_grossamount:Number(o.total_grossamount)||0,total_costamount:Number(o.total_costamount)||0,total_discamount:Number(o.total_discamount)||0,total_netamount:Number(o.total_netamount)||0,commission:Number(o.commission)||0,vatablesales:Number(o.vatablesales)||0,vat:Number(o.vat)||0,cash:Number(o.cash)||0,charge:Number(o.charge)||0,representation:Number(o.representation)||0,gcash:Number(o.gcash)||0,paymaya:Number(o.paymaya)||0,card:Number(o.card)||0,loyaltycard:Number(o.loyaltycard)||0,foodpanda:Number(o.foodpanda)||0,grabfood:Number(o.grabfood)||0,mrktgdisc:Number(o.mrktgdisc)||0,rddisc:Number(o.rddisc)||0,bw_products:Number(o.bw_products)||0,merchandise:Number(o.merchandise)||0,partycakes:Number(o.partycakes)||0,remarks:o.remarks||""})});const l=f.reduce((o,u)=>({total_qty:o.total_qty+Math.round(Number(u.qty)||0),total_costprice:o.total_costprice+Number(u.total_costprice||0),total_grossamount:o.total_grossamount+Number(u.total_grossamount||0),total_costamount:o.total_costamount+Number(u.total_costamount||0),total_discamount:o.total_discamount+Number(u.total_discamount||0),total_netamount:o.total_netamount+Number(u.total_netamount||0),commission:o.commission+Number(u.commission||0),vatablesales:o.vatablesales+Number(u.vatablesales||0),vat:o.vat+Number(u.vat||0),cash:o.cash+Number(u.cash||0),charge:o.charge+Number(u.charge||0),representation:o.representation+Number(u.representation||0),gcash:o.gcash+Number(u.gcash||0),paymaya:o.paymaya+Number(u.paymaya||0),card:o.card+Number(u.card||0),loyaltycard:o.loyaltycard+Number(u.loyaltycard||0),foodpanda:o.foodpanda+Number(u.foodpanda||0),grabfood:o.grabfood+Number(u.grabfood||0),mrktgdisc:o.mrktgdisc+Number(u.mrktgdisc||0),rddisc:o.rddisc+Number(u.rddisc||0),bw_products:o.bw_products+Number(u.bw_products||0),merchandise:o.merchandise+Number(u.merchandise||0),partycakes:o.partycakes+Number(u.partycakes||0)}),{total_qty:0,total_costprice:0,total_grossamount:0,total_costamount:0,total_discamount:0,total_netamount:0,commission:0,vatablesales:0,vat:0,cash:0,charge:0,representation:0,gcash:0,paymaya:0,card:0,loyaltycard:0,foodpanda:0,grabfood:0,mrktgdisc:0,rddisc:0,bw_products:0,merchandise:0,partycakes:0}),D=a.addRow({storename:"GRAND TOTAL",staff:"",createddate:"",timeonly:"",transactionid:"",receiptid:"",custaccount:"",itemname:"",itemgroup:"",discofferid:"",qty:l.total_qty,total_costprice:l.total_costprice,total_grossamount:l.total_grossamount,total_costamount:l.total_costamount,total_discamount:l.total_discamount,total_netamount:l.total_netamount,commission:l.commission,vatablesales:l.vatablesales,vat:l.vat,cash:l.cash,charge:l.charge,representation:l.representation,gcash:l.gcash,paymaya:l.paymaya,card:l.card,loyaltycard:l.loyaltycard,foodpanda:l.foodpanda,grabfood:l.grabfood,mrktgdisc:l.mrktgdisc,rddisc:l.rddisc,bw_products:l.bw_products,merchandise:l.merchandise,partycakes:l.partycakes,remarks:""});D.font={bold:!0},D.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE5E7EB"}},a.getColumn("createddate").numFmt="yyyy-mm-dd",a.autoFilter={from:{row:1,column:1},to:{row:1,column:a.columns.length}},a.eachRow((o,u)=>{o.eachCell(T=>{T.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})}),a.views=[{state:"frozen",xSplit:0,ySplit:1,topLeftCell:"A2",activeCell:"A2"}];try{e.xlsx.writeBuffer().then(o=>{const u=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),T=URL.createObjectURL(u),A=document.createElement("a");A.href=T,A.download=`Transaction_Sales_Report_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(T)}).catch(o=>{console.error("Error generating Excel file:",o),Z.fire({icon:"error",title:"Export Failed",text:"Failed to generate Excel file. Please try again."})})}catch(o){console.error("Error in Excel export:",o),Z.fire({icon:"error",title:"Export Failed",text:"An error occurred while exporting to Excel."})}S()},mt=()=>{if(window.DataTable){const s=window.DataTable.tables()[0];s&&s.button(".buttons-pdf").trigger()}S()},ct=()=>{if(window.DataTable){const s=window.DataTable.tables()[0];s&&s.button(".buttons-print").trigger()}S()};return(s,e)=>(i(),R(gt(et.value),{"active-tab":"REPORTS"},{main:Y(()=>[t("div",Tt,[e[13]||(e[13]=t("div",{class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-800 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})]),c(" Filters & Options ")])],-1)),t("div",Mt,[t("div",Dt,[V.userRole.toUpperCase()==="ADMIN"||V.userRole.toUpperCase()==="SUPERADMIN"?(i(),d("div",At,[e[9]||(e[9]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})]),c(" Store Selection ")],-1)),t("div",jt,[t("button",{onClick:e[0]||(e[0]=a=>h.value=!h.value),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-left bg-white hover:bg-gray-50 transition-colors"},[y.value.length===0?(i(),d("span",Et,"Select stores...")):y.value.length===1?(i(),d("span",Rt,n(y.value[0]),1)):(i(),d("span",Vt,n(y.value.length)+" stores selected",1)),e[8]||(e[8]=t("svg",{class:"float-right mt-1 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),h.value?(i(),d("div",Ot,[t("div",It,[L(t("input",{ref_key:"storeSearchInput",ref:I,"onUpdate:modelValue":e[1]||(e[1]=a=>b.value=a),type:"text",placeholder:"Search stores...",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onClick:e[2]||(e[2]=$(()=>{},["stop"])),onInput:tt},null,544),[[P,b.value]])]),t("div",{class:"p-3 border-b border-gray-200 flex gap-2 bg-gray-50"},[t("button",{onClick:nt,class:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors"}," Select All "),t("button",{onClick:rt,class:"flex-1 px-3 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors"}," Clear ")]),t("div",Bt,[(i(!0),d(Q,null,J(H.value,a=>(i(),d("label",{key:a,class:"flex items-center px-4 py-3 hover:bg-blue-50 cursor-pointer transition-colors"},[t("input",{type:"checkbox",checked:ot(a),onChange:x=>at(a),class:"mr-3 form-checkbox h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,40,Lt),t("span",Pt,n(a),1)]))),128))]),H.value.length===0?(i(),d("div",zt," No stores found ")):m("",!0)])):m("",!0)])])):m("",!0),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),c(" Start Date ")],-1)),L(t("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=a=>_.value=a),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[P,_.value]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),c(" End Date ")],-1)),L(t("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=a=>N.value=a),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[P,N.value]])]),t("div",{class:"flex items-end"},[t("button",{onClick:U,class:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-3 rounded-lg text-sm font-medium transition-colors flex items-center justify-center"},e[12]||(e[12]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),c(" Clear Filters ")]))])])])]),M.value?(i(),d("div",qt,[e[19]||(e[19]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),c(" Sales Summary ")],-1)),F.value?(i(),d("div",Ht,e[14]||(e[14]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"},null,-1),t("span",{class:"ml-3 text-gray-600"},"Loading data...",-1)]))):(i(),d("div",Ut,[t("div",Gt,[e[15]||(e[15]=t("p",{class:"text-xs text-blue-600 font-medium"},"Total Qty",-1)),t("p",Wt,n(j.value.total_qty.toLocaleString()),1)]),t("div",Yt,[e[16]||(e[16]=t("p",{class:"text-xs text-green-600 font-medium"},"Gross Amount",-1)),t("p",$t,"₱"+n(j.value.total_grossamount.toFixed(2)),1)]),t("div",Qt,[e[17]||(e[17]=t("p",{class:"text-xs text-purple-600 font-medium"},"Net Amount",-1)),t("p",Jt,"₱"+n(j.value.total_netamount.toFixed(2)),1)]),t("div",Kt,[e[18]||(e[18]=t("p",{class:"text-xs text-orange-600 font-medium"},"Commission",-1)),t("p",Xt,"₱"+n(j.value.commission.toFixed(2)),1)])]))])):m("",!0),t("div",Zt,[t("div",te,[t("div",ee,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold text-gray-800 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),c(" Transaction Sales Data ")],-1)),t("div",se,n(w.value.length)+" transactions ",1)])]),F.value?(i(),d("div",ae,e[21]||(e[21]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500 mx-auto"}),t("span",{class:"mt-4 text-lg text-gray-600 block"},"Loading sales data...")],-1)]))):m("",!0),M.value&&!F.value?(i(),d("div",oe,[t("div",re,[(i(!0),d(Q,null,J(w.value,(a,x)=>(i(),d("div",{key:`${a.transactionid}-${x}`,class:"border-b border-gray-200 p-4 hover:bg-gray-50 transition-colors cursor-pointer select-none mobile-sales-item",onTouchstart:p=>st(a,p),onTouchend:e[5]||(e[5]=p=>z(p)),onTouchcancel:e[6]||(e[6]=p=>z(p))},[t("div",le,[t("div",ie,[t("div",de,[t("div",ue,n((a==null?void 0:a.itemname)||""),1),t("div",me,[e[22]||(e[22]=t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),c(" "+n((a==null?void 0:a.storename)||""),1)]),e[23]||(e[23]=t("div",{class:"text-xs text-blue-600 mt-1 flex items-center"},[t("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 1v1a1 1 0 001 1h8a1 1 0 001-1V5M7 10h10"})]),c(" Long press for details ")],-1))]),t("div",ce,[t("div",pe,n((a==null?void 0:a.createddate)||""),1),t("div",xe,n((a==null?void 0:a.timeonly)||""),1)])]),t("div",ye,[t("div",ge,[e[24]||(e[24]=t("span",{class:"text-xs text-green-600 font-medium"},"Net Amount",-1)),t("p",fe,"₱"+n(Number((a==null?void 0:a.total_netamount)||0).toFixed(2)),1)]),t("div",be,[e[25]||(e[25]=t("span",{class:"text-xs text-orange-600 font-medium"},"Commission",-1)),t("p",he,"₱"+n(Number((a==null?void 0:a.commission)||0).toFixed(2)),1)])]),t("div",ve,[t("div",null,[e[26]||(e[26]=t("span",{class:"text-gray-600"},"Receipt:",-1)),t("span",ke,n((a==null?void 0:a.receiptid)||""),1)]),t("div",null,[e[27]||(e[27]=t("span",{class:"text-gray-600"},"Staff:",-1)),t("span",we,n((a==null?void 0:a.staff)||""),1)]),t("div",null,[e[28]||(e[28]=t("span",{class:"text-gray-600"},"Qty:",-1)),t("span",_e,n(Math.round((a==null?void 0:a.qty)||0)),1)]),t("div",null,[e[29]||(e[29]=t("span",{class:"text-gray-600"},"Customer:",-1)),t("span",Ne,n((a==null?void 0:a.custaccount)||"N/A"),1)])])])],40,ne))),128)),w.value.length===0?(i(),d("div",Fe,e[30]||(e[30]=[t("svg",{class:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("p",null,"No sales data available for the selected filters.",-1)]))):m("",!0)])])):m("",!0),!M.value&&!F.value?(i(),d("div",Ce,[ft(_t,{class:"max-h-[75vh] overflow-x-auto overflow-y-auto"},{default:Y(()=>[w.value.length>0?(i(),R(bt(K),{key:0,data:w.value,columns:it,class:"w-full relative display enhanced-table",options:dt},null,8,["data"])):(i(),d("div",Se,e[31]||(e[31]=[t("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("p",{class:"text-lg font-medium"},"No data available",-1),t("p",{class:"text-sm text-gray-400 mt-1"},"Try adjusting your filters or date range",-1)])))]),_:1})])):m("",!0)]),M.value?(i(),d("div",Te,[k.value?(i(),d("div",Me,[e[37]||(e[37]=t("div",{class:"px-4 py-2 border-b border-gray-200"},[t("p",{class:"text-sm font-medium text-gray-700"},"Export Data")],-1)),t("button",{onClick:ut,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center"},e[32]||(e[32]=[t("svg",{class:"h-4 w-4 mr-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),c(" Export CSV ")])),t("button",{onClick:W,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center"},e[33]||(e[33]=[t("svg",{class:"h-4 w-4 mr-3 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),c(" Export Excel ")])),t("button",{onClick:mt,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center"},e[34]||(e[34]=[t("svg",{class:"h-4 w-4 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),c(" Export PDF ")])),t("button",{onClick:ct,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center"},e[35]||(e[35]=[t("svg",{class:"h-4 w-4 mr-3 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),c(" Print Report ")])),e[38]||(e[38]=t("div",{class:"border-t border-gray-200 my-2"},null,-1)),t("button",{onClick:U,class:"w-full px-4 py-3 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center"},e[36]||(e[36]=[t("svg",{class:"h-4 w-4 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})],-1),c(" Clear All Filters ")]))])):m("",!0),t("button",{onClick:lt,class:ht(["bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg transition-all duration-200 ease-out transform hover:scale-105",{"rotate-45":k.value}])},[k.value?(i(),R(Ct,{key:1,class:"h-6 w-6"})):(i(),R(Ft,{key:0,class:"h-6 w-6"}))],2)])):m("",!0),k.value?(i(),d("div",{key:2,onClick:S,class:"fixed inset-0 bg-black bg-opacity-25 z-30"})):m("",!0),O.value&&r.value?(i(),d("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:q},[t("div",{class:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl",onClick:e[7]||(e[7]=$(()=>{},["stop"]))},[t("div",De,[t("div",{class:"flex justify-between items-start mb-6"},[e[40]||(e[40]=t("h3",{class:"text-xl font-bold text-gray-900"},"Transaction Details",-1)),t("button",{onClick:q,class:"text-gray-500 hover:text-gray-700 p-1"},e[39]||(e[39]=[t("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",Ae,[t("div",je,[e[45]||(e[45]=t("h4",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),c(" Basic Information ")],-1)),t("div",Ee,[t("div",Re,[e[41]||(e[41]=t("span",{class:"font-medium text-gray-600"},"Item:",-1)),t("span",Ve,n(r.value.itemname),1)]),t("div",Oe,[e[42]||(e[42]=t("span",{class:"font-medium text-gray-600"},"Store:",-1)),t("span",Ie,n(r.value.storename),1)]),t("div",Be,[e[43]||(e[43]=t("span",{class:"font-medium text-gray-600"},"Staff:",-1)),t("span",Le,n(r.value.staff),1)]),t("div",Pe,[e[44]||(e[44]=t("span",{class:"font-medium text-gray-600"},"Date & Time:",-1)),t("span",ze,n(r.value.createddate)+" "+n(r.value.timeonly),1)])])]),t("div",qe,[e[52]||(e[52]=t("h4",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),c(" Transaction Details ")],-1)),t("div",He,[t("div",Ue,[e[46]||(e[46]=t("span",{class:"font-medium text-gray-600"},"Transaction ID:",-1)),t("span",Ge,n(r.value.transactionid),1)]),t("div",We,[e[47]||(e[47]=t("span",{class:"font-medium text-gray-600"},"Receipt ID:",-1)),t("span",Ye,n(r.value.receiptid),1)]),t("div",$e,[e[48]||(e[48]=t("span",{class:"font-medium text-gray-600"},"Customer:",-1)),t("span",Qe,n(r.value.custaccount||"Walk-in Customer"),1)]),t("div",Je,[e[49]||(e[49]=t("span",{class:"font-medium text-gray-600"},"Item Group:",-1)),t("span",Ke,n(r.value.itemgroup),1)]),t("div",Xe,[e[50]||(e[50]=t("span",{class:"font-medium text-gray-600"},"Promo:",-1)),t("span",Ze,n(r.value.discofferid||"None"),1)]),t("div",ts,[e[51]||(e[51]=t("span",{class:"font-medium text-gray-600"},"Quantity:",-1)),t("span",es,n(Math.round(r.value.qty||0)),1)])])]),t("div",ss,[e[61]||(e[61]=t("h4",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})]),c(" Financial Details ")],-1)),t("div",as,[t("div",os,[e[53]||(e[53]=t("span",{class:"font-medium text-gray-600"},"Cost Price:",-1)),t("span",rs,"₱"+n(Number(r.value.total_costprice||0).toFixed(2)),1)]),t("div",ns,[e[54]||(e[54]=t("span",{class:"font-medium text-gray-600"},"Gross Amount:",-1)),t("span",ls,"₱"+n(Number(r.value.total_grossamount||0).toFixed(2)),1)]),t("div",is,[e[55]||(e[55]=t("span",{class:"font-medium text-gray-600"},"Cost Amount:",-1)),t("span",ds,"₱"+n(Number(r.value.total_costamount||0).toFixed(2)),1)]),t("div",us,[e[56]||(e[56]=t("span",{class:"font-medium text-gray-600"},"Discount Amount:",-1)),t("span",ms,"₱"+n(Number(r.value.total_discamount||0).toFixed(2)),1)]),t("div",cs,[e[57]||(e[57]=t("span",{class:"font-bold text-gray-700"},"Net Amount:",-1)),t("span",ps,"₱"+n(Number(r.value.total_netamount||0).toFixed(2)),1)]),t("div",xs,[e[58]||(e[58]=t("span",{class:"font-bold text-gray-700"},"Commission:",-1)),t("span",ys,"₱"+n(Number(r.value.commission||0).toFixed(2)),1)]),t("div",gs,[e[59]||(e[59]=t("span",{class:"font-medium text-gray-600"},"Vatable Sales:",-1)),t("span",fs,"₱"+n(Number(r.value.vatablesales||0).toFixed(2)),1)]),t("div",bs,[e[60]||(e[60]=t("span",{class:"font-medium text-gray-600"},"VAT:",-1)),t("span",hs,"₱"+n(Number(r.value.vat||0).toFixed(2)),1)])])]),t("div",vs,[e[73]||(e[73]=t("h4",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})]),c(" Payment Methods ")],-1)),t("div",ks,[Number(r.value.cash||0)>0?(i(),d("div",ws,[e[62]||(e[62]=t("span",{class:"font-medium text-gray-600"},"Cash:",-1)),t("span",_s,"₱"+n(Number(r.value.cash).toFixed(2)),1)])):m("",!0),Number(r.value.charge||0)>0?(i(),d("div",Ns,[e[63]||(e[63]=t("span",{class:"font-medium text-gray-600"},"Charge:",-1)),t("span",Fs,"₱"+n(Number(r.value.charge).toFixed(2)),1)])):m("",!0),Number(r.value.representation||0)>0?(i(),d("div",Cs,[e[64]||(e[64]=t("span",{class:"font-medium text-gray-600"},"Representation:",-1)),t("span",Ss,"₱"+n(Number(r.value.representation).toFixed(2)),1)])):m("",!0),Number(r.value.gcash||0)>0?(i(),d("div",Ts,[e[65]||(e[65]=t("span",{class:"font-medium text-gray-600"},"GCash:",-1)),t("span",Ms,"₱"+n(Number(r.value.gcash).toFixed(2)),1)])):m("",!0),Number(r.value.paymaya||0)>0?(i(),d("div",Ds,[e[66]||(e[66]=t("span",{class:"font-medium text-gray-600"},"PayMaya:",-1)),t("span",As,"₱"+n(Number(r.value.paymaya).toFixed(2)),1)])):m("",!0),Number(r.value.card||0)>0?(i(),d("div",js,[e[67]||(e[67]=t("span",{class:"font-medium text-gray-600"},"Card:",-1)),t("span",Es,"₱"+n(Number(r.value.card).toFixed(2)),1)])):m("",!0),Number(r.value.loyaltycard||0)>0?(i(),d("div",Rs,[e[68]||(e[68]=t("span",{class:"font-medium text-gray-600"},"Loyalty Card:",-1)),t("span",Vs,"₱"+n(Number(r.value.loyaltycard).toFixed(2)),1)])):m("",!0),Number(r.value.foodpanda||0)>0?(i(),d("div",Os,[e[69]||(e[69]=t("span",{class:"font-medium text-gray-600"},"FoodPanda:",-1)),t("span",Is,"₱"+n(Number(r.value.foodpanda).toFixed(2)),1)])):m("",!0),Number(r.value.grabfood||0)>0?(i(),d("div",Bs,[e[70]||(e[70]=t("span",{class:"font-medium text-gray-600"},"GrabFood:",-1)),t("span",Ls,"₱"+n(Number(r.value.grabfood).toFixed(2)),1)])):m("",!0),Number(r.value.mrktgdisc||0)>0?(i(),d("div",Ps,[e[71]||(e[71]=t("span",{class:"font-medium text-gray-600"},"Marketing Disc:",-1)),t("span",zs,"₱"+n(Number(r.value.mrktgdisc).toFixed(2)),1)])):m("",!0),Number(r.value.rddisc||0)>0?(i(),d("div",qs,[e[72]||(e[72]=t("span",{class:"font-medium text-gray-600"},"RD Disc:",-1)),t("span",Hs,"₱"+n(Number(r.value.rddisc).toFixed(2)),1)])):m("",!0)])]),Number(r.value.bw_products||0)>0||Number(r.value.merchandise||0)>0||Number(r.value.partycakes||0)>0?(i(),d("div",Us,[e[77]||(e[77]=t("h4",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})]),c(" Product Categories ")],-1)),t("div",Gs,[Number(r.value.bw_products||0)>0?(i(),d("div",Ws,[e[74]||(e[74]=t("span",{class:"font-medium text-gray-600"},"BW Products:",-1)),t("span",Ys,"₱"+n(Number(r.value.bw_products).toFixed(2)),1)])):m("",!0),Number(r.value.merchandise||0)>0?(i(),d("div",$s,[e[75]||(e[75]=t("span",{class:"font-medium text-gray-600"},"Merchandise:",-1)),t("span",Qs,"₱"+n(Number(r.value.merchandise).toFixed(2)),1)])):m("",!0),Number(r.value.partycakes||0)>0?(i(),d("div",Js,[e[76]||(e[76]=t("span",{class:"font-medium text-gray-600"},"Party Cakes:",-1)),t("span",Ks,"₱"+n(Number(r.value.partycakes).toFixed(2)),1)])):m("",!0)])])):m("",!0),r.value.remarks?(i(),d("div",Xs,[e[78]||(e[78]=t("h4",{class:"font-semibold text-gray-900 mb-2 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),c(" Notes ")],-1)),t("p",Zs,n(r.value.remarks),1)])):m("",!0)])])])])):m("",!0)]),_:1}))}},ba=St(ta,[["__scopeId","data-v-7c70c8b7"]]);export{ba as default};

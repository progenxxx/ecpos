import{C as k,Q as L,d as w,q as p,T as _,p as U,c as f,w as c,o as a,f as m,a as t,b as u,g as l,i as M,j as V,v as h,u as E,n as P,e as n,t as o,F as B,h as H}from"./app-BNPGhoL2.js";import{_ as Y,a as G}from"./Update-7MSkeTrO.js";import{_ as D}from"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-B6Xc1nH0.js";import{_ as F}from"./TransparentButton-DNYsCaht.js";import{S as $}from"./SearchColored-CHmHwtyG.js";import{B as j}from"./Back-BFtAAhoj.js";import{_ as K}from"./AdminPanel-C3by1daL.js";import"./Modal-k3aPgSoE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputError-AsoMIJ7j.js";import"./FormComponent-k5Mz26hM.js";import"./RetailGroup-afsdHTlZ.js";import"./Logout-B5n2G0rZ.js";/* empty css                                                             */import"./RetailItems-BzVTUMDz.js";import"./Attendance-D3nGk9-s.js";const Q={class:"absolute adjust"},q={class:"flex justify-start items-center"},z=["value"],J={"date-rangepicker":"",class:"flex items-center"},W={class:"relative ml-5"},X=["placeholder"],Z={role:"tablist",class:"tabs tabs-lifted mt-10 p-5"},tt={role:"tabpanel",class:"tab-content bg-base-100 border-base-200 p-6 h-[85vh] overflow-y-auto"},rt={key:0,class:"col-span-full text-center mt-8"},et={key:1,class:"col-span-full text-center mt-8"},st={class:"text-red-600 text-lg"},ot={key:2,class:"col-span-full text-center mt-8"},lt={key:3,class:"max-w-4xl mx-auto p-4 bg-white shadow-lg text-xs"},at={class:"w-full border-collapse border border-gray-400"},dt={colspan:"2",class:"border border-gray-400 p-1"},nt={class:"font-bold"},it={colspan:"3",class:"border border-gray-400 p-1"},bt={class:"font-bold"},pt={class:"border border-gray-400 p-1"},ut={class:"border border-gray-400 p-1 text-center"},gt={class:"border border-gray-400 p-1 text-center"},ct={class:"border border-gray-400 p-1 text-right"},mt={class:"border border-gray-400 p-1 text-right"},Et={class:"border border-gray-400 p-1 text-right font-bold"},yt={key:0},vt={key:1},Tt={class:"border border-gray-400 p-1 text-center"},ft={class:"border border-gray-400 p-1 text-center"},Ct={class:"border border-gray-400 p-1 text-right"},Dt={class:"border border-gray-400 p-1 text-right"},It={key:2},At={class:"border border-gray-400 p-1 text-right font-bold"},St={colspan:"3",class:"border border-gray-400 p-1"},xt={class:"font-bold"},Nt={colspan:"3",class:"border border-gray-400 p-1"},Rt={class:"font-bold"},Kt={__name:"finaldr copy",setup(Ot){k.defaults.headers.common["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content");const I=L(),y=w(Object.entries(I.props.groupedPicklist).reduce((e,[r,g])=>(e[r]=g.map(s=>({...s,actual:s.ACTUAL})),e),{})),d=p(()=>{const e=Object.values(y.value)[0];return e||[]}),A=e=>new Date(e).toLocaleDateString(),i=_({StartDate:"2024-07-22",StoreName:"Urdaneta2"}),C=()=>{i.get(route("picklist.getrange"),{preserveState:!0,preserveScroll:!0})},v=p(()=>{const e=i.StartDate;if(e){const r=new Date(e),g=r.getFullYear(),s=String(r.getMonth()+1).padStart(2,"0"),O=String(r.getDate()).padStart(2,"0");return`${g}-${s}-${O}`}return""}),S=p(()=>d.value.reduce((e,r)=>e+Number(r.COST||0)*Number(r.CHECKINGCOUNT||0),0)),T=p(()=>d.value.some(e=>Number(e.SPECIALORDER||0)>0)),b=p(()=>d.value.find(e=>Number(e.SPECIALORDER||0)>0)||{}),x=p(()=>Number(b.value.COST||0)*Number(b.value.SPECIALORDER||0)),N=()=>{},R=()=>{window.location.href="/mgcount"};return(e,r)=>{const g=U("InputError");return a(),f(K,{"active-tab":"FINALDR"},{modals:c(()=>[e.showCreateModal?(a(),f(Y,{key:0,onToggleActive:e.createModalHandler},null,8,["onToggleActive"])):m("",!0),e.showModalUpdate?(a(),f(G,{key:1,ID:e.id,SUBJECT:e.subject,DESCRIPTION:e.description,onToggleActive:e.updateModalHandler},null,8,["ID","SUBJECT","DESCRIPTION","onToggleActive"])):m("",!0)]),main:c(()=>[t("div",Q,[t("div",q,[u(D,{type:"button",onClick:R,class:"m-1 ml-2 bg-navy p-10"},{default:c(()=>[u(j,{class:"h-5"})]),_:1}),u(D,{type:"button",onClick:N,class:"bg-navy"},{default:c(()=>r[2]||(r[2]=[l(" PRINT DR ")])),_:1}),t("form",{onSubmit:M(C,["prevent"]),class:"px-2 py-3 max-h-[50vh] lg:max-h-[70vh] overflow-y-auto"},[t("input",{type:"hidden",name:"_token",value:e.$page.props.csrf_token},null,8,z),t("div",J,[t("div",W,[r[3]||(r[3]=t("div",{class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},[t("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})])],-1)),V(t("input",{id:"StartDate",type:"date","onUpdate:modelValue":r[0]||(r[0]=s=>E(i).StartDate=s),onInput:r[1]||(r[1]=(...s)=>v.value&&v.value(...s)),placeholder:v.value,class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,40,X),[[h,E(i).StartDate]]),u(g,{message:E(i).errors.StartDate,class:"mt-2"},null,8,["message"])])])],32),u(F,{type:"submit",onClick:C,disabled:E(i).processing,class:P({"opacity-25":E(i).processing})},{default:c(()=>[u($,{class:"h-8"})]),_:1},8,["disabled","class"])])]),t("div",Z,[r[32]||(r[32]=t("input",{type:"radio",name:"my_tabs_2",role:"tab",class:"tab","aria-label":"FINAL DR"},null,-1)),t("div",tt,[e.isLoading?(a(),n("div",rt,r[4]||(r[4]=[t("p",{class:"text-gray-600 text-lg"},"Loading...",-1)]))):e.error?(a(),n("div",et,[t("p",st,o(e.error),1)])):!y.value||Object.keys(y.value).length===0?(a(),n("div",ot,r[5]||(r[5]=[t("div",{class:"bg-white rounded-lg shadow-md p-4 sm:p-8 max-w-sm mx-auto"},[t("p",{class:"text-gray-600 text-base sm:text-lg"},"No DR2 List Available")],-1)]))):(a(),n("div",lt,[t("table",at,[r[28]||(r[28]=t("tr",null,[t("td",{colspan:"6",class:"text-center font-bold text-lg border border-gray-400 p-1"},[l(" MALIWALO"),t("br"),l(" TARLAC CITY ")])],-1)),t("tr",null,[r[8]||(r[8]=t("td",{colspan:"4",class:"font-bold border border-gray-400 p-1"},[l("DELIVERY GOODS RECEIPT"),t("br"),l("BW PRODUCT")],-1)),t("td",dt,[r[6]||(r[6]=l(" DR #: ")),t("span",nt,o(d.value[0].JOURNALID),1),r[7]||(r[7]=t("br",null,null,-1)),l(" DELIVERY DATE: "+o(A(d.value[0].DELIVERYDATE)),1)])]),t("tr",null,[r[11]||(r[11]=t("td",{colspan:"3",class:"border border-gray-400 p-1"},[l("RECEIVED FROM:"),t("br"),t("span",{class:"font-bold"},"HEADOFFICE")],-1)),t("td",it,[r[9]||(r[9]=l("DELIVERED TO:")),r[10]||(r[10]=t("br",null,null,-1)),t("span",bt,o(d.value[0].STORENAME),1)])]),r[29]||(r[29]=t("tr",{class:"bg-gray-200 font-bold"},[t("td",{class:"border border-gray-400 p-1"},"PRODUCT DESCRIPTION"),t("td",{class:"border border-gray-400 p-1 text-center"},"DELIVERED QUANTITY"),t("td",{class:"border border-gray-400 p-1 text-center"},"RECEIVED QUANTITY"),t("td",{class:"border border-gray-400 p-1 text-center"},"VARIANCE"),t("td",{class:"border border-gray-400 p-1 text-right"},"UNIT COST"),t("td",{class:"border border-gray-400 p-1 text-right"},"TOTAL")],-1)),(a(!0),n(B,null,H(d.value,s=>(a(),n("tr",{key:s.ITEMID},[t("td",pt,o(s.ITEMNAME),1),t("td",ut,o(s.CHECKINGCOUNT),1),r[12]||(r[12]=t("td",{class:"border border-gray-400 p-1 text-center"},"0",-1)),t("td",gt,o(s.ACTUAL-s.CHECKINGCOUNT),1),t("td",ct,o(s.COST),1),t("td",mt,o(s.COST*s.CHECKINGCOUNT),1)]))),128)),t("tr",null,[r[13]||(r[13]=t("td",{colspan:"5",class:"border border-gray-400 p-1 text-right font-bold"},"TOTAL",-1)),t("td",Et,o(S.value),1)]),T.value?(a(),n("tr",yt,r[14]||(r[14]=[t("td",{class:"border border-gray-400 p-1"},"PROMO",-1),t("td",{class:"border border-gray-400 p-1 text-center"},"DELIVERED QUANTITY",-1),t("td",{class:"border border-gray-400 p-1 text-center"},"RECEIVED QUANTITY",-1),t("td",{class:"border border-gray-400 p-1 text-center"},"VARIANCE",-1),t("td",{class:"border border-gray-400 p-1 text-right"},"UNIT COST",-1),t("td",{class:"border border-gray-400 p-1 text-right"},"AMOUNT",-1)]))):m("",!0),T.value?(a(),n("tr",vt,[t("td",Tt,o(b.value.ITEMNAME),1),t("td",ft,o(b.value.COUNTED),1),r[15]||(r[15]=t("td",{class:"border border-gray-400 p-1 text-center"},"0",-1)),r[16]||(r[16]=t("td",{class:"border border-gray-400 p-1"},"0",-1)),t("td",Ct,o(b.value.COST),1),t("td",Dt,o(b.value.COST*b.value.SPECIALORDER),1)])):m("",!0),T.value?(a(),n("tr",It,[r[17]||(r[17]=t("td",{colspan:"5",class:"border border-gray-400 p-1 text-right font-bold"},"TOTAL",-1)),t("td",At,o(x.value),1)])):m("",!0),t("tr",null,[t("td",St,[r[18]||(r[18]=l(" ENDORSED BY:DISPATCHING")),r[19]||(r[19]=t("br",null,null,-1)),t("span",xt,o(d.value[0].DISPATCHER),1),r[20]||(r[20]=t("br",null,null,-1)),r[21]||(r[21]=l(" BREADS/CAKES")),r[22]||(r[22]=t("br",null,null,-1)),r[23]||(r[23]=l(" NAME & SIGNATURE/ DATE "))]),t("td",Nt,[t("span",Rt,o(d.value[0].LOGISTICS),1),r[24]||(r[24]=t("br",null,null,-1)),r[25]||(r[25]=l(" DELIVERED BY:LOGISTICS")),r[26]||(r[26]=t("br",null,null,-1)),r[27]||(r[27]=l(" NAME & SIGNATURE/ DATE "))])]),r[30]||(r[30]=t("tr",null,[t("td",{colspan:"6",class:"border border-gray-400 p-1 font-bold"},"CRATES QUANTITY DELIVERED")],-1)),r[31]||(r[31]=t("tr",null,[t("td",{colspan:"2",class:"border border-gray-400 p-1"},"ORANGE CRATES"),t("td",{colspan:"2",class:"border border-gray-400 p-1"},"BLUE CRATES"),t("td",{colspan:"2",class:"border border-gray-400 p-1"},"EMPANADA CRATES")],-1))])]))])])]),_:1})}}};export{Kt as default};

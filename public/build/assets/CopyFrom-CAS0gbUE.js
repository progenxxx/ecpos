import{T as N,d as c,s as O,k as U,l as R,o as b,c as _,w as m,a as t,i as J,b as l,u as s,j as V,v as C,e as h,F as B,h as F,t as M,f as T,n as x,g as k}from"./app-BNibTCyr.js";import{M as S}from"./Modal-BIe7acJJ.js";import{_ as E}from"./Modal.vue_vue_type_style_index_0_scoped_fd08cd24_lang-BwnXT4mO.js";import{_ as D,a as L,b as y}from"./InputError-BDSk7YPd.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"grid grid-cols-3 gap-4 h-full"},z={class:"col-span-3"},P={class:"col-span-3"},Q={key:0,class:"absolute w-full mt-1 !bg-white border rounded-md shadow-lg max-h-60 overflow-auto z-10"},W=["onMousedown"],j={class:"col-span-3"},H={__name:"Create",props:{showModal:Boolean,JOURNALID:String,items:{type:Array,required:!0}},emits:["toggleActive"],setup(p,{emit:A}){const I=A,i=p,e=N({JOURNALID:"",itemname:"",qty:"",unitid:""}),g=c(""),r=c(!1),f=c(null),a=O(()=>i.items.filter(v=>v.itemname.toLowerCase().includes(g.value.toLowerCase())));function o(v){f.value=v,g.value=v.itemname,e.itemname=v.itemid,r.value=!1}function n(){setTimeout(()=>{r.value=!1},100)}const w=()=>{e.post("/ReceivedItems",{preserveScroll:!0,onSuccess:()=>{e.reset(),location.reload()}})},$=()=>{I("toggleActive")};return U(()=>{e.JOURNALID=i.JOURNALID,R(()=>i.JOURNALID,v=>{e.JOURNALID=v})}),(v,u)=>(b(),_(S,{title:"RECEIVED ORDER ENTRIES",onToggleActive:$,"show-modal":p.showModal},{content:m(()=>[t("form",{onSubmit:J(w,["prevent"]),class:"px-2 py-3 max-h-[50vh] lg:max-h-[70vh] overflow-y-auto"},[t("div",G,[t("div",z,[l(D,{for:"JOURNALID",value:"JOURNALID"}),l(L,{id:"JOURNALID",modelValue:s(e).JOURNALID,"onUpdate:modelValue":u[0]||(u[0]=d=>s(e).JOURNALID=d),type:"text",class:"mt-1 block w-full input !bg-white !text-black","is-error":!!s(e).errors.JOURNALID,autofocus:"",disabled:""},null,8,["modelValue","is-error"]),l(y,{message:s(e).errors.JOURNALID,class:"mt-2"},null,8,["message"])]),t("div",P,[l(D,{for:"itemname",value:"ITEMNAME"}),V(t("input",{type:"text","onUpdate:modelValue":u[1]||(u[1]=d=>g.value=d),onFocus:u[2]||(u[2]=d=>r.value=!0),onBlur:n,placeholder:"Search items...",class:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[C,g.value]]),r.value?(b(),h("div",Q,[(b(!0),h(B,null,F(a.value,d=>(b(),h("div",{key:d.itemid,onMousedown:re=>o(d),class:"px-4 py-2 cursor-pointer hover:bg-gray-100"},M(d.itemname),41,W))),128))])):T("",!0),l(y,{message:s(e).errors.itemname,class:"mt-2"},null,8,["message"])]),t("div",j,[l(D,{for:"qty",value:"QTY"}),l(L,{id:"qty",modelValue:s(e).qty,"onUpdate:modelValue":u[3]||(u[3]=d=>s(e).qty=d),type:"number",class:"mt-1 block w-full",required:"",autocomplete:"qty"},null,8,["modelValue"]),l(y,{message:s(e).errors.qty,class:"mt-2"},null,8,["message"])])])],32)]),buttons:m(()=>[l(E,{type:"submit",onClick:w,disabled:s(e).processing,class:x({"opacity-25":s(e).processing})},{default:m(()=>u[4]||(u[4]=[k(" SUBMIT ")])),_:1},8,["disabled","class"])]),_:1},8,["show-modal"]))}},ce=q(H,[["__scopeId","data-v-e4a38304"]]),Y={key:0,class:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 z-50"},K={class:"grid grid-cols-3 gap-4 h-full"},X={class:"col-span-3"},Z={__name:"GetBWP",props:{showModal:Boolean,receivedordertrans:{type:Array,required:!1},JOURNALID:String,items:{type:Array,required:!0}},emits:["toggleActive"],setup(p,{emit:A}){const I=A,i=p,e=N({JOURNALID:"",itemname:"",qty:"",unitid:""}),g=c("");c(!1),c(null);const r=c(!1);O(()=>i.items.filter(o=>o.itemname.toLowerCase().includes(g.value.toLowerCase())));const f=()=>{console.log("Submitting form..."),r.value=!0,e.patch("/StockCountingLine/getbwproducts",{preserveScroll:!0,onSuccess:()=>{console.log("Form submission successful."),r.value=!1,a()},onError:o=>{console.error("Form submission error:",o),r.value=!1}})},a=()=>{I("toggleActive")};return U(()=>{e.JOURNALID=i.JOURNALID,R(()=>i.JOURNALID,o=>{e.JOURNALID=o})}),(o,n)=>(b(),_(S,{title:"GET BW PRODUCTS",onToggleActive:a,"show-modal":p.showModal},{content:m(()=>[t("form",{onSubmit:J(f,["prevent"]),class:"px-2 py-3 max-h-[50vh] lg:max-h-[70vh] overflow-y-auto"},[r.value?(b(),h("div",Y,n[1]||(n[1]=[t("div",{class:"spinner"},null,-1)]))):T("",!0),t("div",K,[t("div",X,[l(D,{for:"INFO",value:"Generate ID NO:"}),l(L,{id:"JOURNALID",modelValue:s(e).JOURNALID,"onUpdate:modelValue":n[0]||(n[0]=w=>s(e).JOURNALID=w),type:"text",class:"mt-1 block w-full input !bg-gray-100 !text-black","is-error":!!s(e).errors.JOURNALID,autofocus:"",disabled:""},null,8,["modelValue","is-error"]),l(y,{message:s(e).errors.JOURNALID,class:"mt-2"},null,8,["message"])])])],32)]),buttons:m(()=>[l(E,{type:"submit",onClick:f,disabled:s(e).processing||r.value,class:x({"opacity-25":s(e).processing||r.value})},{default:m(()=>[k(M(r.value?"Loading...":"GET ITEMS"),1)]),_:1},8,["disabled","class"])]),_:1},8,["show-modal"]))}},me=q(Z,[["__scopeId","data-v-a44ae6e4"]]),ee={class:"grid grid-cols-3 gap-4 h-full"},se={class:"col-span-3"},oe={class:"col-span-3"},te={class:"relative"},le=["placeholder"],pe={__name:"CopyFrom",props:{showModal:Boolean,inventjournaltransrepos:{type:Array,required:!1},JOURNALID:String,items:{type:Array,required:!0}},emits:["toggleActive"],setup(p,{emit:A}){const I=A,i=p,e=N({JOURNALID:"",itemname:"",qty:"",unitid:"",EndDate:""}),g=c("");c(!1),c(null),O(()=>i.items.filter(a=>a.itemname.toLowerCase().includes(g.value.toLowerCase())));const r=()=>{console.log("Submitting form..."),e.patch("/ItemOrders/getbwproducts",{preserveScroll:!0,onSuccess:()=>{console.log("Form submission successful."),f()},onError:a=>{console.error("Form submission error:",a)}})},f=()=>{I("toggleActive")};return U(()=>{e.JOURNALID=i.JOURNALID,R(()=>i.JOURNALID,a=>{e.JOURNALID=a})}),(a,o)=>(b(),_(S,{title:"GET BW PRODUCTS",onToggleActive:f,"show-modal":p.showModal},{content:m(()=>[t("form",{onSubmit:J(r,["prevent"]),class:"px-2 py-3 max-h-[50vh] lg:max-h-[70vh] overflow-y-auto"},[t("div",ee,[t("div",se,[l(D,{for:"INFO",value:"Generate ID NO:"}),l(L,{id:"JOURNALID",modelValue:s(e).JOURNALID,"onUpdate:modelValue":o[0]||(o[0]=n=>s(e).JOURNALID=n),type:"text",class:"mt-1 block w-full input","is-error":!!s(e).errors.JOURNALID,autofocus:"",disabled:""},null,8,["modelValue","is-error"]),l(y,{message:s(e).errors.JOURNALID,class:"mt-2"},null,8,["message"])]),t("div",oe,[t("div",te,[o[3]||(o[3]=t("div",{class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},[t("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})])],-1)),V(t("input",{id:"EndDate",type:"date","onUpdate:modelValue":o[1]||(o[1]=n=>s(e).EndDate=n),onInput:o[2]||(o[2]=(...n)=>a.formattedDate2&&a.formattedDate2(...n)),placeholder:a.formattedDate2,class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,40,le),[[C,s(e).EndDate]]),l(y,{message:s(e).errors.EndDate,class:"mt-2"},null,8,["message"])])])])],32)]),buttons:m(()=>[l(E,{type:"submit",onClick:r,disabled:s(e).processing,class:x({"opacity-25":s(e).processing})},{default:m(()=>o[4]||(o[4]=[k(" GET ITEMS ")])),_:1},8,["disabled","class"])]),_:1},8,["show-modal"]))}};export{ce as C,me as G,pe as _};
